var e,t,n,r,s,i,a,o,l,c,u,d,h,m,p,f,g,v,y,x,b,w,k,j,N,_,S,E,T,C,I,A,P,R,D,O,z,M,L,U,F,V=e=>{throw TypeError(e)},B=(e,t,n)=>t.has(e)||V("Cannot "+n),q=(e,t,n)=>(B(e,t,"read from private field"),n?n.call(e):t.get(e)),K=(e,t,n)=>t.has(e)?V("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,r)=>(B(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$=(e,t,n)=>(B(e,t,"access private method"),n),G=(e,t,n,r)=>({set _(r){H(e,t,r,n)},get _(){return q(e,t,r)}});import{j as W,_ as Q,S as J,c as Y,a as Z,R as X,P as ee,I as te,b as ne,d as re,u as se,e as ie,f as ae,O as oe,g as le,C as ce,h as ue,T as de,D as he,i as me,k as pe,l as fe,L as ge,m as ve,n as ye,V as xe,o as be,p as we,q as ke,r as je,s as Ne,t as _e,v as Se,w as Ee,x as Te,y as Ce,z as Ie,A as Ae,B as Pe,E as Re,F as De,G as Oe,H as ze,J as Me,K as Le,M as Ue,N as Fe,Q as Ve,U as Be,W as qe,X as Ke,Y as He,Z as $e,$ as Ge,a0 as We,a1 as Qe,a2 as Je,a3 as Ye,a4 as Ze,a5 as Xe}from"./ui-MZ0yPnQR.js";import{b as et,R as tt,c as nt,r as rt,L as st,u as it,d as at,g as ot,e as lt,f as ct,h as ut,N as dt,B as ht,i as mt,j as pt}from"./vendor-Cgjbtgz0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ft={},gt=et;ft.createRoot=gt.createRoot,ft.hydrateRoot=gt.hydrateRoot;const vt=Array(12).fill(0),yt=({visible:e,className:t})=>tt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},tt.createElement("div",{className:"sonner-spinner"},vt.map(((e,t)=>tt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),xt=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bt=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wt=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kt=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jt=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},tt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),tt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Nt=1;const _t=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Nt++,i=this.toasts.find((e=>e.id===s)),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map((t=>t.id===s?(this.publish({...t,...e,id:s,title:n}),{...t,...e,id:s,dismissible:a,title:n}):t)):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame((()=>this.subscribers.forEach((t=>t({id:e,dismiss:!0})))))):this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s,i=void 0!==n;const a=r.then((async e=>{s=["resolve",e];if(tt.isValidElement(e))i=!1,this.create({id:n,type:"default",message:e});else if(St(e)&&!e.ok){i=!1;const r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,a="object"==typeof r&&!tt.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...a})}else if(e instanceof Error){i=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof r&&!tt.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...a})}else if(void 0!==t.success){i=!1;const r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof r&&!tt.isValidElement(r)?r:{message:r};this.create({id:n,type:"success",description:s,...a})}})).catch((async e=>{if(s=["reject",e],void 0!==t.error){i=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof r&&!tt.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...a})}})).finally((()=>{i&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)})),o=()=>new Promise(((e,t)=>a.then((()=>"reject"===s[0]?t(s[1]):e(s[1]))).catch(t)));return"string"!=typeof n&&"number"!=typeof n?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||Nt++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},St=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Et=(e,t)=>{const n=(null==t?void 0:t.id)||Nt++;return _t.addToast({title:e,...t,id:n}),n},Tt=Object.assign(Et,{success:_t.success,info:_t.info,warning:_t.warning,error:_t.error,custom:_t.custom,message:_t.message,promise:_t.promise,dismiss:_t.dismiss,loading:_t.loading},{getHistory:()=>_t.toasts,getToasts:()=>_t.getActiveToasts()});function Ct(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const It=3,At=14;function Pt(...e){return e.filter(Boolean).join(" ")}const Rt=e=>{var t,n,r,s,i,a,o,l,c;const{invert:u,toast:d,unstyled:h,interacting:m,setHeights:p,visibleToasts:f,heights:g,index:v,toasts:y,expanded:x,removeToast:b,defaultRichColors:w,closeButton:k,style:j,cancelButtonStyle:N,actionButtonStyle:_,className:S="",descriptionClassName:E="",duration:T,position:C,gap:I,expandByDefault:A,classNames:P,icons:R,closeButtonAriaLabel:D="Close toast"}=e,[O,z]=tt.useState(null),[M,L]=tt.useState(null),[U,F]=tt.useState(!1),[V,B]=tt.useState(!1),[q,K]=tt.useState(!1),[H,$]=tt.useState(!1),[G,W]=tt.useState(!1),[Q,J]=tt.useState(0),[Y,Z]=tt.useState(0),X=tt.useRef(d.duration||T||4e3),ee=tt.useRef(null),te=tt.useRef(null),ne=0===v,re=v+1<=f,se=d.type,ie=!1!==d.dismissible,ae=d.className||"",oe=d.descriptionClassName||"",le=tt.useMemo((()=>g.findIndex((e=>e.toastId===d.id))||0),[g,d.id]),ce=tt.useMemo((()=>{var e;return null!=(e=d.closeButton)?e:k}),[d.closeButton,k]),ue=tt.useMemo((()=>d.duration||T||4e3),[d.duration,T]),de=tt.useRef(0),he=tt.useRef(0),me=tt.useRef(0),pe=tt.useRef(null),[fe,ge]=C.split("-"),ve=tt.useMemo((()=>g.reduce(((e,t,n)=>n>=le?e:e+t.height),0)),[g,le]),ye=(()=>{const[e,t]=tt.useState(document.hidden);return tt.useEffect((()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),xe=d.invert||u,be="loading"===se;he.current=tt.useMemo((()=>le*I+ve),[le,ve]),tt.useEffect((()=>{X.current=ue}),[ue]),tt.useEffect((()=>{F(!0)}),[]),tt.useEffect((()=>{const e=te.current;if(e){const t=e.getBoundingClientRect().height;return Z(t),p((e=>[{toastId:d.id,height:t,position:d.position},...e])),()=>p((e=>e.filter((e=>e.toastId!==d.id))))}}),[p,d.id]),tt.useLayoutEffect((()=>{if(!U)return;const e=te.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,Z(n),p((e=>e.find((e=>e.toastId===d.id))?e.map((e=>e.toastId===d.id?{...e,height:n}:e)):[{toastId:d.id,height:n,position:d.position},...e]))}),[U,d.title,d.description,p,d.id]);const we=tt.useCallback((()=>{B(!0),J(he.current),p((e=>e.filter((e=>e.toastId!==d.id)))),setTimeout((()=>{b(d)}),200)}),[d,b,p,he]);tt.useEffect((()=>{if(d.promise&&"loading"===se||d.duration===1/0||"loading"===d.type)return;let e;return x||m||ye?(()=>{if(me.current<de.current){const e=(new Date).getTime()-de.current;X.current=X.current-e}me.current=(new Date).getTime()})():X.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout((()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),we()}),X.current)),()=>clearTimeout(e)}),[x,m,d,se,ye,we]),tt.useEffect((()=>{d.delete&&we()}),[we,d.delete]);const ke=d.icon||(null==R?void 0:R[se])||(e=>{switch(e){case"success":return xt;case"info":return wt;case"warning":return bt;case"error":return kt;default:return null}})(se);var je,Ne,_e,Se;return tt.createElement("li",{tabIndex:0,ref:te,className:Pt(S,ae,null==P?void 0:P.toast,null==d||null==(t=d.classNames)?void 0:t.toast,null==P?void 0:P.default,null==P?void 0:P[se],null==d||null==(n=d.classNames)?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":null!=(je=d.richColors)?je:w,"data-styled":!Boolean(d.jsx||d.unstyled||h),"data-mounted":U,"data-promise":Boolean(d.promise),"data-swiped":G,"data-removed":V,"data-visible":re,"data-y-position":fe,"data-x-position":ge,"data-index":v,"data-front":ne,"data-swiping":q,"data-dismissible":ie,"data-type":se,"data-invert":xe,"data-swipe-out":H,"data-swipe-direction":M,"data-expanded":Boolean(x||A&&U),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${V?Q:he.current}px`,"--initial-height":A?"auto":`${Y}px`,...j,...d.style},onDragEnd:()=>{K(!1),z(null),pe.current=null},onPointerDown:e=>{!be&&ie&&(ee.current=new Date,J(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(K(!0),pe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(H||!ie)return;pe.current=null;const r=Number((null==(e=te.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=te.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(n=ee.current)?void 0:n.getTime()),a="x"===O?r:s,o=Math.abs(a)/i;if(Math.abs(a)>=45||o>.11)return J(he.current),null==d.onDismiss||d.onDismiss.call(d,d),L("x"===O?r>0?"right":"left":s>0?"down":"up"),we(),void $(!0);var l,c;null==(l=te.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=te.current)||c.style.setProperty("--swipe-amount-y","0px"),W(!1),K(!1),z(null)},onPointerMove:t=>{var n,r,s;if(!pe.current||!ie)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const i=t.clientY-pe.current.y,a=t.clientX-pe.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(C);!O&&(Math.abs(a)>1||Math.abs(i)>1)&&z(Math.abs(a)>Math.abs(i)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===O){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&i<0||l.includes("bottom")&&i>0)c.y=i;else{const e=i*u(i);c.y=Math.abs(e)<Math.abs(i)?e:i}}else if("x"===O&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{const e=a*u(a);c.x=Math.abs(e)<Math.abs(a)?e:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&W(!0),null==(r=te.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=te.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ce&&!d.jsx&&"loading"!==se?tt.createElement("button",{"aria-label":D,"data-disabled":be,"data-close-button":!0,onClick:be||!ie?()=>{}:()=>{we(),null==d.onDismiss||d.onDismiss.call(d,d)},className:Pt(null==P?void 0:P.closeButton,null==d||null==(r=d.classNames)?void 0:r.closeButton)},null!=(Ne=null==R?void 0:R.close)?Ne:jt):null,(se||d.icon||d.promise)&&null!==d.icon&&(null!==(null==R?void 0:R[se])||d.icon)?tt.createElement("div",{"data-icon":"",className:Pt(null==P?void 0:P.icon,null==d||null==(s=d.classNames)?void 0:s.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||((null==R?void 0:R.loading)?tt.createElement("div",{className:Pt(null==P?void 0:P.loader,null==d||null==(Se=d.classNames)?void 0:Se.loader,"sonner-loader"),"data-visible":"loading"===se},R.loading):tt.createElement(yt,{className:Pt(null==P?void 0:P.loader,null==d||null==(_e=d.classNames)?void 0:_e.loader),visible:"loading"===se})):null,"loading"!==d.type?ke:null):null,tt.createElement("div",{"data-content":"",className:Pt(null==P?void 0:P.content,null==d||null==(i=d.classNames)?void 0:i.content)},tt.createElement("div",{"data-title":"",className:Pt(null==P?void 0:P.title,null==d||null==(a=d.classNames)?void 0:a.title)},d.jsx?d.jsx:"function"==typeof d.title?d.title():d.title),d.description?tt.createElement("div",{"data-description":"",className:Pt(E,oe,null==P?void 0:P.description,null==d||null==(o=d.classNames)?void 0:o.description)},"function"==typeof d.description?d.description():d.description):null),tt.isValidElement(d.cancel)?d.cancel:d.cancel&&Ct(d.cancel)?tt.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:e=>{Ct(d.cancel)&&ie&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,e),we())},className:Pt(null==P?void 0:P.cancelButton,null==d||null==(l=d.classNames)?void 0:l.cancelButton)},d.cancel.label):null,tt.isValidElement(d.action)?d.action:d.action&&Ct(d.action)?tt.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||_,onClick:e=>{Ct(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,e),e.defaultPrevented||we())},className:Pt(null==P?void 0:P.actionButton,null==d||null==(c=d.classNames)?void 0:c.actionButton)},d.action.label):null)};function Dt(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ot(e,t){const n={};return[e,t].forEach(((e,t)=>{const r=1===t,s=r?"--mobile-offset":"--offset",i=r?"16px":"24px";function a(e){["top","right","bottom","left"].forEach((t=>{n[`${s}-${t}`]="number"==typeof e?`${e}px`:e}))}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach((t=>{void 0===e[t]?n[`${s}-${t}`]=i:n[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]})):a(i)})),n}const zt=tt.forwardRef((function(e,t){const{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:p=It,toastOptions:f,dir:g=Dt(),gap:v=At,icons:y,containerAriaLabel:x="Notifications"}=e,[b,w]=tt.useState([]),k=tt.useMemo((()=>Array.from(new Set([r].concat(b.filter((e=>e.position)).map((e=>e.position)))))),[b,r]),[j,N]=tt.useState([]),[_,S]=tt.useState(!1),[E,T]=tt.useState(!1),[C,I]=tt.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=tt.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=tt.useRef(null),D=tt.useRef(!1),O=tt.useCallback((e=>{w((t=>{var n;return(null==(n=t.find((t=>t.id===e.id)))?void 0:n.delete)||_t.dismiss(e.id),t.filter((({id:t})=>t!==e.id))}))}),[]);return tt.useEffect((()=>_t.subscribe((e=>{e.dismiss?requestAnimationFrame((()=>{w((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t))))})):setTimeout((()=>{nt.flushSync((()=>{w((t=>{const n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[b]),tt.useEffect((()=>{if("system"!==u)return void I(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",(({matches:e})=>{I(e?"dark":"light")}))}catch(t){e.addListener((({matches:e})=>{try{I(e?"dark":"light")}catch(t){}}))}}),[u]),tt.useEffect((()=>{b.length<=1&&S(!1)}),[b]),tt.useEffect((()=>{const e=e=>{var t;var n;s.every((t=>e[t]||e.code===t))&&(S(!0),null==(n=A.current)||n.focus());"Escape"!==e.code||document.activeElement!==A.current&&!(null==(t=A.current)?void 0:t.contains(document.activeElement))||S(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[s]),tt.useEffect((()=>{if(A.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}}),[A.current]),tt.createElement("section",{ref:t,"aria-label":`${x} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map(((t,r)=>{var s;const[u,x]=t.split("-");return b.length?tt.createElement("ol",{key:t,dir:"auto"===g?Dt():g,tabIndex:-1,ref:A,className:o,"data-sonner-toaster":!0,"data-sonner-theme":C,"data-y-position":u,"data-lifted":_&&b.length>1&&!i,"data-x-position":x,style:{"--front-toast-height":`${(null==(s=j[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${v}px`,...m,...Ot(l,c)},onBlur:e=>{D.current&&!e.currentTarget.contains(e.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D.current||(D.current=!0,R.current=e.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{E||S(!1)},onDragEnd:()=>S(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T(!0)},onPointerUp:()=>T(!1)},b.filter((e=>!e.position&&0===r||e.position===t)).map(((r,s)=>{var o,l;return tt.createElement(Rt,{key:r.id,icons:y,index:s,toast:r,defaultRichColors:d,duration:null!=(o=null==f?void 0:f.duration)?o:h,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:n,visibleToasts:p,closeButton:null!=(l=null==f?void 0:f.closeButton)?l:a,interacting:E,position:t,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,closeButtonAriaLabel:null==f?void 0:f.closeButtonAriaLabel,removeToast:O,toasts:b.filter((e=>e.position==r.position)),heights:j.filter((e=>e.position==r.position)),setHeights:N,expandByDefault:i,gap:v,expanded:_,swipeDirections:e.swipeDirections})}))):null})))}));var Mt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lt="undefined"==typeof window||"Deno"in globalThis;function Ut(){}function Ft(e,t){return"function"==typeof e?e(t):e}function Vt(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a)if(r){if(t.queryHash!==qt(a,t.options))return!1}else if(!Ht(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(i&&!i(t)))}function Bt(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Kt(t.options.mutationKey)!==Kt(i))return!1}else if(!Ht(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function qt(e,t){return((null==t?void 0:t.queryKeyHashFn)||Kt)(e)}function Kt(e){return JSON.stringify(e,((e,t)=>Wt(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function Ht(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((n=>Ht(e[n],t[n]))))}function $t(e,t){if(e===t)return e;const n=Gt(e)&&Gt(t);if(n||Wt(e)&&Wt(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const s=n?c:i[c];(!n&&r.includes(s)||n)&&void 0===e[s]&&void 0===t[s]?(o[s]=void 0,l++):(o[s]=$t(e[s],t[s]),o[s]===e[s]&&void 0!==e[s]&&l++)}return s===a&&l===s?e:o}return t}function Gt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wt(e){if(!Qt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Qt(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Qt(e){return"[object Object]"===Object.prototype.toString.call(e)}function Jt(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?$t(e,t):t}function Yt(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Zt(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Xt=Symbol();function en(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Xt?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var tn=new(r=class extends Mt{constructor(){super(),K(this,e),K(this,t),K(this,n),H(this,n,(e=>{if(!Lt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){q(this,t)||this.setEventListener(q(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=q(this,t))||e.call(this),H(this,t,void 0))}setEventListener(e){var r;H(this,n,e),null==(r=q(this,t))||r.call(this),H(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){q(this,e)!==t&&(H(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof q(this,e)?q(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),nn=new(o=class extends Mt{constructor(){super(),K(this,s,!0),K(this,i),K(this,a),H(this,a,(e=>{if(!Lt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){q(this,i)||this.setEventListener(q(this,a))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=q(this,i))||e.call(this),H(this,i,void 0))}setEventListener(e){var t;H(this,a,e),null==(t=q(this,i))||t.call(this),H(this,i,e(this.setOnline.bind(this)))}setOnline(e){q(this,s)!==e&&(H(this,s,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return q(this,s)}},s=new WeakMap,i=new WeakMap,a=new WeakMap,o);function rn(e){return Math.min(1e3*2**e,3e4)}function sn(e){return"online"!==(e??"online")||nn.isOnline()}var an=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function on(e){return e instanceof an}function ln(e){let t,n=!1,r=0,s=!1;const i=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),a=()=>tn.isFocused()&&("always"===e.networkMode||nn.isOnline())&&e.canRun(),o=()=>sn(e.networkMode)&&e.canRun(),l=n=>{var r;s||(s=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),i.resolve(n))},c=n=>{var r;s||(s=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),i.reject(n))},u=()=>new Promise((n=>{var r;t=e=>{(s||a())&&n(e)},null==(r=e.onPause)||r.call(e)})).then((()=>{var n;t=void 0,s||null==(n=e.onContinue)||n.call(e)})),d=()=>{if(s)return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{var i;if(s)return;const o=e.retry??(Lt?0:3),l=e.retryDelay??rn,h="function"==typeof l?l(r,t):l,m=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var p;!n&&m?(r++,null==(i=e.onFail)||i.call(e,r,t),(p=h,new Promise((e=>{setTimeout(e,p)}))).then((()=>a()?void 0:u())).then((()=>{n?c(t):d()}))):c(t)}))};return{promise:i,cancel:t=>{var n;s||(c(new an(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),i)}}var cn=e=>setTimeout(e,0);var un=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=cn;const i=r=>{t?e.push(r):s((()=>{n(r)}))};return{batch:i=>{let a;t++;try{a=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return a},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),dn=(c=class{constructor(){K(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&H(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lt?1/0:3e5))}clearGcTimeout(){q(this,l)&&(clearTimeout(q(this,l)),H(this,l,void 0))}},l=new WeakMap,c),hn=(x=class extends dn{constructor(e){super(),K(this,v),K(this,u),K(this,d),K(this,h),K(this,m),K(this,p),K(this,f),K(this,g),H(this,g,!1),H(this,f,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,m,e.client),H(this,h,q(this,m).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,u,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??q(this,u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=q(this,p))?void 0:e.promise}setOptions(e){this.options={...q(this,f),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||q(this,h).remove(this)}setData(e,t){const n=Jt(this.state.data,e,this.options);return $(this,v,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){$(this,v,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=q(this,p))?void 0:t.promise;return null==(n=q(this,p))||n.cancel(e),r?r.then(Ut).catch(Ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,u))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=q(this,p))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=q(this,p))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),q(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(q(this,p)&&(q(this,g)?q(this,p).cancel({revert:!0}):q(this,p).cancelRetry()),this.scheduleGc()),q(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$(this,v,y).call(this,{type:"invalidate"})}fetch(e,t){var n,r,s;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(q(this,p))return q(this,p).continueRetry(),q(this,p).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const i=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(H(this,g,!0),i.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:q(this,m),state:this.state,fetchFn:()=>{const e=en(this.options,t),n={client:q(this,m),queryKey:this.queryKey,meta:this.meta};return a(n),H(this,g,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};a(o),null==(n=this.options.behavior)||n.onFetch(o,this),H(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=o.fetchOptions)?void 0:r.meta)||$(this,v,y).call(this,{type:"fetch",meta:null==(s=o.fetchOptions)?void 0:s.meta});const l=e=>{var t,n,r,s;on(e)&&e.silent||$(this,v,y).call(this,{type:"error",error:e}),on(e)||(null==(n=(t=q(this,h).config).onError)||n.call(t,e,this),null==(s=(r=q(this,h).config).onSettled)||s.call(r,this.state.data,e,this)),this.scheduleGc()};return H(this,p,ln({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,r,s;if(void 0!==e){try{this.setData(e)}catch(i){return void l(i)}null==(n=(t=q(this,h).config).onSuccess)||n.call(t,e,this),null==(s=(r=q(this,h).config).onSettled)||s.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{$(this,v,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{$(this,v,y).call(this,{type:"pause"})},onContinue:()=>{$(this,v,y).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),q(this,p).start()}},u=new WeakMap,d=new WeakMap,h=new WeakMap,m=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sn(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return on(s)&&s.revert&&q(this,d)?{...q(this,d),fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),un.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),q(this,h).notify({query:this,type:"updated",action:e})}))},x);var mn=(w=class extends Mt{constructor(e={}){super(),K(this,b),this.config=e,H(this,b,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??qt(r,t);let i=this.get(s);return i||(i=new hn({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){q(this,b).has(e.queryHash)||(q(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=q(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&q(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return q(this,b).get(e)}getAll(){return[...q(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Vt(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Vt(e,t))):t}notify(e){un.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){un.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){un.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),pn=(E=class extends dn{constructor(e){super(),K(this,_),K(this,k),K(this,j),K(this,N),this.mutationId=e.mutationId,H(this,j,e.mutationCache),H(this,k,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){q(this,k).includes(e)||(q(this,k).push(e),this.clearGcTimeout(),q(this,j).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,k,q(this,k).filter((t=>t!==e))),this.scheduleGc(),q(this,j).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){q(this,k).length||("pending"===this.state.status?this.scheduleGc():q(this,j).remove(this))}continue(){var e;return(null==(e=q(this,N))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,s,i,a,o,l,c,u,d,h,m,p,f,g,v,y,x,b;const w=()=>{$(this,_,S).call(this,{type:"continue"})};H(this,N,ln({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{$(this,_,S).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{$(this,_,S).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,j).canRun(this)}));const k="pending"===this.state.status,E=!q(this,N).canStart();try{if(k)w();else{$(this,_,S).call(this,{type:"pending",variables:e,isPaused:E}),await(null==(n=(t=q(this,j).config).onMutate)?void 0:n.call(t,e,this));const i=await(null==(s=(r=this.options).onMutate)?void 0:s.call(r,e));i!==this.state.context&&$(this,_,S).call(this,{type:"pending",context:i,variables:e,isPaused:E})}const m=await q(this,N).start();return await(null==(a=(i=q(this,j).config).onSuccess)?void 0:a.call(i,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(u=(c=q(this,j).config).onSettled)?void 0:u.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,m,null,e,this.state.context)),$(this,_,S).call(this,{type:"success",data:m}),m}catch(T){try{throw await(null==(p=(m=q(this,j).config).onError)?void 0:p.call(m,T,e,this.state.context,this)),await(null==(g=(f=this.options).onError)?void 0:g.call(f,T,e,this.state.context)),await(null==(y=(v=q(this,j).config).onSettled)?void 0:y.call(v,void 0,T,this.state.variables,this.state.context,this)),await(null==(b=(x=this.options).onSettled)?void 0:b.call(x,void 0,T,e,this.state.context)),T}finally{$(this,_,S).call(this,{type:"error",error:T})}}finally{q(this,j).runNext(this)}}},k=new WeakMap,j=new WeakMap,N=new WeakMap,_=new WeakSet,S=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),un.batch((()=>{q(this,k).forEach((t=>{t.onMutationUpdate(e)})),q(this,j).notify({mutation:this,type:"updated",action:e})}))},E);var fn=(A=class extends Mt{constructor(e={}){super(),K(this,T),K(this,C),K(this,I),this.config=e,H(this,T,new Set),H(this,C,new Map),H(this,I,0)}build(e,t,n){const r=new pn({mutationCache:this,mutationId:++G(this,I)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){q(this,T).add(e);const t=gn(e);if("string"==typeof t){const n=q(this,C).get(t);n?n.push(e):q(this,C).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(q(this,T).delete(e)){const t=gn(e);if("string"==typeof t){const n=q(this,C).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&q(this,C).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gn(e);if("string"==typeof t){const n=q(this,C).get(t),r=null==n?void 0:n.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){var t;const n=gn(e);if("string"==typeof n){const r=null==(t=q(this,C).get(n))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){un.batch((()=>{q(this,T).forEach((e=>{this.notify({type:"removed",mutation:e})})),q(this,T).clear(),q(this,C).clear()}))}getAll(){return Array.from(q(this,T))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Bt(t,e)))}findAll(e={}){return this.getAll().filter((t=>Bt(e,t)))}notify(e){un.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return un.batch((()=>Promise.all(e.map((e=>e.continue().catch(Ut))))))}},T=new WeakMap,C=new WeakMap,I=new WeakMap,A);function gn(e){var t;return null==(t=e.options.scope)?void 0:t.id}function vn(e){return{onFetch:(t,n)=>{var r,s,i,a,o;const l=t.options,c=null==(i=null==(s=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:s.fetchMore)?void 0:i.direction,u=(null==(a=t.state.data)?void 0:a.pages)||[],d=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let n=!1;const r=en(t.options,t.fetchOptions),s=async(e,s,i)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const a={client:t.client,queryKey:t.queryKey,pageParam:s,direction:i?"backward":"forward",meta:t.options.meta};var o;o=a,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await r(a),{maxPages:c}=t.options,u=i?Zt:Yt;return{pages:u(e.pages,l,c),pageParams:u(e.pageParams,s,c)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:d},n=(e?xn:yn)(l,t);h=await s(t,n,e)}else{const t=e??u.length;do{const e=0===m?d[0]??l.initialPageParam:yn(l,h);if(m>0&&null==e)break;h=await s(h,e),m++}while(m<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function yn(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function xn(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var bn=(F=class{constructor(e={}){K(this,P),K(this,R),K(this,D),K(this,O),K(this,z),K(this,M),K(this,L),K(this,U),H(this,P,e.queryCache||new mn),H(this,R,e.mutationCache||new fn),H(this,D,e.defaultOptions||{}),H(this,O,new Map),H(this,z,new Map),H(this,M,0)}mount(){G(this,M)._++,1===q(this,M)&&(H(this,L,tn.subscribe((async e=>{e&&(await this.resumePausedMutations(),q(this,P).onFocus())}))),H(this,U,nn.subscribe((async e=>{e&&(await this.resumePausedMutations(),q(this,P).onOnline())}))))}unmount(){var e,t;G(this,M)._--,0===q(this,M)&&(null==(e=q(this,L))||e.call(this),H(this,L,void 0),null==(t=q(this,U))||t.call(this),H(this,U,void 0))}isFetching(e){return q(this,P).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,R).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=q(this,P).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=q(this,P).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ft(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return q(this,P).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=q(this,P).get(r.queryHash),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==i)return q(this,P).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return un.batch((()=>q(this,P).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=q(this,P).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=q(this,P);un.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=q(this,P);return un.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},r=un.batch((()=>q(this,P).findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(Ut).catch(Ut)}invalidateQueries(e,t={}){return un.batch((()=>(q(this,P).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=un.batch((()=>q(this,P).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Ut)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(Ut)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=q(this,P).build(this,t);return n.isStaleByTime(Ft(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ut).catch(Ut)}fetchInfiniteQuery(e){return e.behavior=vn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ut).catch(Ut)}ensureInfiniteQueryData(e){return e.behavior=vn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nn.isOnline()?q(this,R).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,P)}getMutationCache(){return q(this,R)}getDefaultOptions(){return q(this,D)}setDefaultOptions(e){H(this,D,e)}setQueryDefaults(e,t){q(this,O).set(Kt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,O).values()],n={};return t.forEach((t=>{Ht(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){q(this,z).set(Kt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,z).values()],n={};return t.forEach((t=>{Ht(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xt&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...q(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,P).clear(),q(this,R).clear()}},P=new WeakMap,R=new WeakMap,D=new WeakMap,O=new WeakMap,z=new WeakMap,M=new WeakMap,L=new WeakMap,U=new WeakMap,F),wn=rt.createContext(void 0),kn=({client:e,children:t})=>(rt.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),W.jsx(wn.Provider,{value:e,children:t}));var jn={};const Nn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},_n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Sn;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Sn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const En=function(e){return function(e){const t=Nn(e);return _n.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tn=function(e){try{return _n.decodeString(e,!0)}catch(t){}return null};const Cn=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,In=()=>{try{return Cn()||(()=>{if("undefined"==typeof process)return;const e=jn.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Tn(e[1]);return t&&JSON.parse(t)})()}catch(e){return}},An=e=>{var t,n;return null===(n=null===(t=In())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Pn=e=>{const t=An(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rn=()=>{var e;return null===(e=In())||void 0===e?void 0:e.config},Dn=e=>{var t;return null===(t=In())||void 0===t?void 0:t[`_${e}`]};class On{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function zn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[En(JSON.stringify({alg:"none",type:"JWT"})),En(JSON.stringify(i)),""].join(".")}function Mn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ln(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Un(){return!function(){var e;const t=null===(e=In())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fn(){try{return"object"==typeof indexedDB}catch(e){return!1}}function Vn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Bn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}}class qn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(Kn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new Bn(r,a,n)}}const Kn=/\{\$([^}]+)}/g;function Hn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if($n(n)&&$n(i)){if(!Hn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $n(e){return null!==e&&"object"==typeof e}function Gn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Jn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Yn),void 0===r.error&&(r.error=Yn),void 0===r.complete&&(r.complete=Yn);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Yn(){}function Zn(e,t=1e3,n=2){const r=t*Math.pow(n,e),s=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+s)}function Xn(e){return e&&e._delegate?e._delegate:e}class er{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tr="[DEFAULT]";class nr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new On;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===tr?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(s){}var r;return n||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var sr,ir;(ir=sr||(sr={}))[ir.DEBUG=0]="DEBUG",ir[ir.VERBOSE=1]="VERBOSE",ir[ir.INFO=2]="INFO",ir[ir.WARN=3]="WARN",ir[ir.ERROR=4]="ERROR",ir[ir.SILENT=5]="SILENT";const ar={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},or=sr.INFO,lr={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},cr=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!lr[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ur{constructor(e){this.name=e,this._logLevel=or,this._logHandler=cr,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ar[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...e),this._logHandler(this,sr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...e),this._logHandler(this,sr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...e),this._logHandler(this,sr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...e),this._logHandler(this,sr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...e),this._logHandler(this,sr.ERROR,...e)}}let dr,hr;const mr=new WeakMap,pr=new WeakMap,fr=new WeakMap,gr=new WeakMap,vr=new WeakMap;let yr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hr||(hr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(kr(this),t),wr(mr.get(this))}:function(...t){return wr(e.apply(kr(this),t))}:function(t,...n){const r=e.call(kr(this),t,...n);return fr.set(r,t.sort?t.sort():[t]),wr(r)}}function br(e){return"function"==typeof e?xr(e):(e instanceof IDBTransaction&&function(e){if(pr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));pr.set(e,t)}(e),t=e,(dr||(dr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,yr):e);var t}function wr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(wr(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&mr.set(t,e)})).catch((()=>{})),vr.set(t,e),t}(e);if(gr.has(e))return gr.get(e);const t=br(e);return t!==e&&(gr.set(e,t),vr.set(t,e)),t}const kr=e=>vr.get(e);function jr(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=wr(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(wr(a.result),e.oldVersion,e.newVersion,wr(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Nr=["get","getKey","getAll","getAllKeys","count"],_r=["put","add","delete","clear"],Sr=new Map;function Er(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Sr.get(t))return Sr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=_r.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Nr.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,s?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&i.done]))[0]};return Sr.set(t,i),i}yr=(e=>({...e,get:(t,n,r)=>Er(t,n)||e.get(t,n,r),has:(t,n)=>!!Er(t,n)||e.has(t,n)}))(yr);class Tr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Cr="@firebase/app",Ir="0.11.5",Ar=new ur("@firebase/app"),Pr="@firebase/app-compat",Rr="@firebase/analytics-compat",Dr="@firebase/analytics",Or="@firebase/app-check-compat",zr="@firebase/app-check",Mr="@firebase/auth",Lr="@firebase/auth-compat",Ur="@firebase/database",Fr="@firebase/data-connect",Vr="@firebase/database-compat",Br="@firebase/functions",qr="@firebase/functions-compat",Kr="@firebase/installations",Hr="@firebase/installations-compat",$r="@firebase/messaging",Gr="@firebase/messaging-compat",Wr="@firebase/performance",Qr="@firebase/performance-compat",Jr="@firebase/remote-config",Yr="@firebase/remote-config-compat",Zr="@firebase/storage",Xr="@firebase/storage-compat",es="@firebase/firestore",ts="@firebase/vertexai",ns="@firebase/firestore-compat",rs="firebase",ss="[DEFAULT]",is={[Cr]:"fire-core",[Pr]:"fire-core-compat",[Dr]:"fire-analytics",[Rr]:"fire-analytics-compat",[zr]:"fire-app-check",[Or]:"fire-app-check-compat",[Mr]:"fire-auth",[Lr]:"fire-auth-compat",[Ur]:"fire-rtdb",[Fr]:"fire-data-connect",[Vr]:"fire-rtdb-compat",[Br]:"fire-fn",[qr]:"fire-fn-compat",[Kr]:"fire-iid",[Hr]:"fire-iid-compat",[$r]:"fire-fcm",[Gr]:"fire-fcm-compat",[Wr]:"fire-perf",[Qr]:"fire-perf-compat",[Jr]:"fire-rc",[Yr]:"fire-rc-compat",[Zr]:"fire-gcs",[Xr]:"fire-gcs-compat",[es]:"fire-fst",[ns]:"fire-fst-compat",[ts]:"fire-vertex","fire-js":"fire-js",[rs]:"fire-js-all"},as=new Map,os=new Map,ls=new Map;function cs(e,t){try{e.container.addComponent(t)}catch(n){Ar.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function us(e){const t=e.name;if(ls.has(t))return Ar.debug(`There were multiple attempts to register component ${t}.`),!1;ls.set(t,e);for(const n of as.values())cs(n,e);for(const n of os.values())cs(n,e);return!0}function ds(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hs(e){return null!=e&&void 0!==e.settings}const ms=new qn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ps{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new er("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const fs="11.6.1";function gs(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:ss,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw ms.create("bad-app-name",{appName:String(s)});if(n||(n=Rn()),!n)throw ms.create("no-options");const i=as.get(s);if(i){if(Hn(n,i.options)&&Hn(r,i.config))return i;throw ms.create("duplicate-app",{appName:s})}const a=new rr(s);for(const l of ls.values())a.addComponent(l);const o=new ps(n,r,a);return as.set(s,o),o}function vs(e=ss){const t=as.get(e);if(!t&&e===ss&&Rn())return gs();if(!t)throw ms.create("no-app",{appName:e});return t}function ys(e,t,n){var r;let s=null!==(r=is[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ar.warn(e.join(" "))}us(new er(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const xs="firebase-heartbeat-store";let bs=null;function ws(){return bs||(bs=jr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xs)}catch(n){}}}).catch((e=>{throw ms.create("idb-open",{originalErrorMessage:e.message})}))),bs}async function ks(e,t){try{const n=(await ws()).transaction(xs,"readwrite"),r=n.objectStore(xs);await r.put(t,js(e)),await n.done}catch(n){if(n instanceof Bn)Ar.warn(n.message);else{const e=ms.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});Ar.warn(e.message)}}}function js(e){return`${e.name}!${e.options.appId}`}class Ns{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ss(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_s();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ar.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_s(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Es(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Es(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=En(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ar.warn(t),""}}}function _s(){return(new Date).toISOString().substring(0,10)}class Ss{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Fn()&&Vn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ws()).transaction(xs),n=await t.objectStore(xs).get(js(e));return await t.done,n}catch(t){if(t instanceof Bn)Ar.warn(t.message);else{const e=ms.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Ar.warn(e.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ks(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ks(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Es(e){return En(JSON.stringify({version:2,heartbeats:e})).length}var Ts;function Cs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Ts="",us(new er("platform-logger",(e=>new Tr(e)),"PRIVATE")),us(new er("heartbeat",(e=>new Ns(e)),"PRIVATE")),ys(Cr,Ir,Ts),ys(Cr,Ir,"esm2017"),ys("fire-js","");const Is=Cs,As=new qn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ps=new ur("@firebase/auth");function Rs(e,...t){Ps.logLevel<=sr.ERROR&&Ps.error(`Auth (${fs}): ${e}`,...t)}function Ds(e,...t){throw Ls(e,...t)}function Os(e,...t){return Ls(e,...t)}function zs(e,t,n){const r=Object.assign(Object.assign({},Is()),{[t]:n});return new qn("auth","Firebase",r).create(t,{appName:e.name})}function Ms(e){return zs(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ls(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return As.create(e,...t)}function Us(e,t,...n){if(!e)throw Ls(t,...n)}function Fs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rs(t),new Error(t)}function Vs(e,t){e||Fs(t)}function Bs(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qs(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ks(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==qs()&&"https:"!==qs()&&!Ln()&&!("connection"in navigator)||navigator.onLine}class Hs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Ks()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $s(e,t){Vs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Gs{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ws={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qs=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Js=new Hs(3e4,6e4);function Ys(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zs(e,t,n,r,s={}){return Xs(e,s,(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=Gn(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Gs.fetch()(await ti(e,e.config.apiHost,n,a),l)}))}async function Xs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ws),t);try{const t=new ri(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw si(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw si(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw si(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw si(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zs(e,o,a);Ds(e,o)}}catch(s){if(s instanceof Bn)throw s;Ds(e,"network-request-failed",{message:String(s)})}}async function ei(e,t,n,r,s={}){const i=await Zs(e,t,n,r,s);return"mfaPendingCredential"in i&&Ds(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function ti(e,t,n,r){const s=`${t}${n}?${r}`,i=e,a=i.config.emulator?$s(e.config,s):`${e.config.apiScheme}://${s}`;if(Qs.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function ni(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ri{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Os(this.auth,"network-request-failed"))),Js.get())}))}}function si(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Os(e,t,r);return s.customData._tokenResponse=n,s}function ii(e){return void 0!==e&&void 0!==e.enterprise}class ai{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ni(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oi(e,t){return Zs(e,"POST","/v1/accounts:lookup",t)}function li(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ci(e){return 1e3*Number(e)}function ui(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rs("JWT malformed, contained fewer than 3 sections"),null;try{const e=Tn(n);return e?JSON.parse(e):(Rs("Failed to decode base64 JWT payload"),null)}catch(s){return Rs("Caught error parsing JWT payload as JSON",null==s?void 0:s.toString()),null}}function di(e){const t=ui(e);return Us(t,"internal-error"),Us(void 0!==t.exp,"internal-error"),Us(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function hi(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Bn&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class mi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class pi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=li(this.lastLoginAt),this.creationTime=li(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fi(e){var t;const n=e.auth,r=await e.getIdToken(),s=await hi(e,oi(n,{idToken:r}));Us(null==s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?gi(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash||(null==o?void 0:o.length)),h=!!u&&d,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pi(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function gi(e){return e.map((e=>{var{providerId:t}=e,n=Q(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Us(e.idToken,"internal-error"),Us(void 0!==e.idToken,"internal-error"),Us(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):di(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Us(0!==e.length,"internal-error");const t=di(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Us(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Xs(e,{},(async()=>{const n=Gn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await ti(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gs.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new vi;return n&&(Us("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Us("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Us("number"==typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function yi(e,t){Us("string"==typeof e||void 0===e,"internal-error",{appName:t})}class xi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Q(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pi(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await hi(this,this.stsTokenManager.getToken(this.auth,e));return Us(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Xn(e),r=await n.getIdToken(t),s=ui(r);Us(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"==typeof s.firebase?s.firebase:void 0,a=null==i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:li(ci(s.auth_time)),issuedAtTime:li(ci(s.iat)),expirationTime:li(ci(s.exp)),signInProvider:a||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Xn(e);await fi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Us(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Us(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await hi(this,async function(e,t){return Zs(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:k}=t;Us(y&&k,e,"internal-error");const j=vi.fromJSON(this.name,k);Us("string"==typeof y,e,"internal-error"),yi(u,e.name),yi(d,e.name),Us("boolean"==typeof x,e,"internal-error"),Us("boolean"==typeof b,e,"internal-error"),yi(h,e.name),yi(m,e.name),yi(p,e.name),yi(f,e.name),yi(g,e.name),yi(v,e.name);const N=new xi({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:j,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(N.providerData=w.map((e=>Object.assign({},e)))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,t,n=!1){const r=new vi;r.updateFromServerResponse(t);const s=new xi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fi(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Us(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?gi(r.providerUserInfo):[],i=!(r.email&&r.passwordHash||(null==s?void 0:s.length)),a=new vi;a.updateFromIdToken(n);const o=new xi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new pi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==s?void 0:s.length))};return Object.assign(o,l),o}}const bi=new Map;function wi(e){Vs(e instanceof Function,"Expected a class definition");let t=bi.get(e);return t?(Vs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bi.set(e,t),t)}class ki{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ki.type="NONE";const ji=ki;function Ni(e,t,n){return`firebase:${e}:${t}:${n}`}class _i{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Ni(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ni("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await oi(this.auth,{idToken:e}).catch((()=>{}));return t?xi._fromGetAccountInfoResponse(this.auth,t,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new _i(wi(ji),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||wi(ji);const i=Ni(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"==typeof t){const r=await oi(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await xi._fromGetAccountInfoResponse(e,r,t)}else n=xi._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new _i(s,e,n)):new _i(s,e,n)}}function Si(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ii(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ei(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pi(t))return"Blackberry";if(Ri(t))return"Webos";if(Ti(t))return"Safari";if((t.includes("chrome/")||Ci(t))&&!t.includes("edge/"))return"Chrome";if(Ai(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ei(e=Mn()){return/firefox\//i.test(e)}function Ti(e=Mn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ci(e=Mn()){return/crios\//i.test(e)}function Ii(e=Mn()){return/iemobile/i.test(e)}function Ai(e=Mn()){return/android/i.test(e)}function Pi(e=Mn()){return/blackberry/i.test(e)}function Ri(e=Mn()){return/webos/i.test(e)}function Di(e=Mn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Oi(){return function(){const e=Mn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function zi(e=Mn()){return Di(e)||Ai(e)||Ri(e)||Pi(e)||/windows phone/i.test(e)||Ii(e)}function Mi(e,t=[]){let n;switch(e){case"Browser":n=Si(Mn());break;case"Worker":n=`${Si(Mn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}class Li{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(s){r(s)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}class Ui{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Fi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new Li(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=As,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue((async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await _i.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await oi(this,{idToken:e}),n=await xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hs(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null==a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(i)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Us(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fi(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Ms(this));const t=e?Xn(e):null;return t&&Us(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Us(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return hs(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Ms(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(wi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Zs(e,"GET","/v2/passwordPolicy",Ys(e,t))}(this),t=new Ui(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zs(e,"POST","/v2/accounts:revokeToken",Ys(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wi(e)||this._popupRedirectResolver;Us(t,this,"argument-error"),this.redirectPersistenceManager=await _i.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Us(a,this,"internal-error"),a.then((()=>{i||s(this.currentUser)})),"function"==typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Us(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Ps.logLevel<=sr.WARN&&Ps.warn(`Auth (${fs}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Vi(e){return Xn(e)}class Bi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Jn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Us(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ki(e){return qi.loadJS(e)}class Hi{constructor(){this.enterprise=new $i}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $i{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Gi="NO_RECAPTCHA";class Wi{constructor(e){this.type="recaptcha-enterprise",this.auth=Vi(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return Zs(e,"GET","/v2/recaptchaConfig",Ys(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ai(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const s=window.grecaptcha;ii(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Gi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Hi).execute("siteKey",{action:"verify"})}return new Promise(((e,s)=>{n(this.auth).then((n=>{if(!t&&ii(window.grecaptcha))r(n,e,s);else{if("undefined"==typeof window)return void s(new Error("RecaptchaVerifier is only supported in browser"));let t=qi.recaptchaEnterpriseScript;0!==t.length&&(t+=n),Ki(t).then((()=>{r(n,e,s)})).catch((e=>{s(e)}))}})).catch((e=>{s(e)}))}))}}async function Qi(e,t,n,r=!1,s=!1){const i=new Wi(e);let a;if(s)a=Gi;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ji(e,t,n,r,s){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Qi(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if("auth/missing-recaptcha-token"===s.code){const s=await Qi(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}function Yi(e,t,n){const r=Vi(e);Us(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=Zi(t),{host:i,port:a}=function(e){const t=Zi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Xi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xi(t)}}}(t),o={url:`${s}//${i}${null===a?"":`:${a}`}/`},l=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return Us(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Us(Hn(o,r.config.emulator)&&Hn(l,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=o,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ea{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,t){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function ta(e,t){return Zs(e,"POST","/v1/accounts:signUp",t)}async function na(e,t){return ei(e,"POST","/v1/accounts:signInWithPassword",Ys(e,t))}async function ra(e,t){return async function(e,t){return Zs(e,"POST","/v1/accounts:sendOobCode",Ys(e,t))}(e,t)}class sa extends ea{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new sa(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new sa(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ji(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",na);case"emailLink":return async function(e,t){return ei(e,"POST","/v1/accounts:signInWithEmailLink",Ys(e,t))}(e,{email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ji(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ta);case"emailLink":return async function(e,t){return ei(e,"POST","/v1/accounts:signInWithEmailLink",Ys(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ia(e,t){return ei(e,"POST","/v1/accounts:signInWithIdp",Ys(e,t))}class aa extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ds("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Q(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new aa(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return ia(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ia(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gn(t)}return e}}class oa{constructor(e){var t,n,r,s,i,a;const o=Wn(Qn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Us(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Wn(Qn(e)).link,n=t?Wn(Qn(t)).deep_link_id:null,r=Wn(Qn(e)).deep_link_id;return(r?Wn(Qn(r)).link:null)||r||n||t||e}(e);try{return new oa(t)}catch(n){return null}}}class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,t){return sa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=oa.parseLink(t);return Us(n,"argument-error"),sa._fromEmailAndCode(e,n.code,n.tenantId)}}la.PROVIDER_ID="password",la.EMAIL_PASSWORD_SIGN_IN_METHOD="password",la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ca{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ua extends ca{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class da extends ua{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch(t){return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com",da.PROVIDER_ID="facebook.com";class ha extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ha.credential(t,n)}catch(r){return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com",ha.PROVIDER_ID="google.com";class ma extends ua{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch(t){return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com",ma.PROVIDER_ID="github.com";class pa extends ua{constructor(){super("twitter.com")}static credential(e,t){return aa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return pa.credential(t,n)}catch(r){return null}}}async function fa(e,t){return ei(e,"POST","/v1/accounts:signUp",Ys(e,t))}pa.TWITTER_SIGN_IN_METHOD="twitter.com",pa.PROVIDER_ID="twitter.com";class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await xi._fromIdTokenResponse(e,n,r),i=va(n);return new ga({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=va(n);return new ga({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function va(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ya extends Bn{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ya(e,t,n,r)}}function xa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ya._fromErrorAndOperation(e,n,t,r);throw n}))}async function ba(e,t,n=!1){if(hs(e.app))return Promise.reject(Ms(e));const r="signIn",s=await xa(e,r,t),i=await ga._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function wa(e){const t=Vi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ka(e,t,n){return hs(e.app)?Promise.reject(Ms(e)):async function(e,t){return ba(Vi(e),t)}(Xn(e),la.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wa(e),t}))}async function ja(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Xn(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},i=await hi(r,async function(e,t){return Zs(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function Na(e,t){const n=Xn(e);return hs(n.auth.app)?Promise.reject(Ms(n.auth)):async function(e,t){const{auth:n}=e,r=await e.getIdToken(),s={idToken:r,returnSecureToken:!0};t&&(s.email=t);const i=await hi(e,async function(e,t){return Zs(e,"POST","/v1/accounts:update",t)}(n,s));await e._updateTokensIfNecessary(i,!0)}(n,t)}const _a="__sak";class Sa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ea extends Sa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Oi()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ea.type="LOCAL";const Ta=Ea;class Ca extends Sa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ca.type="SESSION";const Ia=Ca;class Aa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Aa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pa(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Aa.receivers=[];class Ra{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((a,o)=>{const l=Pa("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Da(){return window}function Oa(){return void 0!==Da().WorkerGlobalScope&&"function"==typeof Da().importScripts}const za="firebaseLocalStorageDb",Ma="firebaseLocalStorage",La="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Fa(e,t){return e.transaction([Ma],t?"readwrite":"readonly").objectStore(Ma)}function Va(){const e=indexedDB.open(za,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ma,{keyPath:La})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ma)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(za);return new Ua(e).toPromise()}(),t(await Va()))}))}))}async function Ba(e,t,n){const r=Fa(e,!0).put({[La]:t,value:n});return new Ua(r).toPromise()}function qa(e,t){const n=Fa(e,!0).delete(t);return new Ua(n).toPromise()}class Ka{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Va()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Aa._getInstance(Oa()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ra(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Va();return await Ba(e,_a,"1"),await qa(e,_a),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ba(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Fa(e,!1).get(t),r=await new Ua(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Fa(e,!1).getAll();return new Ua(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ka.type="LOCAL";const Ha=Ka;new Hs(3e4,6e4);class $a extends ea{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ga(e){return ba(e.auth,new $a(e),e.bypassAuthState)}function Wa(e){const{auth:t,user:n}=e;return Us(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e;if(hs(r.app))return Promise.reject(Ms(r));const s="reauthenticate";try{const i=await hi(e,xa(r,s,t,e),n);Us(i.idToken,r,"internal-error");const a=ui(i.idToken);Us(a,r,"internal-error");const{sub:o}=a;return Us(e.uid===o,r,"user-mismatch"),ga._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&Ds(r,"user-mismatch"),i}}(n,new $a(e),e.bypassAuthState)}async function Qa(e){const{auth:t,user:n}=e;return Us(n,t,"internal-error"),async function(e,t,n=!1){const r=await hi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ga._forOperation(e,"link",r)}(n,new $a(e),e.bypassAuthState)}class Ja{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ga;case"linkViaPopup":case"linkViaRedirect":return Qa;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:Ds(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ya=new Hs(2e3,1e4);class Za extends Ja{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Us(e,this.auth,"internal-error"),e}async onExecution(){Vs(1===this.filter.length,"Popup operations only handle one event");const e=Pa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Os(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ya.get())};e()}}Za.currentPopupAction=null;const Xa="pendingRedirect",eo=new Map;class to extends Ja{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=eo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Ni(Xa,e.config.apiKey,e.name)}(t),r=function(e){return wi(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}eo.set(this.auth._key(),e)}return this.bypassAuthState||eo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function no(e,t){eo.set(e._key(),t)}async function ro(e,t,n=!1){if(hs(e.app))return Promise.reject(Ms(e));const r=Vi(e),s=function(e,t){return t?wi(t):(Us(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),i=new to(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class so{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ao(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Os(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(io(e))}saveEventToCache(e){this.cachedEventUids.add(io(e)),this.lastProcessedEventTime=Date.now()}}function io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ao({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lo=/^https?/;async function co(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Zs(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(uo(r))return}catch(n){}Ds(e,"unauthorized-domain")}function uo(e){const t=Bs(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!lo.test(n))return!1;if(oo.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ho=new Hs(3e4,6e4);function mo(){const e=Da().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function po(e){return new Promise(((t,n)=>{var r,s,i;function a(){mo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mo(),n(Os(e,"network-request-failed"))},timeout:ho.get()})}if(null===(s=null===(r=Da().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Da().gapi)||void 0===i?void 0:i.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Da()[t]=()=>{gapi.load?a():n(Os(e,"network-request-failed"))},Ki(`${qi.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw fo=null,e}))}let fo=null;const go=new Hs(5e3,15e3),vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xo(e){const t=e.config;Us(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$s(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:fs},s=yo.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Gn(r).slice(1)}`}async function bo(e){const t=await function(e){return fo=fo||po(e),fo}(e),n=Da().gapi;return Us(n,e,"internal-error"),t.open({where:document.body,url:xo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Os(e,"network-request-failed"),i=Da().setTimeout((()=>{r(s)}),go.get());function a(){Da().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(s)}))}))))}const wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ko{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function jo(e,t,n,r=500,s=600){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},wo),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Mn().toLowerCase();n&&(o=Ci(c)?"_blank":n),Ei(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Mn()){var t;return Di(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ko(null);const d=window.open(t||"",o,u);Us(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ko(d)}const No="__/auth/handler",_o="emulator/auth/handler",So=encodeURIComponent("fac");async function Eo(e,t,n,r,s,i){Us(e.config.authDomain,e,"auth-domain-config-required"),Us(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fs,eventId:s};if(t instanceof ca){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof ua){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${So}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${No}`;return $s(e,_o)}(e)}?${Gn(o).slice(1)}${c}`}const To="webStorageSupport";const Co=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ia,this._completeRedirectFn=ro,this._overrideRedirectResult=no}async _openPopup(e,t,n,r){var s;Vs(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return jo(e,await Eo(e,t,n,Bs(),r),Pa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Da().location.href=e}(await Eo(e,t,n,Bs(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vs(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await bo(e),n=new so(e);return t.register("authEvent",(t=>{Us(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(To,{type:To},(n=>{var r;const s=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[To];void 0!==s&&t(!!s),Ds(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=co(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zi()||Ti()||Di()}};var Io="@firebase/auth",Ao="1.10.1";class Po{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Us(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ro=Dn("authIdTokenMaxAge")||300;let Do=null;var Oo;qi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");var s,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Os("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==i?i:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Oo="Browser",us(new er("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;Us(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:i,authDomain:a,clientPlatform:Oo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(Oo)},l=new Fi(n,r,s,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),us(new er("auth-internal",(e=>{const t=Vi(e.getProvider("auth").getImmediate());return new Po(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),ys(Io,Ao,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Oo)),ys(Io,Ao,"esm2017");var zo,Mo,Lo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(o,o);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=m(e,s.j(t)),new f(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=m(e,c)}return new f(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=m(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,m=65535&this.i(s),f=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=m*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=m*f,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*f,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Mo=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},zo=r}).apply(void 0!==Lo?Lo:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Uo,Fo,Vo,Bo,qo,Ko,Ho,$o,Go="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Go&&Go];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=!(-1==f().indexOf("Gecko")||-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge")||-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE")||-1!=f().indexOf("Edge"));function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){s.setTimeout((()=>{throw e}),0)}function N(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,T=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);E=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){j(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:z[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var z={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),L=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++L,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}V.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),H={};function $(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)$(e,t[i],n,r,s);return null}return n=X(n),e&&e[M]?e.K(t,n,!!a(r)&&!!r.capture,s):function(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Y(e);if(l||(e[K]=l=new V(e)),n=l.add(t,n,r,o,i),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,s)}function G(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=X(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,s))&&(F(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,s)),(n=-1<e?t[e]:null)&&W(n))}function W(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Y(t))?(B(n,e),0==n.h&&(n.src=null,t[K]=null)):F(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Y(e){return(e=e[K])instanceof V?e:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"==typeof e?e:(e[Z]||(e[Z]=function(t){return e.handleEvent(t)}),e[Z])}function ee(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=ne(a,r,!0,t)&&s}if(s=ne(a=t.g=e,r,!0,t)&&s,s=ne(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=ne(a=t.g=n[i],r,!1,t)&&s}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function se(e){e.g=re((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,P),ee.prototype[M]=!0,ee.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)F(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ie extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){P.call(this),this.h=e,this.g={}}d(ae,P);var oe=[];function le(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&W(e)}),e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=s.JSON.stringify,ue=s.JSON.parse,de=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function he(){}function me(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){R.call(this,"d")}function ve(){R.call(this,"c")}d(ge,R),d(ve,R);var ye={},xe=null;function be(){return xe=xe||new ee}function we(e){R.call(this,ye.La,e)}function ke(e){const t=be();te(t,new we(t))}function je(e,t){R.call(this,ye.STAT_EVENT,e),this.stat=t}function Ne(e){const t=be();te(t,new je(t,e))}function _e(e,t){R.call(this,ye.Ma,e),this.size=t}function Se(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Ee(){this.g=!0}function Te(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}ye.La="serverreachability",d(we,R),ye.STAT_EVENT="statevent",d(je,R),ye.Ma="timingevent",d(_e,R),Ee.prototype.xa=function(){this.g=!1},Ee.prototype.info=function(){};var Ce,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ce=new Pe;var Oe={},ze={};function Me(e,t,n){e.L=1,e.v=ct(st(t)),e.m=n,e.P=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(oe[0]=s.toString()),s=oe);for(var i=0;i<s.length;i++){var a=$(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Se(c(e.ba,e),t)}function qe(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||sn(e.j,e)}function He(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ye(n.h,e)))if(!e.K&&Ye(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Gt(n)}en(n),Ne(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Se(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Ze(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Xe(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),Ve(o)),r.g=a}else Xt(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const h=Bt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=qt(this.g);e="";var i=r.length,a=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),Ke(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),He(this),Ke(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Fe(this,o),e==ze){4==h&&(this.s=4,Ne(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Oe){this.s=4,Ne(15),Te(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),$e(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(d),d.M=!0,Ne(11))}}else Te(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),Ke(this)}else Te(this.i,this.l,o,null),$e(this,o);4==h&&He(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),He(this),Ke(this)}}}catch(h){}},Re.prototype.cancel=function(){this.J=!0,He(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ne(17)),He(this),this.s=2,Ke(this)):Be(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ye(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ze(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(i(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}We.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new yt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,it(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new yt(null,this.h))}function st(e){return new rt(e)}function it(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof yt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new yt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?ft:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,vt)),e.join("")};var mt=/[#\/\?@]/g,pt=/[#\?:]/g,ft=/[#\?]/g,gt=/[#\?@]/g,vt=/#/g;function yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bt(e,t){xt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wt(e,t){return xt(e),t=jt(e,t),e.g.has(t)}function kt(e,t,n){bt(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),h(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new de}function St(e,t,n){const r=n||"";try{tt(e,(function(e,n){let s=e;a(e)&&(s=ce(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Et(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ct(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Dt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=yt.prototype).add=function(e,t){xt(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"==typeof e)wt(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,wt(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(Et,he),Et.prototype.g=function(){return new Tt(this.l,this.j)},Et.prototype.i=function(e){return function(){return e}}({}),d(Tt,ee),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ct(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):At(this),3==this.readyState&&Ct(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Dt,ee);var Ot=/^https?$/i,zt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Lt(e),Ft(e)}function Lt(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(nt)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ot.test(a?a.toLowerCase():"")}n=i}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<Bt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Lt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){Vt(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Vt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new We(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Wt(e),3==e.G){var t=e.U++,n=st(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Yt(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ct(st(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}ln(e)}function Gt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Wt(e){Gt(e),e.u&&(s.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||I(),T||(E(),T=!0),C.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Yt(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Ze(e.h,n),Me(n,r,t)}function Yt(e,t){e.H&&y(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{St(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Xt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||I(),T||(E(),T=!0),C.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Se(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Yt(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(st(t)),n.m=null,n.P=!0,Le(n,e)}function rn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Ye(e.h,t))return;n=t.D,Xe(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;te(r=be(),new _e(r,n)),Qt(e)}else Xt(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Se(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||it(r,"https"),ct(r),t?function(e,t){const n=new Ee;if(s.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),ln(e),Wt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?st(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new rt(null);r&&it(a,r),t&&(a.g=t),i&&at(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Yt(e,r),r}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new Et({eb:n})):new Dt(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function mn(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fn(){ve.call(this),this.status=1}function gn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?me(this.o):me(Ce),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Mt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Mt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Re(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,s,t),lt(n=st(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Yt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Pt(i)))+"&"+t:this.m&&Rt(n,this.m,i)),Ze(this.h,s),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),s.T=!0,Me(s,n,null)):Me(s,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Qe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Se(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Gt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),en(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ee),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$t(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,mn.aa.N.call(this)},d(pn,ge),d(fn,ve),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new fn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,$o=function(){return new hn},Ho=function(){return be()},Ko=ye,qo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Bo=Ie,Ae.COMPLETE="complete",Vo=Ae,pe.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Fo=pe,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,Uo=Dt}).apply(void 0!==Go?Go:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Wo="@firebase/firestore",Qo="4.7.11";let Jo=class{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jo.UNAUTHENTICATED=new Jo(null),Jo.GOOGLE_CREDENTIALS=new Jo("google-credentials-uid"),Jo.FIRST_PARTY=new Jo("first-party-uid"),Jo.MOCK_USER=new Jo("mock-user");let Yo="11.6.1";const Zo=new ur("@firebase/firestore");function Xo(){return Zo.logLevel}function el(e,...t){if(Zo.logLevel<=sr.DEBUG){const n=t.map(rl);Zo.debug(`Firestore (${Yo}): ${e}`,...n)}}function tl(e,...t){if(Zo.logLevel<=sr.ERROR){const n=t.map(rl);Zo.error(`Firestore (${Yo}): ${e}`,...n)}}function nl(e,...t){if(Zo.logLevel<=sr.WARN){const n=t.map(rl);Zo.warn(`Firestore (${Yo}): ${e}`,...n)}}function rl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function sl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,il(e,r,n)}function il(e,t,n){let r=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(s){r+=" CONTEXT: "+n}throw tl(r),new Error(r)}function al(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||il(t,s,r)}function ol(e,t){return e}const ll={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cl extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ul{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jo.UNAUTHENTICATED)))}shutdown(){}}class ml{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pl{constructor(e){this.t=e,this.currentUser=Jo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){al(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ul,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{el("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(el("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ul)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(el("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(al("string"==typeof t.accessToken,31837,{l:t}),new dl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return al(null===e||"string"==typeof e,2055,{h:e}),new Jo(e)}}class fl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Jo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new fl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){al(void 0===this.o,3512);const n=e=>{null!=e.error&&el("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,el("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{el("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):el("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vl(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(al("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new vl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function bl(){return new TextEncoder}class wl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=xl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function kl(e,t){return e<t?-1:e>t?1:0}function jl(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return kl(r,s);{const i=bl(),a=_l(i.encode(Nl(e,n)),i.encode(Nl(t,n)));return 0!==a?a:kl(r,s)}}n+=r>65535?2:1}return kl(e.length,t.length)}function Nl(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function _l(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return kl(e[n],t[n]);return kl(e.length,t.length)}function Sl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const El=-62135596800,Tl=1e6;class Cl{static now(){return Cl.fromMillis(Date.now())}static fromDate(e){return Cl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Tl);return new Cl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new cl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new cl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<El)throw new cl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new cl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tl}_compareTo(e){return this.seconds===e.seconds?kl(this.nanoseconds,e.nanoseconds):kl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-El;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Il{static fromTimestamp(e){return new Il(e)}static min(){return new Il(new Cl(0,0))}static max(){return new Il(new Cl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al="__name__";class Pl{constructor(e,t,n){void 0===t?t=0:t>e.length&&sl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&sl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Pl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return kl(e.length,t.length)}static compareSegments(e,t){const n=Pl.isNumericId(e),r=Pl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Pl.extractNumericId(e).compare(Pl.extractNumericId(t)):jl(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zo.fromString(e.substring(4,e.length-2))}}class Rl extends Pl{construct(e,t,n){return new Rl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new cl(ll.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Rl(t)}static emptyPath(){return new Rl([])}}const Dl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ol extends Pl{construct(e,t,n){return new Ol(e,t,n)}static isValidIdentifier(e){return Dl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ol.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Al}static keyField(){return new Ol([Al])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new cl(ll.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new cl(ll.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new cl(ll.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new cl(ll.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ol(t)}static emptyPath(){return new Ol([])}}class zl{constructor(e){this.path=e}static fromPath(e){return new zl(Rl.fromString(e))}static fromName(e){return new zl(Rl.fromString(e).popFirst(5))}static empty(){return new zl(Rl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zl(new Rl(e.slice()))}}function Ml(e){return new Ll(e.readTime,e.key,-1)}class Ll{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ll(Il.min(),zl.empty(),-1)}static max(){return new Ll(Il.max(),zl.empty(),-1)}}function Ul(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zl.comparator(e.documentKey,t.documentKey),0!==n?n:kl(e.largestBatchId,t.largestBatchId))}class Fl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vl(e){if(e.code!==ll.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;el("LocalStore","Unexpectedly lost primary lease")}class Bl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Bl?t:Bl.resolve(t)}catch(t){return Bl.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Bl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Bl.reject(t)}static resolve(e){return new Bl(((t,n)=>{t(e)}))}static reject(e){return new Bl(((t,n)=>{n(e)}))}static waitFor(e){return new Bl(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=Bl.resolve(!1);for(const n of e)t=t.next((e=>e?Bl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Bl(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Bl(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function ql(e){return"IndexedDbTransactionError"===e.name}class Kl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kl.le=-1;function Hl(e){return null==e}function $l(e){return 0===e&&1/e==-1/0}function Gl(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function Wl(e){return e+""}function Ql(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zl{constructor(e,t){this.comparator=e,this.root=t||ec.EMPTY}insert(e,t){return new Zl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ec.BLACK,null,null))}remove(e){return new Zl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ec.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ec{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:ec.RED,this.left=null!=r?r:ec.EMPTY,this.right=null!=s?s:ec.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ec(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ec.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ec.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ec.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ec.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sl(27949);return e+(this.isRed()?0:1)}}ec.EMPTY=null,ec.RED=!0,ec.BLACK=!1,ec.EMPTY=new class{constructor(){this.size=0}get key(){throw sl(57766)}get value(){throw sl(16141)}get color(){throw sl(16727)}get left(){throw sl(29726)}get right(){throw sl(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new ec(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tc{constructor(e){this.comparator=e,this.data=new Zl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nc(this.data.getIterator())}getIteratorFrom(e){return new nc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof tc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new tc(this.comparator);return t.data=e,t}}class nc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rc{constructor(e){this.fields=e,e.sort(Ol.comparator)}static empty(){return new rc([])}unionWith(e){let t=new tc(Ol.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new rc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class sc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ic{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new sc("Invalid base64 string: "+t):t}}(e);return new ic(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ic(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ic.EMPTY_BYTE_STRING=new ic("");const ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(e){if(al(!!e,39018),"string"==typeof e){let t=0;const n=ac.exec(e);if(al(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lc(e.seconds),nanos:lc(e.nanos)}}function lc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cc(e){return"string"==typeof e?ic.fromBase64String(e):ic.fromUint8Array(e)}const uc="server_timestamp",dc="__type__",hc="__previous_value__",mc="__local_write_time__";function pc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[dc])||void 0===n?void 0:n.stringValue)===uc}function fc(e){const t=e.mapValue.fields[hc];return pc(t)?fc(t):t}function gc(e){const t=oc(e.mapValue.fields[mc].timestampValue);return new Cl(t.seconds,t.nanos)}class vc{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const yc="(default)";class xc{constructor(e,t){this.projectId=e,this.database=t||yc}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}const bc="__type__",wc="__max__",kc={},jc="__vector__",Nc="value";function _c(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pc(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wc}(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bc])||void 0===n?void 0:n.stringValue)===jc}(e)?10:11:sl(28295,{value:e})}function Sc(e,t){if(e===t)return!0;const n=_c(e);if(n!==_c(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gc(e).isEqual(gc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=oc(e.timestampValue),r=oc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,cc(e.bytesValue).isEqual(cc(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lc(e.geoPointValue.latitude)===lc(t.geoPointValue.latitude)&&lc(e.geoPointValue.longitude)===lc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lc(e.integerValue)===lc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=lc(e.doubleValue),r=lc(t.doubleValue);return n===r?$l(n)===$l(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Sl(e.arrayValue.values||[],t.arrayValue.values||[],Sc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ql(n)!==Ql(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Sc(n[s],r[s])))return!1;return!0}(e,t);default:return sl(52216,{left:e})}var r}function Ec(e,t){return void 0!==(e.values||[]).find((e=>Sc(e,t)))}function Tc(e,t){if(e===t)return 0;const n=_c(e),r=_c(t);if(n!==r)return kl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=lc(e.integerValue||e.doubleValue),r=lc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cc(e.timestampValue,t.timestampValue);case 4:return Cc(gc(e),gc(t));case 5:return jl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=cc(e),r=cc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=kl(n[s],r[s]);if(0!==e)return e}return kl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=kl(lc(e.latitude),lc(t.latitude));return 0!==n?n:kl(lc(e.longitude),lc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ic(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Nc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Nc])||void 0===r?void 0:r.arrayValue,u=kl((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ic(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kc&&t===kc)return 0;if(e===kc)return 1;if(t===kc)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=jl(r[a],i[a]);if(0!==e)return e;const t=Tc(n[r[a]],s[i[a]]);if(0!==t)return t}return kl(r.length,i.length)}(e.mapValue,t.mapValue);default:throw sl(23264,{Pe:n})}}function Cc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kl(e,t);const n=oc(e),r=oc(t),s=kl(n.seconds,r.seconds);return 0!==s?s:kl(n.nanos,r.nanos)}function Ic(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Tc(n[s],r[s]);if(e)return e}return kl(n.length,r.length)}function Ac(e){return Pc(e)}function Pc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=oc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cc(e.bytesValue).toBase64():"referenceValue"in e?function(e){return zl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Pc(e.fields[s])}`;return n+"}"}(e.mapValue):sl(61005,{value:e})}function Rc(e){switch(_c(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fc(e);return t?16+Rc(t):16;case 5:return 2*e.stringValue.length;case 6:return cc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce(((e,t)=>e+Rc(t)),0);case 10:case 11:return function(e){let t=0;return Jl(e.fields,((e,n)=>{t+=e.length+Rc(n)})),t}(e.mapValue);default:throw sl(13486,{value:e})}}function Dc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Oc(e){return!!e&&"integerValue"in e}function zc(e){return!!e&&"arrayValue"in e}function Mc(e){return!!e&&"nullValue"in e}function Lc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uc(e){return!!e&&"mapValue"in e}function Fc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Jl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Vc{constructor(e){this.value=e}static empty(){return new Vc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Ol.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Fc(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Jl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vc(Fc(this.value))}}function Bc(e){const t=[];return Jl(e.fields,((e,n)=>{const r=new Ol([e]);if(Uc(n)){const e=Bc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new rc(t)}class qc{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new qc(e,0,Il.min(),Il.min(),Il.min(),Vc.empty(),0)}static newFoundDocument(e,t,n,r){return new qc(e,1,t,Il.min(),n,r,0)}static newNoDocument(e,t){return new qc(e,2,t,Il.min(),Il.min(),Vc.empty(),0)}static newUnknownDocument(e,t){return new qc(e,3,t,Il.min(),Il.min(),Vc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Il.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Il.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function Hc(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?zl.comparator(zl.fromName(a.referenceValue),n.key):Tc(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function $c(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sc(e.position[n],t.position[n]))return!1;return!0}class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}let Qc=class{};class Jc extends Qc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ru(e,t,n):"array-contains"===t?new ou(e,n):"in"===t?new lu(e,n):"not-in"===t?new cu(e,n):"array-contains-any"===t?new uu(e,n):new Jc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new su(e,n):new iu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Tc(t,this.value)):null!==t&&_c(this.value)===_c(t)&&this.matchesComparison(Tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yc extends Qc{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Yc(e,t)}matches(e){return Zc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Zc(e){return"and"===e.op}function Xc(e){return function(e){for(const t of e.filters)if(t instanceof Yc)return!1;return!0}(e)&&Zc(e)}function eu(e){if(e instanceof Jc)return e.field.canonicalString()+e.op.toString()+Ac(e.value);if(Xc(e))return e.filters.map((e=>eu(e))).join(",");{const t=e.filters.map((e=>eu(e))).join(",");return`${e.op}(${t})`}}function tu(e,t){return e instanceof Jc?(n=e,(r=t)instanceof Jc&&n.op===r.op&&n.field.isEqual(r.field)&&Sc(n.value,r.value)):e instanceof Yc?function(e,t){return t instanceof Yc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&tu(n,t.filters[r])),!0)}(e,t):void sl(19439);var n,r}function nu(e){return e instanceof Jc?`${(t=e).field.canonicalString()} ${t.op} ${Ac(t.value)}`:e instanceof Yc?function(e){return e.op.toString()+" {"+e.getFilters().map(nu).join(" ,")+"}"}(e):"Filter";var t}class ru extends Jc{constructor(e,t,n){super(e,t,n),this.key=zl.fromName(n.referenceValue)}matches(e){const t=zl.comparator(e.key,this.key);return this.matchesComparison(t)}}class su extends Jc{constructor(e,t){super(e,"in",t),this.keys=au("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iu extends Jc{constructor(e,t){super(e,"not-in",t),this.keys=au("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function au(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zl.fromName(e.referenceValue)))}class ou extends Jc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zc(t)&&Ec(t.arrayValue,this.value)}}class lu extends Jc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class cu extends Jc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ec(this.value.arrayValue,t)}}class uu extends Jc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ec(this.value.arrayValue,e)))}}class du{constructor(e,t=null,n=[],r=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Ie=null}}function hu(e,t=null,n=[],r=[],s=null,i=null,a=null){return new du(e,t,n,r,s,i,a)}function mu(e){const t=ol(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>eu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),Hl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ac(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ac(e))).join(",")),t.Ie=e}return t.Ie}function pu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$c(e.startAt,t.startAt)&&$c(e.endAt,t.endAt)}function fu(e){return zl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gu{constructor(e,t=null,n=[],r=[],s=null,i="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vu(e){return new gu(e)}function yu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xu(e){return null!==e.collectionGroup}function bu(e){const t=ol(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new tc(Ol.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Gc(r,n))})),e.has(Ol.keyField().canonicalString())||t.Ee.push(new Gc(Ol.keyField(),n))}return t.Ee}function wu(e){const t=ol(e);return t.de||(t.de=function(e,t){if("F"===e.limitType)return hu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Gc(e.field,t)}));const n=e.endAt?new Kc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kc(e.startAt.position,e.startAt.inclusive):null;return hu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,bu(e))),t.de}function ku(e,t){const n=e.filters.concat([t]);return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ju(e,t,n){return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nu(e,t){return pu(wu(e),wu(t))&&e.limitType===t.limitType}function _u(e){return`${mu(wu(e))}|lt:${e.limitType}`}function Su(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>nu(e))).join(", ")}]`),Hl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ac(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ac(e))).join(",")),`Target(${t})`}(wu(e))}; limitType=${e.limitType})`}function Eu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,bu(n),r)||n.endAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,bu(n),r)));var n,r}function Tu(e){return(t,n)=>{let r=!1;for(const s of bu(e)){const e=Cu(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Cu(e,t,n){const r=e.field.isKeyField()?zl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Tc(r,s):sl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sl(19790,{direction:e.dir})}}class Iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return Yl(this.inner)}size(){return this.innerSize}}const Au=new Zl(zl.comparator);function Pu(){return Au}const Ru=new Zl(zl.comparator);function Du(...e){let t=Ru;for(const n of e)t=t.insert(n.key,n);return t}function Ou(e){let t=Ru;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zu(){return Lu()}function Mu(){return Lu()}function Lu(){return new Iu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Uu=new Zl(zl.comparator),Fu=new tc(zl.comparator);function Vu(...e){let t=Fu;for(const n of e)t=t.add(n);return t}const Bu=new tc(kl);function qu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(t)?"-0":t}}function Ku(e){return{integerValue:""+e}}function Hu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!$l(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Ku(t):qu(e,t)}class $u{constructor(){this._=void 0}}function Gu(e,t,n){return e instanceof Ju?function(e,t){const n={fields:{[dc]:{stringValue:uc},[mc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pc(t)&&(t=fc(t)),t&&(n.fields[hc]=t),{mapValue:n}}(n,t):e instanceof Yu?Zu(e,t):e instanceof Xu?ed(e,t):function(e,t){const n=Qu(e,t),r=nd(n)+nd(e.Re);return Oc(n)&&Oc(e.Re)?Ku(r):qu(e.serializer,r)}(e,t)}function Wu(e,t,n){return e instanceof Yu?Zu(e,t):e instanceof Xu?ed(e,t):n}function Qu(e,t){return e instanceof td?Oc(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Ju extends $u{}class Yu extends $u{constructor(e){super(),this.elements=e}}function Zu(e,t){const n=rd(t);for(const r of e.elements)n.some((e=>Sc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Xu extends $u{constructor(e){super(),this.elements=e}}function ed(e,t){let n=rd(t);for(const r of e.elements)n=n.filter((e=>!Sc(e,r)));return{arrayValue:{values:n}}}class td extends $u{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nd(e){return lc(e.integerValue||e.doubleValue)}function rd(e){return zc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sd{constructor(e,t){this.field=e,this.transform=t}}class id{constructor(e,t){this.version=e,this.transformResults=t}}class ad{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ad}static exists(e){return new ad(void 0,e)}static updateTime(e){return new ad(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ld{}function cd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xd(e.key,ad.none()):new pd(e.key,e.data,ad.none());{const n=e.data,r=Vc.empty();let s=new tc(Ol.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new fd(e.key,r,new rc(s.toArray()),ad.none())}}function ud(e,t,n){var r;e instanceof pd?function(e,t,n){const r=e.value.clone(),s=vd(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fd?function(e,t,n){if(!od(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vd(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(gd(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function dd(e,t,n,r){return e instanceof pd?function(e,t,n,r){if(!od(e.precondition,t))return n;const s=e.value.clone(),i=yd(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof fd?function(e,t,n,r){if(!od(e.precondition,t))return n;const s=yd(e.fieldTransforms,r,t),i=t.data;return i.setAll(gd(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):(s=t,i=n,od(e.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):i);var s,i}function hd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Qu(r.transform,e||null);null!=s&&(null===n&&(n=Vc.empty()),n.set(r.field,s))}return n||null}function md(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Sl(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Yu&&r instanceof Yu||n instanceof Xu&&r instanceof Xu?Sl(n.elements,r.elements,Sc):n instanceof td&&r instanceof td?Sc(n.Re,r.Re):n instanceof Ju&&r instanceof Ju);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class pd extends ld{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fd extends ld{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function vd(e,t,n){const r=new Map;al(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Wu(a,o,n[s]))}return r}function yd(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Gu(e,i,t))}return r}class xd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ud(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Mu();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=cd(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Il.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vu())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,((e,t)=>md(e,t)))&&Sl(this.baseMutations,e.baseMutations,((e,t)=>md(e,t)))}}class kd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){al(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=function(){return Uu}();const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new kd(e,t,n,r)}}class jd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nd{constructor(e,t){this.count=e,this.unchangedNames=t}}var _d,Sd;function Ed(e){if(void 0===e)return tl("GRPC error has no .code"),ll.UNKNOWN;switch(e){case _d.OK:return ll.OK;case _d.CANCELLED:return ll.CANCELLED;case _d.UNKNOWN:return ll.UNKNOWN;case _d.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case _d.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case _d.INTERNAL:return ll.INTERNAL;case _d.UNAVAILABLE:return ll.UNAVAILABLE;case _d.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case _d.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case _d.NOT_FOUND:return ll.NOT_FOUND;case _d.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case _d.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case _d.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case _d.ABORTED:return ll.ABORTED;case _d.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case _d.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case _d.DATA_LOSS:return ll.DATA_LOSS;default:return sl(39323,{code:e})}}(Sd=_d||(_d={}))[Sd.OK=0]="OK",Sd[Sd.CANCELLED=1]="CANCELLED",Sd[Sd.UNKNOWN=2]="UNKNOWN",Sd[Sd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sd[Sd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sd[Sd.NOT_FOUND=5]="NOT_FOUND",Sd[Sd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sd[Sd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sd[Sd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sd[Sd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sd[Sd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sd[Sd.ABORTED=10]="ABORTED",Sd[Sd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sd[Sd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sd[Sd.INTERNAL=13]="INTERNAL",Sd[Sd.UNAVAILABLE=14]="UNAVAILABLE",Sd[Sd.DATA_LOSS=15]="DATA_LOSS";const Td=new zo([4294967295,4294967295],0);function Cd(e){const t=bl().encode(e),n=new Mo;return n.update(t),new Uint8Array(n.digest())}function Id(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new zo([n,r],0),new zo([s,i],0)]}class Ad{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pd(`Invalid padding: ${t}`);if(n<0)throw new Pd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Pd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Pd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=zo.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(zo.fromNumber(n)));return 1===r.compare(Td)&&(r=new zo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Cd(e),[n,r]=Id(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Ad(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=Cd(e),[n,r]=Id(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Rd(Il.min(),r,new Zl(kl),Pu(),Vu())}}class Dd{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Dd(n,t,Vu(),Vu(),Vu())}}class Od{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class zd{constructor(e,t){this.targetId=e,this.Ce=t}}class Md{constructor(e,t,n=ic.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ld{constructor(){this.Fe=0,this.Me=Vd(),this.xe=ic.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vu(),t=Vu(),n=Vu();return this.Me.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sl(38017,{changeType:s})}})),new Dd(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Vd()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,al(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ud{constructor(e){this.ze=e,this.je=new Map,this.He=Pu(),this.Je=Fd(),this.Ye=Fd(),this.Ze=new Zl(kl)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:sl(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(fu(s))if(0===n){const e=new zl(s.path);this.tt(t,e,qc.newNoDocument(e,Il.min()))}else al(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),s=n?this.lt(n,e,r):1;if(0!==s){this.st(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=cc(n).toUint8Array()}catch(o){if(o instanceof sc)return nl("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Ad(i,r,s)}catch(o){return nl(o instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.ze.Pt(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const s=this._t(r);if(s){if(n.current&&fu(s.target)){const t=new zl(s.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,qc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Vu();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Rd(e,t,this.Ze,this.He,n);return this.He=Pu(),this.Je=Fd(),this.Ye=Fd(),this.Ze=new Zl(kl),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ld,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new tc(kl),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new tc(kl),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||el("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ld),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Fd(){return new Zl(zl.comparator)}function Vd(){return new Zl(zl.comparator)}const Bd=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qd=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Kd=(()=>({and:"AND",or:"OR"}))();class Hd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $d(e,t){return e.useProto3Json||Hl(t)?t:{value:t}}function Gd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qd(e,t){return Gd(e,t.toTimestamp())}function Jd(e){return al(!!e,49232),Il.fromTimestamp(function(e){const t=oc(e);return new Cl(t.seconds,t.nanos)}(e))}function Yd(e,t){return Zd(e,t).canonicalString()}function Zd(e,t){const n=(r=e,new Rl(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Xd(e){const t=Rl.fromString(e);return al(vh(t),10190,{key:t.toString()}),t}function eh(e,t){return Yd(e.databaseId,t.path)}function th(e,t){const n=Xd(t);if(n.get(1)!==e.databaseId.projectId)throw new cl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zl(sh(n))}function nh(e,t){return Yd(e.databaseId,t)}function rh(e){return new Rl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sh(e){return al(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ih(e,t,n){return{name:eh(e,t),fields:n.value.mapValue.fields}}function ah(e,t){return{documents:[nh(e,t.path)]}}function oh(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nh(e,s);const i=function(e){if(0!==e.length)return fh(Yc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>{return{field:mh((t=e).field),direction:uh(t.dir)};var t}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=$d(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:s};var l}function lh(e){let t=function(e){const t=Xd(e);return 4===t.length?Rl.emptyPath():sh(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){al(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ch(e);return t instanceof Yc&&Xc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>{return new Gc(ph((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Hl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Kc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Kc(n,t)}(n.endAt)),function(e,t,n,r,s,i,a,o){return new gu(e,t,n,r,s,i,a,o)}(t,s,a,i,o,"F",l,c)}function ch(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ph(e.unaryFilter.field);return Jc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ph(e.unaryFilter.field);return Jc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ph(e.unaryFilter.field);return Jc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ph(e.unaryFilter.field);return Jc.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sl(61313);default:return sl(60726)}}(e):void 0!==e.fieldFilter?(t=e,Jc.create(ph(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sl(58110);default:return sl(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Yc.create(e.compositeFilter.filters.map((e=>ch(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sl(1026)}}(e.compositeFilter.op))}(e):sl(30097,{filter:e});var t}function uh(e){return Bd[e]}function dh(e){return qd[e]}function hh(e){return Kd[e]}function mh(e){return{fieldPath:e.canonicalString()}}function ph(e){return Ol.fromServerFormat(e.fieldPath)}function fh(e){return e instanceof Jc?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NAN"}};if(Mc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NAN"}};if(Mc(e.value))return{unaryFilter:{field:mh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(e.field),op:dh(e.op),value:e.value}}}(e):e instanceof Yc?function(e){const t=e.getFilters().map((e=>fh(e)));return 1===t.length?t[0]:{compositeFilter:{op:hh(e.op),filters:t}}}(e):sl(54877,{filter:e})}function gh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yh{constructor(e,t,n,r,s=Il.min(),i=Il.min(),a=ic.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new yh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xh{constructor(e){this.wt=e}}function bh(e){const t=lh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ju(t,t.limit,"L"):t}class wh{constructor(){this.yn=new kh}addToCollectionParentIndex(e,t){return this.yn.add(t),Bl.resolve()}getCollectionParents(e,t){return Bl.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Bl.resolve()}deleteFieldIndex(e,t){return Bl.resolve()}deleteAllFieldIndexes(e){return Bl.resolve()}createTargetIndexes(e,t){return Bl.resolve()}getDocumentsMatchingTarget(e,t){return Bl.resolve(null)}getIndexType(e,t){return Bl.resolve(0)}getFieldIndexes(e,t){return Bl.resolve([])}getNextCollectionGroupToUpdate(e){return Bl.resolve(null)}getMinOffset(e,t){return Bl.resolve(Ll.min())}getMinOffsetFromCollectionGroup(e,t){return Bl.resolve(Ll.min())}updateCollectionGroup(e,t,n){return Bl.resolve()}updateIndexEntries(e,t){return Bl.resolve()}}class kh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tc(Rl.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tc(Rl.comparator)).toArray()}}const jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nh=41943040;class _h{static withCacheSize(e){return new _h(e,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}_h.DEFAULT_COLLECTION_PERCENTILE=10,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_h.DEFAULT=new _h(Nh,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_h.DISABLED=new _h(-1,0,0);class Sh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Sh(0)}static ir(){return new Sh(-1)}}const Eh="LruGarbageCollector";function Th([e,t],[n,r]){const s=kl(e,n);return 0===s?kl(t,r):s}class Ch{constructor(e){this.cr=e,this.buffer=new tc(Th),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Th(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ih{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){el(Eh,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ql(e)?el(Eh,"Ignoring IndexedDB error during garbage collection: ",e):await Vl(e)}await this.Ir(3e5)}))}}class Ah{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Bl.resolve(Kl.le);const n=new Ch(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(el("LruGarbageCollector","Garbage collection skipped; disabled"),Bl.resolve(jh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(el("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(el("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Xo()<=sr.DEBUG&&el("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+`ms\n\tRemoved ${s} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),Bl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}class Ph{constructor(){this.changes=new Iu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Bl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dd(n.mutation,e,rc.empty(),Cl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Vu()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Vu()){const r=zu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Du();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Pu();const i=Lu(),a=Lu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof fd)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),dd(a.mutation,t,a.mutation.getFieldMask(),Cl.now())):i.set(t.key,rc.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Rh(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Lu();let r=new Zl(((e,t)=>e-t)),s=Vu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||rc.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Vu()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Mu();l.forEach((e=>{if(!s.has(e)){const r=cd(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Bl.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return s=t,zl.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var s}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Bl.resolve(zu());let a=-1,o=s;return i.next((t=>Bl.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Bl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,Vu()))).next((e=>({batchId:a,changes:Ou(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zl(t)).next((e=>{let t=Du();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Du();return this.indexManager.getCollectionParents(e,s).next((a=>Bl.forEach(a,(a=>{const o=(l=t,c=a.child(s),new gu(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qc.newInvalidDocument(r)))}));let n=Du();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&dd(i.mutation,r,rc.empty(),Cl.now()),Eu(t,r)&&(n=n.insert(e,r))})),n}))}}class Oh{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Bl.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,{id:(n=t).id,version:n.version,createTime:Jd(n.createTime)}),Bl.resolve();var n}getNamedQuery(e,t){return Bl.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,{name:(n=t).name,query:bh(n.bundledQuery),readTime:Jd(n.readTime)}),Bl.resolve();var n}}class zh{constructor(){this.overlays=new Zl(zl.comparator),this.Or=new Map}getOverlay(e,t){return Bl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zu();return Bl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Bl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),Bl.resolve()}getOverlaysForCollection(e,t,n){const r=zu(),s=t.length+1,i=new zl(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Bl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Zl(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=zu(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=zu(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Bl.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jd(t,n));let s=this.Or.get(t);void 0===s&&(s=Vu(),this.Or.set(t,s)),this.Or.set(t,s.add(n.key))}}class Mh{constructor(){this.sessionToken=ic.EMPTY_BYTE_STRING}getSessionToken(e){return Bl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Bl.resolve()}}class Lh{constructor(){this.Nr=new tc(Uh.Br),this.Lr=new tc(Uh.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Uh(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Uh(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new zl(new Rl([])),n=new Uh(t,e),r=new Uh(t,e+1),s=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),s.push(e.key)})),s}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new zl(new Rl([])),n=new Uh(t,e),r=new Uh(t,e+1);let s=Vu();return this.Lr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Uh(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Uh{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return zl.comparator(e.key,t.key)||kl(e.Gr,t.Gr)}static kr(e,t){return kl(e.Gr,t.Gr)||zl.comparator(e.key,t.key)}}class Fh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new tc(Uh.Br)}checkEmpty(e){return Bl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new wd(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.zr=this.zr.add(new Uh(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Bl.resolve(i)}lookupMutationBatch(e,t){return Bl.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),s=r<0?0:r;return Bl.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Bl.resolve(0===this.mutationQueue.length?-1:this.Jn-1)}getAllMutationBatches(e){return Bl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Uh(t,0),r=new Uh(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);s.push(t)})),Bl.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tc(kl);return t.forEach((e=>{const t=new Uh(e,0),r=new Uh(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),Bl.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;zl.isDocumentKey(s)||(s=s.child(""));const i=new Uh(new zl(s),0);let a=new tc(kl);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Gr)),!0)}),i),Bl.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){al(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return Bl.forEach(t.mutations,(r=>{const s=new Uh(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Uh(t,0),r=this.zr.firstAfterOrEqual(n);return Bl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Bl.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vh{constructor(e){this.Zr=e,this.docs=new Zl(zl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Bl.resolve(n?n.document.mutableCopy():qc.newInvalidDocument(t))}getEntries(e,t){let n=Pu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qc.newInvalidDocument(e))})),Bl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Pu();const i=t.path,a=new zl(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Ul(Ml(a),n)<=0||(r.has(a.key)||Eu(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Bl.resolve(s)}getAllFromCollectionGroup(e,t,n,r){sl(9500)}Xr(e,t){return Bl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bh(this)}getSize(e){return Bl.resolve(this.size)}}class Bh extends Ph{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),Bl.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class qh{constructor(e){this.persistence=e,this.ei=new Iu((e=>mu(e)),pu),this.lastRemoteSnapshotVersion=Il.min(),this.highestTargetId=0,this.ti=0,this.ni=new Lh,this.targetCount=0,this.ri=Sh.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),Bl.resolve()}getLastRemoteSnapshotVersion(e){return Bl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bl.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Bl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),Bl.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Sh(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Bl.resolve()}updateTargetData(e,t){return this.ar(t),Bl.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Bl.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.ei.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ei.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Bl.waitFor(s).next((()=>r))}getTargetCount(e){return Bl.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return Bl.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),Bl.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),Bl.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Bl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return Bl.resolve(n)}containsKey(e,t){return Bl.resolve(this.ni.containsKey(t))}}class Kh{constructor(e,t){this.ii={},this.overlays={},this.si=new Kl(0),this.oi=!1,this.oi=!0,this._i=new Mh,this.referenceDelegate=e(this),this.ai=new qh(this),this.indexManager=new wh,this.remoteDocumentCache=new Vh((e=>this.referenceDelegate.ui(e))),this.serializer=new xh(t),this.ci=new Oh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Fh(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){el("MemoryPersistence","Starting transaction:",e);const r=new Hh(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return Bl.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class Hh extends Fl{constructor(e){super(),this.currentSequenceNumber=e}}class $h{constructor(e){this.persistence=e,this.Ti=new Lh,this.Ii=null}static Ei(e){return new $h(e)}get di(){if(this.Ii)return this.Ii;throw sl(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),Bl.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),Bl.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Bl.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bl.forEach(this.di,(n=>{const r=zl.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,Il.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return Bl.or([()=>Bl.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Gh{constructor(e,t){this.persistence=e,this.Ri=new Iu((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wl(t)),t=Gl(e.get(n),t);return Wl(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new Ah(e,t)}(this,t)}static Ei(e,t){return new Gh(e,t)}li(){}hi(e){return Bl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return Bl.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?Bl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,s.removeEntry(r,Il.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Bl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Bl.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Bl.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Bl.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rc(e.data.value)),t}gr(e,t,n){return Bl.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return Bl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=Vu(),r=Vu();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Wh(e,t.fromCache,n,r)}}class Qh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jh{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=Un()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Mn())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.Rs(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.Vs(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new Qh;return this.fs(e,t,n).next((r=>{if(s.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>s.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(Xo()<=sr.DEBUG&&el("QueryEngine","SDK will not create cache indexes for query:",Su(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Bl.resolve()):(Xo()<=sr.DEBUG&&el("QueryEngine","Query:",Su(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(Xo()<=sr.DEBUG&&el("QueryEngine","The SDK decides to create cache indexes for query:",Su(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wu(t))):Bl.resolve())}Rs(e,t){if(yu(t))return Bl.resolve(null);let n=wu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ju(t,null,"F"),n=wu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Vu(...r);return this.As.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ps(t,r);return this.ys(t,i,s,n.readTime)?this.Rs(e,ju(t,null,"F")):this.ws(e,i,t,n)}))))})))))}Vs(e,t,n,r){return yu(t)||r.isEqual(Il.min())?Bl.resolve(null):this.As.getDocuments(e,n).next((s=>{const i=this.ps(t,s);return this.ys(t,i,n,r)?Bl.resolve(null):(Xo()<=sr.DEBUG&&el("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Su(t)),this.ws(e,i,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Il.fromTimestamp(1e9===r?new Cl(n+1,0):new Cl(n,r));return new Ll(s,zl.empty(),t)}(r,-1)).next((e=>e)))}))}ps(e,t){let n=new tc(Tu(e));return t.forEach(((t,r)=>{Eu(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}fs(e,t,n){return Xo()<=sr.DEBUG&&el("QueryEngine","Using full collection scan to execute query:",Su(t)),this.As.getDocumentsMatchingQuery(e,t,Ll.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Yh="LocalStore";class Zh{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Zl(kl),this.Ds=new Iu((e=>mu(e)),pu),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dh(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}async function Xh(e,t){const n=ol(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=Vu();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ms:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function em(e){const t=ol(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function tm(e,t){const n=ol(e),r=t.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.ai.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.ai.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ic.EMPTY_BYTE_STRING,Il.min()).withLastLimboFreeSnapshotVersion(Il.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.ai.updateTargetData(e,c))}));let o=Pu(),l=Vu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n){let r=Vu(),s=Vu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Pu();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Il.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):el(Yh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{xs:r,Os:s}}))}(e,i,t.documentUpdates).next((e=>{o=e.xs,l=e.Os}))),!r.isEqual(Il.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Bl.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ss=s,e)))}function nm(e,t){const n=ol(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function rm(e,t,n){const r=ol(e),s=r.Ss.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(a){if(!ql(a))throw a;el(Yh,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(s.target)}function sm(e,t,n){const r=ol(e);let s=Il.min(),i=Vu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ol(e),s=r.Ds.get(n);return void 0!==s?Bl.resolve(r.Ss.get(s)):r.ai.getTargetData(t,n)}(r,e,wu(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?s:Il.min(),n?i:Vu()))).next((e=>(function(e,t,n){let r=e.vs.get(t)||Il.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ns:i})))))}class im{constructor(){this.activeTargetIds=Bu}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class am{constructor(){this.So=new im,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new im,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class om{vo(e){}shutdown(){}}const lm="ConnectivityMonitor";class cm{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){el(lm,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){el(lm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let um=null;function dm(){return null===um?um=268435456+Math.round(2147483648*Math.random()):um++,"0x"+um.toString(16)}const hm="RestConnection",mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pm{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===yc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,s){const i=dm(),a=this.$o(e,t.toUriEncodedString());el(hm,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(o,r,s),this.Ko(e,a,o,n).then((t=>(el(hm,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw nl(hm,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t}))}Wo(e,t,n,r,s,i){return this.Qo(e,t,n,r,s)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=mm[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class fm{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const gm="WebChannelConnection";class vm extends pm{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const s=dm();return new Promise(((i,a)=>{const o=new Uo;o.setWithCredentials(!0),o.listenOnce(Vo.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Bo.NO_ERROR:const t=o.getResponseJson();el(gm,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Bo.TIMEOUT:el(gm,`RPC '${e}' ${s} timed out`),a(new cl(ll.DEADLINE_EXCEEDED,"Request time out"));break;case Bo.HTTP_ERROR:const n=o.getStatus();if(el(gm,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ll).indexOf(t)>=0?t:ll.UNKNOWN}(t.status);a(new cl(e,t.message))}else a(new cl(ll.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new cl(ll.UNAVAILABLE,"Connection failed."));break;default:sl(9055,{s_:e,streamId:s,o_:o.getLastErrorCode(),__:o.getLastError()})}}finally{el(gm,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);el(gm,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=dm(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=$o(),a=Ho(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Uo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");el(gm,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);let d=!1,h=!1;const m=new fm({Go:t=>{h?el(gm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(el(gm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),el(gm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Fo.EventType.OPEN,(()=>{h||(el(gm,`RPC '${e}' stream ${r} transport opened.`),m.t_())})),p(u,Fo.EventType.CLOSE,(()=>{h||(h=!0,el(gm,`RPC '${e}' stream ${r} transport closed`),m.r_())})),p(u,Fo.EventType.ERROR,(t=>{h||(h=!0,nl(gm,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),m.r_(new cl(ll.UNAVAILABLE,"The operation could not be completed")))})),p(u,Fo.EventType.MESSAGE,(t=>{var n;if(!h){const s=t.data[0];al(!!s,16349);const i=s,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){el(gm,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=_d[e];if(void 0!==t)return Ed(t)}(t),s=a.message;void 0===n&&(n=ll.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,m.r_(new cl(n,s)),u.close()}else el(gm,`RPC '${e}' stream ${r} received:`,s),m.i_(s)}})),p(a,Ko.STAT_EVENT,(t=>{t.stat===qo.PROXY?el(gm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qo.NOPROXY&&el(gm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{m.n_()}),0),m}}function ym(){return"undefined"!=typeof document?document:null}function xm(e){return new Hd(e,!0)}class bm{constructor(e,t,n=1e3,r=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&el("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const wm="PersistentStream";class km{constructor(e,t,n,r,s,i,a,o){this.bi=e,this.R_=n,this.V_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new bm(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===ll.RESOURCE_EXHAUSTED?(tl(t.toString()),tl("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ll.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.m_===t&&this.B_(e,n)}),(t=>{e((()=>{const e=new cl(ll.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return el(wm,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(el(wm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jm extends km{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:sl(39313,{state:r}),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(al(void 0===t||"string"==typeof t,58123),ic.fromBase64String(t||"")):(al(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ic.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?ll.UNKNOWN:Ed(e.code);return new cl(t,e.message||"")}(o);n=new Md(s,i,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=th(e,r.document.name),i=Jd(r.document.updateTime),a=r.document.createTime?Jd(r.document.createTime):Il.min(),o=new Vc({mapValue:{fields:r.document.fields}}),l=qc.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Od(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=th(e,r.document),i=r.readTime?Jd(r.readTime):Il.min(),a=qc.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Od([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=th(e,r.document),i=r.removedTargetIds||[];n=new Od([],i,s,null)}else{if(!("filter"in t))return sl(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Nd(r,s),a=e.targetId;n=new zd(a,i)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Il.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Il.min():t.readTime?Jd(t.readTime):Il.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=rh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=fu(r)?{documents:ah(e,r)}:{query:oh(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wd(e,t.resumeToken);const r=$d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Il.min())>0){n.readTime=Gd(e,t.snapshotVersion.toTimestamp());const r=$d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=rh(this.serializer),t.removeTarget=e,this.F_(t)}}class Nm extends km{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return al(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,al(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){al(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(al(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Jd(e.updateTime):Jd(t);return n.isEqual(Il.min())&&(n=Jd(t)),new id(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Jd(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=rh(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof pd)n={update:ih(e,t.key,t.value)};else if(t instanceof xd)n={delete:eh(e,t.key)};else if(t instanceof fd)n={update:ih(e,t.key,t.data),updateMask:gh(t.fieldMask)};else{if(!(t instanceof bd))return sl(16599,{ft:t.type});n={verify:eh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ju)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof td)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw sl(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(s=t.precondition).updateTime?{updateTime:Qd(r,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:sl(27497))),n;var r,s}(this.serializer,e)))};this.F_(t)}}class _m{}class Sm extends _m{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new cl(ll.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,i])=>this.connection.Qo(e,Zd(t,n),r,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ll.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cl(ll.UNKNOWN,e.toString())}))}Wo(e,t,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,Zd(t,n),r,i,a,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ll.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new cl(ll.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Em{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(tl(t),this.ea=!1):el("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Tm="RemoteStore";class Cm{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo((e=>{n.enqueueAndForget((async()=>{Lm(this)&&(el(Tm,"Restarting streams for network reachability change."),await async function(e){const t=ol(e);t.aa.add(4),await Am(t),t.la.set("Unknown"),t.aa.delete(4),await Im(t)}(this))}))})),this.la=new Em(n,r)}}async function Im(e){if(Lm(e))for(const t of e.ua)await t(!0)}async function Am(e){for(const t of e.ua)await t(!1)}function Pm(e,t){const n=ol(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Mm(n)?zm(n):np(n).b_()&&Dm(n,t))}function Rm(e,t){const n=ol(e),r=np(n);n._a.delete(t),r.b_()&&Om(n,t),0===n._a.size&&(r.b_()?r.v_():Lm(n)&&n.la.set("Unknown"))}function Dm(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Il.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}np(e).U_(t)}function Om(e,t){e.ha.Ke(t),np(e).K_(t)}function zm(e){e.ha=new Ud({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),np(e).start(),e.la.ta()}function Mm(e){return Lm(e)&&!np(e).w_()&&e._a.size>0}function Lm(e){return 0===ol(e).aa.size}function Um(e){e.ha=void 0}async function Fm(e){e.la.set("Online")}async function Vm(e){e._a.forEach(((t,n)=>{Dm(e,t)}))}async function Bm(e,t){Um(e),Mm(e)?(e.la.ia(t),zm(e)):e.la.set("Unknown")}async function qm(e,t,n){if(e.la.set("Online"),t instanceof Md&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(r){el(Tm,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Km(e,r)}else if(t instanceof Od?e.ha.Xe(t):t instanceof zd?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Il.min()))try{const t=await em(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e._a.get(r);s&&e._a.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(ic.EMPTY_BYTE_STRING,r.snapshotVersion)),Om(e,t);const s=new yh(r.target,t,n,r.sequenceNumber);Dm(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(s){el(Tm,"Failed to raise snapshot:",s),await Km(e,s)}}async function Km(e,t,n){if(!ql(t))throw t;e.aa.add(1),await Am(e),e.la.set("Offline"),n||(n=()=>em(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{el(Tm,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await Im(e)}))}function Hm(e,t){return t().catch((n=>Km(e,n,t)))}async function $m(e){const t=ol(e),n=rp(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:-1;for(;Gm(t);)try{const e=await nm(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Wm(t,e)}catch(s){await Km(t,s)}Qm(t)&&Jm(t)}function Gm(e){return Lm(e)&&e.oa.length<10}function Wm(e,t){e.oa.push(t);const n=rp(e);n.b_()&&n.W_&&n.G_(t.mutations)}function Qm(e){return Lm(e)&&!rp(e).w_()&&e.oa.length>0}function Jm(e){rp(e).start()}async function Ym(e){rp(e).H_()}async function Zm(e){const t=rp(e);for(const n of e.oa)t.G_(n.mutations)}async function Xm(e,t,n){const r=e.oa.shift(),s=kd.from(r,t,n);await Hm(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await $m(e)}async function ep(e,t){t&&rp(e).W_&&await async function(e,t){if(function(e){switch(e){case ll.OK:return sl(64938);case ll.CANCELLED:case ll.UNKNOWN:case ll.DEADLINE_EXCEEDED:case ll.RESOURCE_EXHAUSTED:case ll.INTERNAL:case ll.UNAVAILABLE:case ll.UNAUTHENTICATED:return!1;case ll.INVALID_ARGUMENT:case ll.NOT_FOUND:case ll.ALREADY_EXISTS:case ll.PERMISSION_DENIED:case ll.FAILED_PRECONDITION:case ll.ABORTED:case ll.OUT_OF_RANGE:case ll.UNIMPLEMENTED:case ll.DATA_LOSS:return!0;default:return sl(15467,{code:e})}}(n=t.code)&&n!==ll.ABORTED){const n=e.oa.shift();rp(e).D_(),await Hm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $m(e)}var n}(e,t),Qm(e)&&Jm(e)}async function tp(e,t){const n=ol(e);n.asyncQueue.verifyOperationInProgress(),el(Tm,"RemoteStore received new credentials");const r=Lm(n);n.aa.add(3),await Am(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await Im(n)}function np(e){return e.Pa||(e.Pa=function(e,t,n){const r=ol(e);return r.Y_(),new jm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:Fm.bind(null,e),Jo:Vm.bind(null,e),Zo:Bm.bind(null,e),Q_:qm.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),Mm(e)?zm(e):e.la.set("Unknown")):(await e.Pa.stop(),Um(e))}))),e.Pa}function rp(e){return e.Ta||(e.Ta=function(e,t,n){const r=ol(e);return r.Y_(),new Nm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ym.bind(null,e),Zo:ep.bind(null,e),z_:Zm.bind(null,e),j_:Xm.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await $m(e)):(await e.Ta.stop(),e.oa.length>0&&(el(Tm,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class sp{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new sp(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cl(ll.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(e,t){if(tl("AsyncQueue",`${t}: ${e}`),ql(e))return new cl(ll.UNAVAILABLE,`${t}: ${e}`);throw e}class ap{static emptySet(e){return new ap(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||zl.comparator(t.key,n.key):(e,t)=>zl.comparator(e.key,t.key),this.keyedMap=Du(),this.sortedSet=new Zl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ap))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ap;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class op{constructor(){this.Ia=new Zl(zl.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):sl(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lp{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new lp(e,t,ap.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cp{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class up{constructor(){this.queries=dp(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=ol(e),r=n.queries;n.queries=dp(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new cl(ll.ABORTED,"Firestore shutting down"))}}function dp(){return new Iu((e=>_u(e)),Nu)}async function hp(e,t){const n=ol(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Va()&&t.ma()&&(r=2):(i=new cp,r=t.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const e=ip(a,`Initialization of query '${Su(t.query)}' failed`);return void t.onError(e)}n.queries.set(s,i),i.Ra.push(t),t.ga(n.onlineState),i.Aa&&t.pa(i.Aa)&&gp(n)}async function mp(e,t){const n=ol(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Ra.indexOf(t);e>=0&&(i.Ra.splice(e,1),0===i.Ra.length?s=t.ma()?0:1:!i.Va()&&t.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pp(e,t){const n=ol(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(s)&&(r=!0);t.Aa=s}}r&&gp(n)}function fp(e,t,n){const r=ol(e),s=r.queries.get(t);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(t)}function gp(e){e.fa.forEach((e=>{e.next()}))}var vp,yp;(yp=vp||(vp={})).ya="default",yp.Cache="cache";class xp{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=lp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==vp.Cache}}class bp{constructor(e){this.key=e}}class wp{constructor(e){this.key=e}}class kp{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vu(),this.mutatedKeys=Vu(),this.Ua=Tu(e),this.Ka=new ap(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new op,r=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Eu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.ja(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Ua(u,o)>0||l&&this.Ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Ka:i,za:n,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const i=e.za.da();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sl(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const a=t&&!r?this.Ja():[],o=0===this.$a.size&&this.current&&!r?1:0,l=o!==this.Qa;return this.Qa=o,0!==i.length||l?{snapshot:new lp(this.query,e.Ka,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new op,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Vu(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new wp(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new bp(n))})),t}Xa(e){this.qa=e.Ns,this.$a=Vu();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return lp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const jp="SyncEngine";class Np{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _p{constructor(e){this.key=e,this.tu=!1}}class Sp{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.nu={},this.ru=new Iu((e=>_u(e)),Nu),this.iu=new Map,this.su=new Set,this.ou=new Zl(zl.comparator),this._u=new Map,this.au=new Lh,this.uu={},this.cu=new Map,this.lu=Sh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function Ep(e,t,n=!0){const r=Wp(e);let s;const i=r.ru.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await Cp(r,t,n,!0),s}async function Tp(e,t){const n=Wp(e);await Cp(n,t,!0,!1)}async function Cp(e,t,n,r){const s=await function(e,t){const n=ol(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((s=>s?(r=s,Bl.resolve(r)):n.ai.allocateTargetId(e).next((s=>(r=new yh(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}(e.localStore,wu(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await async function(e,t,n,r,s){e.Pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.Ga(n);s.ys&&(s=await sm(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ga(e,s))));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Bp(e,t.targetId,o.Ya),o.snapshot}(e,t,n,r);const i=await sm(e.localStore,t,!0),a=new kp(t,i.Ns),o=a.Ga(i.documents),l=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Bp(e,n,c.Ya);const u=new Np(t,n,a);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Pm(e.remoteStore,s),o}async function Ip(e,t,n){const r=ol(e),s=r.ru.get(t),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter((e=>!Nu(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Rm(r.remoteStore,s.targetId),Fp(r,s.targetId)})).catch(Vl)):(Fp(r,s.targetId),await rm(r.localStore,s.targetId,!0))}async function Ap(e,t){const n=ol(e),r=n.ru.get(t),s=n.iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rm(n.remoteStore,r.targetId))}async function Pp(e,t,n){const r=function(e){const t=ol(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mp.bind(null,t),t}(e);try{const e=await function(e,t){const n=ol(e),r=Cl.now(),s=t.reduce(((e,t)=>e.add(t.key)),Vu());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Pu(),l=Vu();return n.Cs.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=hd(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new fd(e.key,t,Bc(t.value.mapValue),ad.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ou(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Zl(kl)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hp(r,e.changes),await $m(r.remoteStore)}catch(s){const e=ip(s,"Failed to persist write");n.reject(e)}}async function Rp(e,t){const n=ol(e);try{const e=await tm(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(al(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?al(r.tu,14607):e.removedDocuments.size>0&&(al(r.tu,42227),r.tu=!1))})),await Hp(n,e,t)}catch(r){await Vl(r)}}function Dp(e,t,n){const r=ol(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const s=r.view.ga(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=ol(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.Ra)s.ga(t)&&(r=!0)})),r&&gp(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Op(e,t,n){const r=ol(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r._u.get(t),i=s&&s.key;if(i){let e=new Zl(zl.comparator);e=e.insert(i,qc.newNoDocument(i,Il.min()));const n=Vu().add(i),s=new Rd(Il.min(),new Map,new Zl(kl),e,n);await Rp(r,s),r.ou=r.ou.remove(i),r._u.delete(t),Kp(r)}else await rm(r.localStore,t,!1).then((()=>Fp(r,t,n))).catch(Vl)}async function zp(e,t){const n=ol(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ol(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Bl.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);al(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Up(n,r,null),Lp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hp(n,e)}catch(s){await Vl(s)}}async function Mp(e,t,n){const r=ol(e);try{const e=await function(e,t){const n=ol(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(al(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Up(r,t,n),Lp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hp(r,e)}catch(s){await Vl(s)}}function Lp(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function Up(e,t,n){const r=ol(e);let s=r.uu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.uu[r.currentUser.toKey()]=s}}function Fp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||Vp(e,t)}))}function Vp(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(Rm(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Kp(e))}function Bp(e,t,n){for(const r of n)r instanceof bp?(e.au.addReference(r.key,t),qp(e,r)):r instanceof wp?(el(jp,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||Vp(e,r.key)):sl(19791,{Iu:r})}function qp(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(el(jp,"New document in limbo: "+n),e.su.add(r),Kp(e))}function Kp(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new zl(Rl.fromString(t)),r=e.lu.next();e._u.set(r,new _p(n)),e.ou=e.ou.insert(n,r),Pm(e.remoteStore,new yh(wu(vu(n.path)),r,"TargetPurposeLimboResolution",Kl.le))}}async function Hp(e,t,n){const r=ol(e),s=[],i=[],a=[];r.ru.isEmpty()||(r.ru.forEach(((e,o)=>{a.push(r.Pu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Wh.Ps(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.nu.Q_(s),await async function(e,t){const n=ol(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Bl.forEach(t,(t=>Bl.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Bl.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!ql(r))throw r;el(Yh,"Failed to update sequence numbers: "+r)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,s)}}}(r.localStore,i))}async function $p(e,t){const n=ol(e);if(!n.currentUser.isEqual(t)){el(jp,"User change. New user:",t.toKey());const e=await Xh(n.localStore,t);n.currentUser=t,s="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).cu.forEach((e=>{e.forEach((e=>{e.reject(new cl(ll.CANCELLED,s))}))})),r.cu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hp(n,e.Ms)}var r,s}function Gp(e,t){const n=ol(e),r=n._u.get(t);if(r&&r.tu)return Vu().add(r.key);{let e=Vu();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function Wp(e){const t=ol(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Op.bind(null,t),t.nu.Q_=pp.bind(null,t.eventManager),t.nu.Tu=fp.bind(null,t.eventManager),t}class Qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return function(e,t,n,r){return new Zh(e,t,n,r)}(this.persistence,new Jh,e.initialUser,this.serializer)}Ru(e){return new Kh($h.Ei,this.serializer)}Au(e){return new am}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qp.provider={build:()=>new Qp};class Jp extends Qp{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){al(this.persistence.referenceDelegate instanceof Gh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ih(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?_h.withCacheSize(this.cacheSizeBytes):_h.DEFAULT;return new Kh((e=>Gh.Ei(e,t)),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=$p.bind(null,this.syncEngine),await async function(e,t){const n=ol(e);t?(n.aa.delete(2),await Im(n)):t||(n.aa.add(2),await Am(n),n.la.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new up}createDatastore(e){const t=xm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new vm(r));var r;return function(e,t,n,r){return new Sm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>Dp(this.syncEngine,e,0),i=cm.C()?new cm:new om,new Cm(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Sp(e,t,n,r,s,i);return a&&(o.hu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ol(e);el(Tm,"RemoteStore shutting down."),t.aa.add(5),await Am(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Yp.provider={build:()=>new Yp};class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):tl("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Xp="FirestoreClient";class ef{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Jo.UNAUTHENTICATED,this.clientId=wl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{el(Xp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(el(Xp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ip(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function tf(e,t){e.asyncQueue.verifyOperationInProgress(),el(Xp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Xh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function nf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){el(Xp,"Using user provided OfflineComponentProvider");try{await tf(e,e._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!("FirebaseError"===(n=s).name?n.code===ll.FAILED_PRECONDITION||n.code===ll.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw s;nl("Error using user provided cache. Falling back to memory cache: "+s),await tf(e,new Qp)}}else el(Xp,"Using default OfflineComponentProvider"),await tf(e,new Jp(void 0));var n;return e._offlineComponents}(e);el(Xp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>tp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>tp(t.remoteStore,n))),e._onlineComponents=t}async function rf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(el(Xp,"Using user provided OnlineComponentProvider"),await nf(e,e._uninitializedComponentsProvider._online)):(el(Xp,"Using default OnlineComponentProvider"),await nf(e,new Yp))),e._onlineComponents}async function sf(e){const t=await rf(e),n=t.eventManager;return n.onListen=Ep.bind(null,t.syncEngine),n.onUnlisten=Ip.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Tp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ap.bind(null,t.syncEngine),n}function af(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const of=new Map;function lf(e,t,n){if(!n)throw new cl(ll.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function cf(e){if(!zl.isDocumentKey(e))throw new cl(ll.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function uf(e){if(zl.isDocumentKey(e))throw new cl(ll.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function df(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":sl(12329,{type:typeof e})}function hf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cl(ll.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(e);throw new cl(ll.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const mf="firestore.googleapis.com",pf=!0;class ff{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new cl(ll.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mf,this.ssl=pf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:pf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Nh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new cl(ll.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new cl(ll.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=af(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new cl(ll.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new cl(ll.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new cl(ll.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class gf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ff({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new cl(ll.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ff(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hl;switch(e.type){case"firstParty":return new gl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new cl(ll.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=of.get(e);t&&(el("ComponentProvider","Removing Datastore"),of.delete(e),t.terminate())}(this),Promise.resolve()}}class vf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class yf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yf(this.firestore,e,this._key)}}class xf extends vf{constructor(e,t,n){super(e,t,vu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yf(this.firestore,null,new zl(e))}withConverter(e){return new xf(this.firestore,e,this._path)}}function bf(e,t,...n){if(e=Xn(e),lf("collection","path",t),e instanceof gf){const r=Rl.fromString(t,...n);return uf(r),new xf(e,null,r)}{if(!(e instanceof yf||e instanceof xf))throw new cl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rl.fromString(t,...n));return uf(r),new xf(e.firestore,null,r)}}function wf(e,t,...n){if(e=Xn(e),1===arguments.length&&(t=wl.newId()),lf("doc","path",t),e instanceof gf){const r=Rl.fromString(t,...n);return cf(r),new yf(e,null,new zl(r))}{if(!(e instanceof yf||e instanceof xf))throw new cl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rl.fromString(t,...n));return cf(r),new yf(e.firestore,e instanceof xf?e.converter:null,new zl(r))}}const kf="AsyncQueue";class jf{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new bm(this,"async_queue_retry"),this.ju=()=>{const e=ym();e&&el(kf,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=ym();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=ym();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new ul;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ql(e))throw e;el(kf,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,tl("INTERNAL UNHANDLED ERROR: ",Nf(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=sp.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&sl(47125,{ec:Nf(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Nf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class _f extends gf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jf(e),this._firestoreClient=void 0,await e}}}function Sf(e){if(e._terminated)throw new cl(ll.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const s=e._freezeSettings(),i=(a=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=s,new vc(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,af(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new ef(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class Ef{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ef(ic.fromBase64String(e))}catch(t){throw new cl(ll.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ef(ic.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new cl(ll.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ol(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class If{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new cl(ll.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new cl(ll.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kl(this._lat,e._lat)||kl(this._long,e._long)}}class Af{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Pf=/^__.*__$/;class Rf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fd(e,this.data,this.fieldMask,t,this.fieldTransforms):new pd(e,this.data,t,this.fieldTransforms)}}class Df{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Of(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sl(40011,{oc:e})}}class zf{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this._c(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(Of(this.oc)&&Pf.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Mf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xm(e)}dc(e,t,n,r=!1){return new zf({oc:e,methodName:t,Ec:n,path:Ol.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lf(e){const t=e._freezeSettings(),n=xm(e._databaseId);return new Mf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uf(e,t,n,r,s,i={}){const a=e.dc(i.merge||i.mergeFields?2:0,t,n,s);Hf("Data must be an object, but it was:",a,r);const o=qf(r,a);let l,c;if(i.merge)l=new rc(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=$f(t,r,n);if(!a.contains(s))throw new cl(ll.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Jf(e,s)||e.push(s)}l=new rc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Rf(new Vc(o),l,c)}class Ff extends Cf{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}class Vf extends Cf{_toFieldTransform(e){return new sd(e.path,new Ju)}isEqual(e){return e instanceof Vf}}function Bf(e,t){if(Kf(e=Xn(e)))return Hf("Unsupported field value:",t,e),qf(e,t);if(e instanceof Cf)return function(e,t){if(!Of(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Bf(s,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Xn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Cl.fromDate(e);return{timestampValue:Gd(t.serializer,n)}}if(e instanceof Cl){const n=new Cl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gd(t.serializer,n)}}if(e instanceof If)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ef)return{bytesValue:Wd(t.serializer,e._byteString)};if(e instanceof yf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Yd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Af)return n=e,r=t,{mapValue:{fields:{[bc]:{stringValue:jc},[Nc]:{arrayValue:{values:n.toArray().map((e=>{if("number"!=typeof e)throw r.Tc("VectorValues must only contain numeric values.");return qu(r.serializer,e)}))}}}}};var n,r;throw t.Tc(`Unsupported field value: ${df(e)}`)}(e,t)}function qf(e,t){const n={};return Yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jl(e,((e,r)=>{const s=Bf(r,t.uc(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function Kf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cl||e instanceof If||e instanceof Ef||e instanceof yf||e instanceof Cf||e instanceof Af)}function Hf(e,t,n){if(!Kf(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=df(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}var r}function $f(e,t,n){if((t=Xn(t))instanceof Tf)return t._internalPath;if("string"==typeof t)return Wf(e,t);throw Qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gf=new RegExp("[~\\*/\\[\\]]");function Wf(e,t,n){if(t.search(Gf)>=0)throw Qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tf(...t.split("."))._internalPath}catch(r){throw Qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qf(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new cl(ll.INVALID_ARGUMENT,o+e+l)}function Jf(e,t){return e.some((e=>e.isEqual(t)))}class Yf{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zf extends Yf{data(){return super.data()}}function Xf(e,t){return"string"==typeof t?Wf(e,t):t instanceof Tf?t._internalPath:t._delegate._internalPath}class eg{}class tg extends eg{}function ng(e,t,...n){let r=[];t instanceof eg&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof ig)).length,n=e.filter((e=>e instanceof rg)).length;if(t>1||t>0&&n>0)throw new cl(ll.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class rg extends tg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rg(e,t,n)}_apply(e){const t=this._parse(e);return hg(e._query,t),new vf(e.firestore,e.converter,ku(e._query,t))}_parse(e){const t=Lf(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new cl(ll.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){dg(a,i);const t=[];for(const n of a)t.push(ug(r,e,n));o={arrayValue:{values:t}}}else o=ug(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||dg(a,i),o=function(e,t,n,r=!1){return Bf(n,e.dc(r?4:3,t))}(n,t,a,"in"===i||"not-in"===i);return Jc.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function sg(e,t,n){const r=t,s=Xf("where",e);return rg._create(s,r,n)}class ig extends eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)hg(n,s),n=ku(n,s)}(e._query,t),new vf(e.firestore,e.converter,ku(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ag extends tg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ag(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new cl(ll.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new cl(ll.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(t,n)}(e._query,this._field,this._direction);return new vf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function og(e,t="asc"){const n=t,r=Xf("orderBy",e);return ag._create(r,n)}class lg extends tg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lg(e,t,n)}_apply(e){return new vf(e.firestore,e.converter,ju(e._query,this._limit,this._limitType))}}function cg(e){return function(e,t){if(t<=0)throw new cl(ll.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),lg._create("limit",e,"F")}function ug(e,t,n){if("string"==typeof(n=Xn(n))){if(""===n)throw new cl(ll.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xu(t)&&-1!==n.indexOf("/"))throw new cl(ll.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Rl.fromString(n));if(!zl.isDocumentKey(r))throw new cl(ll.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(e,new zl(r))}if(n instanceof yf)return Dc(e,n._key);throw new cl(ll.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function dg(e,t){if(!Array.isArray(e)||0===e.length)throw new cl(ll.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new cl(ll.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new cl(ll.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mg{convertValue(e,t="none"){switch(_c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Jl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Nc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>lc(e.doubleValue)));return new Af(s)}convertGeoPoint(e){return new If(lc(e.latitude),lc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const t=oc(e);return new Cl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Rl.fromString(e);al(vh(n),9688,{name:e});const r=new xc(n.get(1),n.get(3)),s=new zl(n.popFirst(5));return r.isEqual(t)||tl(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function pg(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gg extends Yf{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vg extends gg{data(e={}){return super.data(e)}}class yg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vg(this._firestore,this._userDataWriter,n.key,n,new fg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new cl(ll.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:xg(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sl(61501,{type:e})}}function bg(e){e=hf(e,yf);const t=hf(e.firestore,_f);return function(e,t,n={}){const r=new ul;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Zp({next:o=>{i.yu(),t.enqueueAndForget((()=>mp(e,a)));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new cl(ll.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new cl(ll.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new xp(vu(n.path),i,{includeMetadataChanges:!0,Fa:!0});return hp(e,a)}(await sf(e),e.asyncQueue,t,n,r))),r.promise}(Sf(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),s=new wg(e);return new gg(e,s,t._key,r,new fg(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class wg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ef(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yf(this.firestore,null,t)}}function kg(e){e=hf(e,vf);const t=hf(e.firestore,_f),n=Sf(t),r=new wg(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new cl(ll.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new ul;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Zp({next:n=>{i.yu(),t.enqueueAndForget((()=>mp(e,a))),n.fromCache&&"server"===r.source?s.reject(new cl(ll.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new xp(n,i,{includeMetadataChanges:!0,Fa:!0});return hp(e,a)}(await sf(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new yg(t,r,e,n)))}function jg(e,t,n){e=hf(e,yf);const r=hf(e.firestore,_f),s=pg(e.converter,t);return _g(r,[Uf(Lf(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,ad.none())])}function Ng(e,t,n,...r){e=hf(e,yf);const s=hf(e.firestore,_f),i=Lf(s);let a;return a="string"==typeof(t=Xn(t))||t instanceof Tf?function(e,t,n,r,s,i){const a=e.dc(1,t,n),o=[$f(t,r,n)],l=[s];if(i.length%2!=0)throw new cl(ll.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push($f(t,i[h])),l.push(i[h+1]);const c=[],u=Vc.empty();for(let h=o.length-1;h>=0;--h)if(!Jf(c,o[h])){const e=o[h];let t=l[h];t=Xn(t);const n=a.hc(e);if(t instanceof Ff)c.push(e);else{const r=Bf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new rc(c);return new Df(u,d,a.fieldTransforms)}(i,"updateDoc",e._key,t,n,r):function(e,t,n,r){const s=e.dc(1,t,n);Hf("Data must be an object, but it was:",s,r);const i=[],a=Vc.empty();Jl(r,((e,r)=>{const o=Wf(t,e,n);r=Xn(r);const l=s.hc(o);if(r instanceof Ff)i.push(o);else{const e=Bf(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new rc(i);return new Df(a,o,s.fieldTransforms)}(i,"updateDoc",e._key,t),_g(s,[a.toMutation(e._key,ad.exists(!0))])}function _g(e,t){return function(e,t){const n=new ul;return e.asyncQueue.enqueueAndForget((async()=>Pp(await function(e){return rf(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Sf(e),t)}function Sg(){return new Vf("serverTimestamp")}!function(e,t=!0){Yo=fs,us(new er("firestore",((e,{instanceIdentifier:n,options:r})=>{const s=e.getProvider("app").getImmediate(),i=new _f(new pl(e.getProvider("auth-internal")),new yl(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new cl(ll.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(e.options.projectId,t)}(s,n),s);return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i}),"PUBLIC").setMultipleInstances(!0)),ys(Wo,Qo,e),ys(Wo,Qo,"esm2017")}();ys("firebase","11.6.1","app");const Eg="firebasestorage.googleapis.com",Tg="storageBucket";class Cg extends Bn{constructor(e,t,n=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ig,Ag,Pg,Rg;function Dg(e){return"storage/"+e}function Og(){return new Cg(Ig.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zg(e){return new Cg(Ig.INVALID_ARGUMENT,e)}function Mg(){return new Cg(Ig.APP_DELETED,"The Firebase app was deleted.")}function Lg(e,t){return new Cg(Ig.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ug(e){throw new Cg(Ig.INTERNAL_ERROR,"Internal error: "+e)}(Ag=Ig||(Ig={})).UNKNOWN="unknown",Ag.OBJECT_NOT_FOUND="object-not-found",Ag.BUCKET_NOT_FOUND="bucket-not-found",Ag.PROJECT_NOT_FOUND="project-not-found",Ag.QUOTA_EXCEEDED="quota-exceeded",Ag.UNAUTHENTICATED="unauthenticated",Ag.UNAUTHORIZED="unauthorized",Ag.UNAUTHORIZED_APP="unauthorized-app",Ag.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ag.INVALID_CHECKSUM="invalid-checksum",Ag.CANCELED="canceled",Ag.INVALID_EVENT_NAME="invalid-event-name",Ag.INVALID_URL="invalid-url",Ag.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ag.NO_DEFAULT_BUCKET="no-default-bucket",Ag.CANNOT_SLICE_BLOB="cannot-slice-blob",Ag.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ag.NO_DOWNLOAD_URL="no-download-url",Ag.INVALID_ARGUMENT="invalid-argument",Ag.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ag.APP_DELETED="app-deleted",Ag.INVALID_ROOT_OPERATION="invalid-root-operation",Ag.INVALID_FORMAT="invalid-format",Ag.INTERNAL_ERROR="internal-error",Ag.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Fg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Fg.makeFromUrl(e,t)}catch(s){return new Fg(e,"")}if(""===n.path)return n;throw r=e,new Cg(Ig.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Eg?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new Fg(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Cg(Ig.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Vg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Bg(e){return"string"==typeof e||e instanceof String}function qg(e){return Kg()&&e instanceof Blob}function Kg(){return"undefined"!=typeof Blob}function Hg(e,t,n,r){if(r<t)throw zg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zg(`Invalid value for '${e}'. Expected ${n} or less.`)}function $g(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Gg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}(Rg=Pg||(Pg={}))[Rg.NO_ERROR=0]="NO_ERROR",Rg[Rg.NETWORK_ERROR=1]="NETWORK_ERROR",Rg[Rg.ABORT=2]="ABORT";class Wg{constructor(e,t,n,r,s,i,a,o,l,c,u,d=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Qg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Pg.NO_ERROR,s=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Pg.ABORT;return void e(!1,new Qg(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Qg(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(i){r(i)}else if(null!==s){const e=Og();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Mg():new Cg(Ig.CANCELED,"User canceled the upload/download."))}else{r(new Cg(Ig.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Qg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function d(t){s=setTimeout((()=>{s=null,e(m,l())}),t)}function h(){i&&clearTimeout(i)}function m(e,...t){if(c)return void h();if(e)return h(),void u.call(null,e,...t);if(l()||a)return h(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===o?(o=2,n=0):n=1e3*(r+Math.random()),d(n)}let p=!1;function f(e){p||(p=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{a=!0,f(!0)}),n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Jg(...e){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Kg())return new Blob(e);throw new Cg(Ig.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Yg(e){if("undefined"==typeof atob)throw t="base-64",new Cg(Ig.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Zg="raw",Xg="base64",ev="base64url",tv="data_url";class nv{constructor(e,t){this.data=e,this.contentType=t||null}}function rv(e,t){switch(e){case Zg:return new nv(sv(t));case Xg:case ev:return new nv(iv(e,t));case tv:return new nv(function(e){const t=new av(e);return t.base64?iv(Xg,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Lg(tv,"Malformed data URL.")}return sv(t)}(t.rest)}(t),new av(t).contentType)}throw Og()}function sv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function iv(e,t){switch(e){case Xg:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Lg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ev:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Lg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yg(t)}catch(s){if(s.message.includes("polyfill"))throw s;throw Lg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class av{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lg(tv,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ov{constructor(e,t){let n=0,r="";qg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(qg(this.data_)){const i=this.data_,a=(r=e,s=t,(n=i).webkitSlice?n.webkitSlice(r,s):n.mozSlice?n.mozSlice(r,s):n.slice?n.slice(r,s):null);return null===a?null:new ov(a)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ov(n,!0)}var n,r,s}static getBlob(...e){if(Kg()){const t=e.map((e=>e instanceof ov?e.data_:e));return new ov(Jg.apply(null,t))}{const t=e.map((e=>Bg(e)?rv(Zg,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let s=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]})),new ov(r,!0)}}uploadData(){return this.data_}}function lv(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function cv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function uv(e,t){return t}class dv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||uv}}let hv=null;function mv(){if(hv)return hv;const e=[];e.push(new dv("bucket")),e.push(new dv("generation")),e.push(new dv("metageneration")),e.push(new dv("name","fullPath",!0));const t=new dv("name");t.xform=function(e,t){return function(e){return!Bg(e)||e.length<2?e:cv(e)}(t)},e.push(t);const n=new dv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dv("timeCreated")),e.push(new dv("updated")),e.push(new dv("md5Hash",null,!0)),e.push(new dv("cacheControl",null,!0)),e.push(new dv("contentDisposition",null,!0)),e.push(new dv("contentEncoding",null,!0)),e.push(new dv("contentLanguage",null,!0)),e.push(new dv("contentType",null,!0)),e.push(new dv("metadata","customMetadata",!0)),hv=e,hv}function pv(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new Fg(n,r);return t._makeStorageReference(s)}})}(r,e),r}function fv(e,t,n){const r=lv(t);if(null===r)return null;return pv(e,r,n)}class gv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vv(e){if(!e)throw Og()}function yv(e,t){return function(n,r){const s=fv(e,r,t);return vv(null!==s),function(e,t,n,r){const s=lv(t);if(null===s)return null;if(!Bg(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map((t=>{const s=e.bucket,i=e.fullPath;return $g("/b/"+a(s)+"/o/"+a(i),n,r)+Gg({alt:"media",token:t})}))[0]}(s,r,e.host,e._protocol)}}function xv(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Cg(Ig.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Cg(Ig.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Cg(Ig.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Cg(Ig.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function bv(e){const t=xv(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new Cg(Ig.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function wv(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}(t,r,s),c=function(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n),u="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+o+"--",h=ov.getBlob(u,r,d);if(null===h)throw new Cg(Ig.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const m={name:l.fullPath},p=$g(i,e.host,e._protocol),f=e.maxUploadRetryTime,g=new gv(p,"POST",function(e,t){return function(n,r){const s=fv(e,r,t);return vv(null!==s),s}}(e,n),f);return g.urlParams=m,g.headers=a,g.body=h.uploadData(),g.errorHandler=xv(t),g}class kv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pg.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Pg.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Pg.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Ug("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ug("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ug("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ug("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ug("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class jv extends kv{initXhr(){this.xhr_.responseType="text"}}function Nv(){return new jv}class _v{constructor(e,t){this._service=e,this._location=t instanceof Fg?t:Fg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _v(e,t)}get root(){const e=new Fg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Fg(this._location.bucket,e);return new _v(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Cg(Ig.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Sv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=$g(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new gv(r,"GET",yv(e,n),s);return i.errorHandler=bv(t),i}(e.storage,e._location,mv());return e.storage.makeRequestWithTokens(t,Nv).then((e=>{if(null===e)throw new Cg(Ig.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ev(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=$g(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new gv(n,"DELETE",(function(e,t){}),r);return s.successCodes=[200,204],s.errorHandler=bv(t),s}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Nv)}function Tv(e,t){if(e instanceof Av){const n=e;if(null==n._bucket)throw new Cg(Ig.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tg+"' property when initializing the app?");const r=new _v(n,n._bucket);return null!=t?Tv(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Fg(e._location.bucket,n);return new _v(e.storage,r)}(e,t):e}function Cv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Av)return new _v(e,t);throw zg("To use ref(service, url), the first argument must be a Storage instance.")}return Tv(e,t)}function Iv(e,t){const n=null==t?void 0:t[Tg];return null==n?null:Fg.makeFromBucketSpec(n,e)}class Av{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Eg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Fg.makeFromBucketSpec(r,this._host):Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Fg.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _v(this,e)}_makeRequest(e,t,n,r,s=!0){if(this._deleted)return new Vg(Mg());{const i=function(e,t,n,r,s,i,a=!0){const o=Gg(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Wg(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Pv="@firebase/storage",Rv="0.13.7",Dv="storage";function Ov(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const r=wv(e.storage,e._location,mv(),new ov(t,!0),n);return e.storage.makeRequestWithTokens(r,Nv).then((t=>({metadata:t,ref:e})))}(e=Xn(e),t,n)}function zv(e){return Sv(e=Xn(e))}function Mv(e){return Ev(e=Xn(e))}function Lv(e,t){return Cv(e=Xn(e),t)}function Uv(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Av(n,r,s,t,fs)}us(new er(Dv,Uv,"PUBLIC").setMultipleInstances(!0)),ys(Pv,Rv,""),ys(Pv,Rv,"esm2017");const Fv="@firebase/installations",Vv="0.6.13",Bv=1e4,qv=`w:${Vv}`,Kv="FIS_v2",Hv=36e5,$v=new qn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gv(e){return e instanceof Bn&&e.code.includes("request-failed")}function Wv({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Qv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Jv(e,t){const n=(await t.json()).error;return $v.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Yv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Zv(e,{refreshToken:t}){const n=Yv(e);return n.append("Authorization",function(e){return`${Kv} ${e}`}(t)),n}async function Xv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ey(e){return new Promise((t=>{setTimeout(t,e)}))}const ty=/^[cdef][\w-]{21}$/;function ny(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ty.test(t)?t:""}catch(e){return""}}function ry(e){return`${e.appName}!${e.appId}`}const sy=new Map;function iy(e,t){const n=ry(e);ay(n,t),function(e,t){const n=function(){!oy&&"BroadcastChannel"in self&&(oy=new BroadcastChannel("[Firebase] FID Change"),oy.onmessage=e=>{ay(e.data.key,e.data.fid)});return oy}();n&&n.postMessage({key:e,fid:t});0===sy.size&&oy&&(oy.close(),oy=null)}(n,t)}function ay(e,t){const n=sy.get(e);if(n)for(const r of n)r(t)}let oy=null;const ly="firebase-installations-store";let cy=null;function uy(){return cy||(cy=jr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ly)}})),cy}async function dy(e,t){const n=ry(e),r=(await uy()).transaction(ly,"readwrite"),s=r.objectStore(ly),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||iy(e,t.fid),t}async function hy(e){const t=ry(e),n=(await uy()).transaction(ly,"readwrite");await n.objectStore(ly).delete(t),await n.done}async function my(e,t){const n=ry(e),r=(await uy()).transaction(ly,"readwrite"),s=r.objectStore(ly),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||iy(e,a.fid),a}async function py(e){let t;const n=await my(e.appConfig,(n=>{const r=function(e){const t=e||{fid:ny(),registrationStatus:0};return vy(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject($v.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Wv(e),s=Yv(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={fid:n,authVersion:Kv,appId:e.appId,sdkVersion:qv},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await Xv((()=>fetch(r,o)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Qv(e.authToken)}}throw await Jv("Create Installation",l)}(e,t);return dy(e.appConfig,n)}catch(n){throw Gv(n)&&409===n.customData.serverCode?await hy(e.appConfig):await dy(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fy(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function fy(e){let t=await gy(e.appConfig);for(;1===t.registrationStatus;)await ey(100),t=await gy(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await py(e);return n||t}return t}function gy(e){return my(e,(e=>{if(!e)throw $v.create("installation-not-found");return vy(e)}))}function vy(e){return 1===(t=e).registrationStatus&&t.registrationTime+Bv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yy({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Wv(e)}/${t}/authTokens:generate`}(e,n),s=Zv(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:qv,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await Xv((()=>fetch(r,o)));if(l.ok){return Qv(await l.json())}throw await Jv("Generate Auth Token",l)}async function xy(e,t=!1){let n;const r=await my(e.appConfig,(r=>{if(!wy(r))throw $v.create("not-registered");const s=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Hv}(e)}(s))return r;if(1===s.requestStatus)return n=async function(e,t){let n=await by(e.appConfig);for(;1===n.authToken.requestStatus;)await ey(100),n=await by(e.appConfig);const r=n.authToken;return 0===r.requestStatus?xy(e,t):r}(e,t),r;{if(!navigator.onLine)throw $v.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await yy(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await dy(e.appConfig,r),n}catch(n){if(!Gv(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dy(e.appConfig,n)}else await hy(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function by(e){return my(e,(e=>{if(!wy(e))throw $v.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Bv<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function wy(e){return void 0!==e&&2===e.registrationStatus}async function ky(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await py(e);t&&await t}(n);return(await xy(n,t)).token}function jy(e){return $v.create("missing-app-config-values",{valueName:e})}const Ny="installations",_y=e=>{const t=ds(e.getProvider("app").getImmediate(),Ny).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await py(t);return r?r.catch(console.error):xy(t).catch(console.error),n.fid}(t),getToken:e=>ky(t,e)}};us(new er(Ny,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw jy("App Configuration");if(!e.name)throw jy("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw jy(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ds(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),us(new er("installations-internal",_y,"PRIVATE")),ys(Fv,Vv),ys(Fv,Vv,"esm2017");const Sy="analytics",Ey="https://www.googletagmanager.com/gtag/js",Ty=new ur("@firebase/analytics"),Cy=new qn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Iy(e){if(!e.startsWith(Ey)){const t=Cy.create("invalid-gtag-resource",{gtagURL:e});return Ty.warn(t.message),""}return e}function Ay(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Py(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Iy}),r=document.createElement("script"),s=`${Ey}?l=${e}&id=${t}`;r.src=n?null==n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Ry(e,t,n,r){return async function(s,...i){try{if("event"===s){const[r,s]=i;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await Ay(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Ty.error(i)}}(e,t,n,r,s)}else if("config"===s){const[s,a]=i;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await Ay(n)).find((e=>e.measurementId===s));e&&await t[e.appId]}}catch(o){Ty.error(o)}e("config",s,i)}(e,t,n,r,s,a)}else if("consent"===s){const[t,n]=i;e("consent",t,n)}else if("get"===s){const[t,n,r]=i;e("get",t,n,r)}else if("set"===s){const[t]=i;e("set",t)}else e(s,...i)}catch(a){Ty.error(a)}}}const Dy=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Oy(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function zy(e,t=Dy,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Cy.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Cy.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Ly;return setTimeout((async()=>{o.abort()}),6e4),My({appId:r,apiKey:s,measurementId:i},a,o,t)}async function My(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=Dy){var i;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise(((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener((()=>{clearTimeout(i),r(Cy.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(l){if(o)return Ty.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:Oy(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,s);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Cy.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(a),t}catch(l){const t=l;if(!function(e){if(!(e instanceof Bn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(a),o)return Ty.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:a,measurementId:o};throw l}const c=503===Number(null===(i=null==t?void 0:t.customData)||void 0===i?void 0:i.httpStatus)?Zn(n,s.intervalMillis,30):Zn(n,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return s.setThrottleMetadata(a,u),Ty.debug(`Calling attemptFetch again in ${c} millis`),My(e,u,r,s)}}class Ly{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function Uy(e,t,n,r,s,i,a){var o;const l=zy(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ty.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Ty.error(e))),t.push(l);const c=async function(){if(!Fn())return Ty.warn(Cy.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Vn()}catch(e){return Ty.warn(Cy.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ey)&&n.src.includes(e))return n;return null})(i)||Py(i,u.measurementId),s("js",new Date);const h=null!==(o=null==a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),u.measurementId}class Fy{constructor(e){this.app=e}_delete(){return delete Vy[this.app.options.appId],Promise.resolve()}}let Vy={},By=[];const qy={};let Ky,Hy,$y="dataLayer",Gy=!1;function Wy(){const e=[];if(Ln()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Cy.create("invalid-analytics-context",{errorInfo:t});Ty.warn(n.message)}}function Qy(e,t,n){Wy();const r=e.options.appId;if(!r)throw Cy.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Cy.create("no-api-key");Ty.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vy[r])throw Cy.create("already-exists",{id:r});if(!Gy){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}($y);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(...e){window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(i=window[s]),window[s]=Ry(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(Vy,By,qy,$y,"gtag");Hy=e,Ky=t,Gy=!0}Vy[r]=Uy(e,By,qy,t,Ky,$y,n);return new Fy(e)}function Jy(e,t,n,r){e=Xn(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(Hy,Vy[e.app.options.appId],t,n,r).catch((e=>Ty.error(e)))}const Yy="@firebase/analytics",Zy="0.10.12";us(new er(Sy,((e,{options:t})=>Qy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),us(new er("analytics-internal",(function(e){try{const t=e.getProvider(Sy).getImmediate();return{logEvent:(e,n,r)=>Jy(t,e,n,r)}}catch(t){throw Cy.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),ys(Yy,Zy),ys(Yy,Zy,"esm2017");const Xy=gs({apiKey:"AIzaSyAI73IPE_YOOwB1K9-5mQFMHWcvvrJAkUU",authDomain:"kvitko-sweet-d226a.firebaseapp.com",projectId:"kvitko-sweet-d226a",storageBucket:"kvitko-sweet-d226a.firebasestorage.app",messagingSenderId:"132008587224",appId:"1:132008587224:web:5d0191f34fd39d383f4cad",measurementId:"G-GVNRZKMR3X"}),ex=function(e=vs()){const t=ds(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ds(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Hn(n.getOptions(),null!=t?t:{}))return e;Ds(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Co,persistence:[Ha,Ta,Ia]}),r=Dn("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ro)return;const r=null==t?void 0:t.token;Do!==r&&(Do=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Xn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Xn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const i=An("auth");return i&&Yi(n,`http://${i}`),n}(Xy),tx=function(e){const t="object"==typeof e?e:vs(),n="string"==typeof e?e:yc,r=ds(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Pn("firestore");e&&function(e,t,n,r={}){var s;const i=(e=hf(e,gf))._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;i.host!==mf&&i.host!==o&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:o,ssl:!1,emulatorOptions:r});if(!Hn(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Jo.MOCK_USER;else{t=zn(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new cl(ll.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Jo(i)}e._authCredentials=new ml(new dl(t,n))}}(r,...e)}return r}(Xy),nx=function(e=vs(),t){const n=ds(e=Xn(e),Dv).getImmediate({identifier:t}),r=Pn("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"==typeof s?s:zn(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Xy);"undefined"!=typeof window&&function(e=vs()){const t=ds(e=Xn(e),Sy);t.isInitialized()?t.getImmediate():function(e,t={}){const n=ds(e,Sy);if(n.isInitialized()){const e=n.getImmediate();if(Hn(t,n.getOptions()))return e;throw Cy.create("already-initialized")}n.initialize({options:t})}(e)}(Xy);const rx="users",sx=async(e,t,n)=>{try{const r=await async function(e,t,n){if(hs(e.app))return Promise.reject(Ms(e));const r=Vi(e),s=Ji(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fa),i=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wa(e),t})),a=await ga._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(ex,e,t),{user:s}=r;n&&await ja(s,{displayName:n});const i={id:s.uid,email:s.email||e,displayName:n||s.displayName||"",photoURL:s.photoURL||"",isAdmin:!1};return await jg(wf(tx,rx,s.uid),i),i}catch(r){throw r}},ix=async()=>{try{await(e=ex,Xn(e).signOut())}catch(t){throw t}var e},ax=()=>new Promise(((e,t)=>{const n=(r=async r=>{if(n(),r)try{const t=await bg(wf(tx,rx,r.uid));if(t.exists())e({id:r.uid,email:r.email||"",displayName:r.displayName||"",photoURL:r.photoURL||"",...t.data()});else{const t={id:r.uid,email:r.email||"",displayName:r.displayName||"",photoURL:r.photoURL||"",isAdmin:!1};await jg(wf(tx,rx,r.uid),t),e(t)}}catch(s){t(s)}else e(null)},s=t,Xn(ex).onAuthStateChanged(r,s,i));var r,s,i})),ox=async e=>{try{await async function(e,t){const n=Vi(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await Ji(n,r,"getOobCode",ra)}(ex,e)}catch(t){throw t}},lx="products",cx=async()=>{try{return(await kg(bf(tx,lx))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},ux=async e=>{try{const t=wf(tx,lx,e),n=await bg(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){throw t}},dx=async(e,t)=>{try{const n=await function(e,t){const n=hf(e.firestore,_f),r=wf(e),s=pg(e.converter,t);return _g(n,[Uf(Lf(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,ad.exists(!1))]).then((()=>r))}(bf(tx,lx),{...e,createdAt:new Date});if(t){const e=Lv(nx,`products/${n.id}`);await Ov(e,t);const r=await zv(e);await Ng(n,{imageUrl:r})}return n.id}catch(n){throw n}},hx=async e=>{try{await(t=wf(tx,lx,e),_g(hf(t.firestore,_f),[new xd(t._key,ad.none())]));try{const t=Lv(nx,`products/${e}`);await Mv(t)}catch(n){}}catch(n){throw n}var t},mx=async()=>{try{return(await kg(bf(tx,"categories"))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},px=rt.createContext(void 0);function fx({children:e}){const[t,n]=rt.useState(null),[r,s]=rt.useState(!0);rt.useEffect((()=>{(async()=>{try{const e=await ax();n(e)}catch(e){}finally{s(!1)}})()}),[]);const i={user:t,loading:r,login:async(e,t)=>{s(!0);try{const r=await(async(e,t)=>{try{const n=await ka(ex,e,t),{user:r}=n,s=await bg(wf(tx,rx,r.uid));if(s.exists())return{id:r.uid,email:r.email||e,displayName:r.displayName||"",photoURL:r.photoURL||"",...s.data()};{const t={id:r.uid,email:r.email||e,displayName:r.displayName||"",photoURL:r.photoURL||"",isAdmin:!1};return await jg(wf(tx,rx,r.uid),t),t}}catch(n){throw n}})(e,t);n(r)}catch(r){throw r}finally{s(!1)}},register:async(e,t,r)=>{s(!0);try{const s=await sx(e,t,r);n(s)}catch(i){throw i}finally{s(!1)}},logout:async()=>{s(!0);try{await ix(),n(null)}catch(e){throw e}finally{s(!1)}},updateProfile:async e=>{if(!t)throw new Error("User not authenticated");s(!0);try{await(async(e,t)=>{try{const n=ex.currentUser;if(!n)throw new Error("User not authenticated");await Ng(wf(tx,rx,e),t),t.displayName&&await ja(n,{displayName:t.displayName}),t.photoURL&&await ja(n,{photoURL:t.photoURL}),t.email&&t.email!==n.email&&await Na(n,t.email)}catch(n){throw n}})(t.id,e),n((t=>t?{...t,...e}:null))}catch(r){throw r}finally{s(!1)}},sendPasswordReset:async e=>{s(!0);try{await ox(e)}catch(t){throw t}finally{s(!1)}},isAuthenticated:!!t};return W.jsx(px.Provider,{value:i,children:e})}const gx=()=>{const e=rt.useContext(px);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},vx="carts",yx="guest_cart",xx=rt.createContext(void 0);function bx(){const e=rt.useContext(xx);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}function wx({children:e}){const[t,n]=rt.useState([]),[r,s]=rt.useState(!0),{user:i}=gx();rt.useEffect((()=>{(async()=>{s(!0);try{if(i){const e=wf(tx,vx,i.id),r=await bg(e);r.exists()?n(r.data().items||[]):(await jg(e,{items:[],updatedAt:Sg()}),n([]));const s=localStorage.getItem(yx);if(s){const r=JSON.parse(s);if(r.length>0){const s=a([...t,...r]);n(s),await Ng(e,{items:s,updatedAt:Sg()}),localStorage.removeItem(yx)}}}else{const e=localStorage.getItem(yx);n(e?JSON.parse(e):[])}}catch(e){n([])}finally{s(!1)}})()}),[i]);const a=e=>{const t={};return e.forEach((e=>{t[e.id]?t[e.id].quantity+=e.quantity:t[e.id]={...e}})),Object.values(t)},o=async()=>{try{if(i){const e=wf(tx,vx,i.id);await Ng(e,{items:t,updatedAt:Sg()})}else localStorage.setItem(yx,JSON.stringify(t))}catch(e){}},l=async e=>{try{const r=t.filter((t=>t.id!==e));n(r),await o()}catch(r){throw r}},c=rt.useCallback((()=>t.reduce(((e,t)=>e+t.price*t.quantity),0)),[t]),u=rt.useCallback((()=>t.reduce(((e,t)=>e+t.quantity),0)),[t]),d={cart:t,loading:r,addToCart:async e=>{try{const r=t.findIndex((t=>t.id===e.id));if(r>=0){const e=[...t];e[r].quantity+=1,n(e)}else n((t=>[...t,{...e,quantity:1}]));await o()}catch(r){throw r}},removeFromCart:l,updateQuantity:async(e,r)=>{try{if(r<=0)return void(await l(e));const s=t.map((t=>t.id===e?{...t,quantity:r}:t));n(s),await o()}catch(s){throw s}},getTotal:c,getItemsCount:u,clearCart:async()=>{try{n([]),await o()}catch(e){throw e}},saveCartToDatabase:o};return W.jsx(xx.Provider,{value:d,children:e})}var kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jx=(e,t)=>{const n=rt.forwardRef((({color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:o,...l},c)=>{return rt.createElement("svg",{ref:c,...kx,width:r,height:r,stroke:n,strokeWidth:i?24*Number(s)/Number(r):s,className:["lucide",`lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,a].join(" "),...l},[...t.map((([e,t])=>rt.createElement(e,t))),...Array.isArray(o)?o:[o]]);var u}));return n.displayName=`${e}`,n},Nx=jx("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_x=jx("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Sx=jx("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ex=jx("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Tx=jx("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Cx=jx("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Ix=jx("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ax=jx("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Px=jx("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Rx=jx("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Dx=jx("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ox=jx("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zx=jx("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Mx=jx("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lx=jx("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ux=jx("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Fx=jx("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vx=jx("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Bx=jx("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),qx=jx("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Kx=jx("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Hx=jx("Flower",[["path",{d:"M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V9m-4.5 3a4.5 4.5 0 1 0 4.5 4.5M7.5 12H9m7.5 0a4.5 4.5 0 1 1-4.5 4.5m4.5-4.5H15m-3 4.5V15",key:"51z86h"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m8 16 1.5-1.5",key:"ce6zph"}],["path",{d:"M14.5 9.5 16 8",key:"1kzrzb"}],["path",{d:"m8 8 1.5 1.5",key:"1yv88w"}],["path",{d:"M14.5 14.5 16 16",key:"12xhjh"}]]),$x=jx("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Gx=jx("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Wx=jx("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Qx=jx("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Jx=jx("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Yx=jx("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),Zx=jx("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Xx=jx("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),eb=jx("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),tb=jx("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),nb=jx("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),rb=jx("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),sb=jx("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ib=jx("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ab=jx("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ob=jx("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),lb=jx("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),cb=jx("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ub=jx("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),db=jx("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),hb=jx("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),mb=jx("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pb=jx("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),fb=jx("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),gb=jx("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),vb=jx("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),yb=jx("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),xb=jx("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),bb=jx("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wb=jx("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),kb=jx("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jb=jx("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Nb=jx("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),_b=jx("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sb=jx("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Eb=jx("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Tb=jx("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Cb(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Cb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ib(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Cb(e))&&(r&&(r+=" "),r+=t);return r}const Ab=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Pb=Ib,Rb=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Pb(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map((e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const a=Ab(t)||Ab(r);return s[e][a]})),o=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n}))?[...e,n,r]:e}),[]);return Pb(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},Db=e=>{const t=Lb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Ob(n,t)||Mb(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},Ob=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),i=s?Ob(e.slice(1),s):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(a))))?void 0:n.classGroupId},zb=/^\[(.+)\]$/,Mb=e=>{if(zb.test(e)){const t=zb.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Lb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Bb(Object.entries(e.classGroups),n).forEach((([e,n])=>{Ub(n,r,e,t)})),r},Ub=(e,t,n,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return Vb(e)?void Ub(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,s])=>{Ub(s,Fb(t,e),n,r)}))}else{(""===e?t:Fb(t,e)).classGroupId=n}}))},Fb=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},Vb=e=>e.isThemeGetter,Bb=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,qb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},Kb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],i=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===s&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},Hb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},$b=/\s+/;function Gb(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Wb(e))&&(r&&(r+=" "),r+=t);return r}const Wb=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Wb(e[r]))&&(n&&(n+=" "),n+=t);return n};function Qb(e,...t){let n,r,s,i=function(o){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:qb(e.cacheSize),parseClassName:Kb(e),...Db(e)}))(l),r=n.cache.get,s=n.cache.set,i=a,a(o)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split($b);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),m=r(h?u.substring(0,d):u);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=r(u),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=Hb(t).join(":"),f=c?p+"!":p,g=f+m;if(i.includes(g))continue;i.push(g);const v=s(m,h);for(let n=0;n<v.length;++n){const e=v[n];i.push(f+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return s(e,i),i}return function(){return i(Gb.apply(null,arguments))}}const Jb=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Yb=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zb=/^\d+\/\d+$/,Xb=new Set(["px","full","screen"]),ew=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iw=e=>ow(e)||Xb.has(e)||Zb.test(e),aw=e=>bw(e,"length",ww),ow=e=>Boolean(e)&&!Number.isNaN(Number(e)),lw=e=>bw(e,"number",ow),cw=e=>Boolean(e)&&Number.isInteger(Number(e)),uw=e=>e.endsWith("%")&&ow(e.slice(0,-1)),dw=e=>Yb.test(e),hw=e=>ew.test(e),mw=new Set(["length","size","percentage"]),pw=e=>bw(e,mw,kw),fw=e=>bw(e,"position",kw),gw=new Set(["image","url"]),vw=e=>bw(e,gw,Nw),yw=e=>bw(e,"",jw),xw=()=>!0,bw=(e,t,n)=>{const r=Yb.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},ww=e=>tw.test(e)&&!nw.test(e),kw=()=>!1,jw=e=>rw.test(e),Nw=e=>sw.test(e),_w=Qb((()=>{const e=Jb("colors"),t=Jb("spacing"),n=Jb("blur"),r=Jb("brightness"),s=Jb("borderColor"),i=Jb("borderRadius"),a=Jb("borderSpacing"),o=Jb("borderWidth"),l=Jb("contrast"),c=Jb("grayscale"),u=Jb("hueRotate"),d=Jb("invert"),h=Jb("gap"),m=Jb("gradientColorStops"),p=Jb("gradientColorStopPositions"),f=Jb("inset"),g=Jb("margin"),v=Jb("opacity"),y=Jb("padding"),x=Jb("saturate"),b=Jb("scale"),w=Jb("sepia"),k=Jb("skew"),j=Jb("space"),N=Jb("translate"),_=()=>["auto",dw,t],S=()=>[dw,t],E=()=>["",iw,aw],T=()=>["auto",ow,dw],C=()=>["","0",dw],I=()=>[ow,dw];return{cacheSize:500,separator:":",theme:{colors:[xw],spacing:[iw,aw],blur:["none","",hw,dw],brightness:I(),borderColor:[e],borderRadius:["none","","full",hw,dw],borderSpacing:S(),borderWidth:E(),contrast:I(),grayscale:C(),hueRotate:I(),invert:C(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[uw,aw],inset:_(),margin:_(),opacity:I(),padding:S(),saturate:I(),scale:I(),sepia:C(),skew:I(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",dw]}],container:["container"],columns:[{columns:[hw]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",dw]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cw,dw]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dw]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",cw,dw]}],"grid-cols":[{"grid-cols":[xw]}],"col-start-end":[{col:["auto",{span:["full",cw,dw]},dw]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[xw]}],"row-start-end":[{row:["auto",{span:[cw,dw]},dw]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dw]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dw]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dw,t]}],"min-w":[{"min-w":[dw,t,"min","max","fit"]}],"max-w":[{"max-w":[dw,t,"none","full","min","max","fit","prose",{screen:[hw]},hw]}],h:[{h:[dw,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dw,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dw,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dw,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hw,aw]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lw]}],"font-family":[{font:[xw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dw]}],"line-clamp":[{"line-clamp":["none",ow,lw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",iw,dw]}],"list-image":[{"list-image":["none",dw]}],"list-style-type":[{list:["none","disc","decimal",dw]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",iw,aw]}],"underline-offset":[{"underline-offset":["auto",iw,dw]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dw]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dw]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",fw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[iw,dw]}],"outline-w":[{outline:[iw,aw]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[iw,aw]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hw,yw]}],"shadow-color":[{shadow:[xw]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hw,dw]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dw]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",dw]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",dw]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cw,dw]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dw]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dw]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dw]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[iw,aw,lw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function Sw(...e){return _w(Ib(e))}const Ew=Rb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Tw=rt.forwardRef((({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?J:"button";return W.jsx(a,{className:Sw(Ew({variant:t,size:n,className:e})),ref:i,...s})}));function Cw(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function Iw(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every((n=>{const r=e[n],s=t[n];return"function"==typeof r?`${r}`==`${s}`:Cw(r)&&Cw(s)?Iw(r,s):r===s}))}function Aw(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function Pw(e){return"number"==typeof e}function Rw(e){return"string"==typeof e}function Dw(e){return"boolean"==typeof e}function Ow(e){return"[object Object]"===Object.prototype.toString.call(e)}function zw(e){return Math.abs(e)}function Mw(e){return Math.sign(e)}function Lw(e,t){return zw(e-t)}function Uw(e){return Kw(e).map(Number)}function Fw(e){return e[Vw(e)]}function Vw(e){return Math.max(0,e.length-1)}function Bw(e,t){return t===Vw(e)}function qw(e,t=0){return Array.from(Array(e),((e,n)=>t+n))}function Kw(e){return Object.keys(e)}function Hw(e,t){return[e,t].reduce(((e,t)=>(Kw(t).forEach((n=>{const r=e[n],s=t[n],i=Ow(r)&&Ow(s);e[n]=i?Hw(r,s):s})),e)),{})}function $w(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function Gw(){let e=[];const t={add:function(n,r,s,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(r,s,i),a=()=>n.removeEventListener(r,s,i);else{const e=n;e.addListener(s),a=()=>e.removeListener(s)}return e.push(a),t},clear:function(){e=e.filter((e=>e()))}};return t}function Ww(e,t,n,r){const s=Gw(),i=1e3/60;let a=null,o=0,l=0;function c(e){if(!l)return;a||(a=e,n(),n());const s=e-a;for(a=e,o+=s;o>=i;)n(),o-=i;r(o/i),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),a=null,o=0,l=0}return{init:function(){s.add(e,"visibilitychange",(()=>{e.hidden&&(a=null,o=0)}))},destroy:function(){u(),s.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:n,render:r}}function Qw(e=0,t=0){const n=zw(e-t);function r(t){return t<e}function s(e){return e>t}function i(e){return r(e)||s(e)}return{length:n,max:t,min:e,constrain:function(n){return i(n)?r(n)?e:t:n},reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function Jw(e,t,n){const{constrain:r}=Qw(0,e),s=e+1;let i=a(t);function a(e){return n?zw((s+e)%s):r(e)}function o(){return i}function l(){return Jw(e,o(),n)}const c={get:o,set:function(e){return i=a(e),c},add:function(e){return l().set(o()+e)},clone:l};return c}function Yw(e,t,n,r,s,i,a,o,l,c,u,d,h,m,p,f,g,v,y){const{cross:x,direction:b}=e,w=["INPUT","SELECT","TEXTAREA"],k={passive:!1},j=Gw(),N=Gw(),_=Qw(50,225).constrain(m.measure(20)),S={mouse:300,touch:400},E={mouse:500,touch:600},T=p?43:25;let C=!1,I=0,A=0,P=!1,R=!1,D=!1,O=!1;function z(e){if(!$w(e,r)&&e.touches.length>=2)return M(e);const t=i.readPoint(e),n=i.readPoint(e,x),a=Lw(t,I),l=Lw(n,A);if(!R&&!O){if(!e.cancelable)return M(e);if(R=a>l,!R)return M(e)}const u=i.pointerMove(e);a>f&&(D=!0),c.useFriction(.3).useDuration(.75),o.start(),s.add(b(u)),e.preventDefault()}function M(e){const t=u.byDistance(0,!1).index!==d.get(),n=i.pointerUp(e)*(p?E:S)[O?"mouse":"touch"],r=function(e,t){const n=d.add(-1*Mw(e)),r=u.byDistance(e,!p).distance;return p||zw(e)<_?r:g&&t?.5*r:u.byIndex(n.get(),0).distance}(b(n),t),s=function(e,t){if(0===e||0===t)return 0;if(zw(e)<=zw(t))return 0;const n=Lw(zw(e),zw(t));return zw(n/e)}(n,r),a=T-10*s,o=v+s/50;R=!1,P=!1,N.clear(),c.useDuration(a).useFriction(o),l.distance(r,!p),O=!1,h.emit("pointerUp")}function L(e){D&&(e.stopPropagation(),e.preventDefault(),D=!1)}return{init:function(e){if(!y)return;function o(o){(Dw(y)||y(e,o))&&function(e){const o=$w(e,r);if(O=o,D=p&&o&&!e.buttons&&C,C=Lw(s.get(),a.get())>=2,o&&0!==e.button)return;if(function(e){const t=e.nodeName||"";return w.includes(t)}(e.target))return;P=!0,i.pointerDown(e),c.useFriction(0).useDuration(0),s.set(a),function(){const e=O?n:t;N.add(e,"touchmove",z,k).add(e,"touchend",M).add(e,"mousemove",z,k).add(e,"mouseup",M)}(),I=i.readPoint(e),A=i.readPoint(e,x),h.emit("pointerDown")}(o)}const l=t;j.add(l,"dragstart",(e=>e.preventDefault()),k).add(l,"touchmove",(()=>{}),k).add(l,"touchend",(()=>{})).add(l,"touchstart",o).add(l,"mousedown",o).add(l,"touchcancel",M).add(l,"contextmenu",M).add(l,"click",L,!0)},destroy:function(){j.clear(),N.clear()},pointerDown:function(){return P}}}function Zw(e,t){let n,r;function s(e){return e.timeStamp}function i(n,r){const s="client"+("x"===(r||e.scroll)?"X":"Y");return($w(n,t)?n:n.touches[0])[s]}return{pointerDown:function(e){return n=e,r=e,i(e)},pointerMove:function(e){const t=i(e)-i(r),a=s(e)-s(n)>170;return r=e,a&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;const t=i(r)-i(n),a=s(e)-s(n),o=s(e)-s(r)>170,l=t/a;return a&&!o&&zw(l)>.1?l:0},readPoint:i}}function Xw(e,t,n,r,s,i,a){const o=[e].concat(r);let l,c,u=[],d=!1;function h(e){return s.measureSize(a.measure(e))}return{init:function(s){i&&(c=h(e),u=r.map(h),l=new ResizeObserver((n=>{(Dw(i)||i(s,n))&&function(n){for(const i of n){if(d)return;const n=i.target===e,a=r.indexOf(i.target),o=n?c:u[a];if(zw(h(n?e:r[a])-o)>=.5){s.reInit(),t.emit("resize");break}}}(n)})),n.requestAnimationFrame((()=>{o.forEach((e=>l.observe(e)))})))},destroy:function(){d=!0,l&&l.disconnect()}}}function ek(e,t,n,r,s){const i=s.measure(10),a=s.measure(50),o=Qw(.1,.99);let l=!1;function c(){return!l&&(!!e.reachedAny(n.get())&&!!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(s){if(!c())return;const l=e.reachedMin(t.get())?"min":"max",u=zw(e[l]-t.get()),d=n.get()-t.get(),h=o.constrain(u/a);n.subtract(d*h),!s&&zw(d)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function tk(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:o}=Qw(s,i);return{loop:function(t){if(!function(e){return 1===e?o(n.get()):-1===e&&a(n.get())}(t))return;const s=e*(-1*t);r.forEach((e=>e.add(s)))}}}function nk(e,t,n,r,s){const{reachedAny:i,removeOffset:a,constrain:o}=r;function l(e){return e.concat().sort(((e,t)=>zw(e)-zw(t)))[0]}function c(t,r){const s=[t,t+n,t-n];if(!e)return t;if(!r)return l(s);const i=s.filter((e=>Mw(e)===r));return i.length?l(i):Fw(s)-n}return{byDistance:function(n,r){const l=s.get()+n,{index:u,distance:d}=function(n){const r=e?a(n):o(n),s=t.map(((e,t)=>({diff:c(e-r,0),index:t}))).sort(((e,t)=>zw(e.diff)-zw(t.diff))),{index:i}=s[0];return{index:i,distance:r}}(l),h=!e&&i(l);return!r||h?{index:u,distance:n}:{index:u,distance:n+c(t[u]-d,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-s.get(),n)}},shortcut:c}}function rk(e,t,n,r,s,i,a,o){const l={passive:!0,capture:!0};let c=0;function u(e){"Tab"===e.code&&(c=(new Date).getTime())}return{init:function(d){o&&(i.add(document,"keydown",u,!1),t.forEach(((t,u)=>{i.add(t,"focus",(t=>{(Dw(o)||o(d,t))&&function(t){if((new Date).getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const i=n.findIndex((e=>e.includes(t)));Pw(i)&&(s.useDuration(0),r.index(i,0),a.emit("slideFocus"))}(u)}),l)})))}}}function sk(e){let t=e;function n(e){return Pw(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function ik(e,t){const n="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},r=t.style;let s=null,i=!1;return{clear:function(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(i)return;const a=(o=e.direction(t),Math.round(100*o)/100);var o;a!==s&&(r.transform=n(a),s=a)},toggleActive:function(e){i=!e}}}function ak(e,t,n,r,s,i,a,o,l){const c=Uw(s),u=Uw(s).reverse(),d=function(){const e=a[0];return p(m(u,e),n,!1)}().concat(function(){const e=t-a[0]-1;return p(m(c,e),-n,!0)}());function h(e,t){return e.reduce(((e,t)=>e-s[t]),t)}function m(e,t){return e.reduce(((e,n)=>h(e,t)>0?e.concat([n]):e),[])}function p(s,a,c){const u=function(e){return i.map(((n,s)=>({start:n-r[s]+.5+e,end:n+t-.5+e})))}(a);return s.map((t=>{const r=c?0:-n,s=c?n:0,i=c?"end":"start",a=u[t][i];return{index:t,loopPoint:a,slideLocation:sk(-1),translate:ik(e,l[t]),target:()=>o.get()>a?r:s}}))}return{canLoop:function(){return d.every((({index:e})=>h(c.filter((t=>t!==e)),t)<=.1))},clear:function(){d.forEach((e=>e.translate.clear()))},loop:function(){d.forEach((e=>{const{target:t,translate:n,slideLocation:r}=e,s=t();s!==r.get()&&(n.to(s),r.set(s))}))},loopPoints:d}}function ok(e,t,n){let r,s=!1;return{init:function(i){n&&(r=new MutationObserver((e=>{s||(Dw(n)||n(i,e))&&function(e){for(const n of e)if("childList"===n.type){i.reInit(),t.emit("slidesChanged");break}}(e)})),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),s=!0}}}function lk(e,t,n,r){const s={};let i,a=null,o=null,l=!1;return{init:function(){i=new IntersectionObserver((e=>{l||(e.forEach((e=>{const n=t.indexOf(e.target);s[n]=e})),a=null,o=null,n.emit("slidesInView"))}),{root:e.parentElement,threshold:r}),t.forEach((e=>i.observe(e)))},destroy:function(){i&&i.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&o)return o;const t=function(e){return Kw(s).reduce(((t,n)=>{const r=parseInt(n),{isIntersecting:i}=s[r];return(e&&i||!e&&!i)&&t.push(r),t}),[])}(e);return e&&(a=t),e||(o=t),t}}}function ck(e,t,n,r,s,i,a,o,l){const{startEdge:c,endEdge:u,direction:d}=e,h=Pw(n);return{groupSlides:function(e){return h?function(e,t){return Uw(e).filter((e=>e%t===0)).map((n=>e.slice(n,n+t)))}(e,n):function(e){return e.length?Uw(e).reduce(((n,h,m)=>{const p=Fw(n)||0,f=0===p,g=h===Vw(e),v=s[c]-i[p][c],y=s[c]-i[h][u],x=!r&&f?d(a):0,b=zw(y-(!r&&g?d(o):0)-(v+x));return m&&b>t+l&&n.push(h),g&&n.push(e.length),n}),[]).map(((t,n,r)=>{const s=Math.max(r[n-1]||0);return e.slice(s,t)})):[]}(e)}}}function uk(e,t,n,r,s,i,a){const{align:o,axis:l,direction:c,startIndex:u,loop:d,duration:h,dragFree:m,dragThreshold:p,inViewThreshold:f,slidesToScroll:g,skipSnaps:v,containScroll:y,watchResize:x,watchSlides:b,watchDrag:w,watchFocus:k}=i,j={measure:function(e){const{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:s}=e;return{top:t,right:n+r,bottom:t+s,left:n,width:r,height:s}}},N=j.measure(t),_=n.map(j.measure),S=function(e,t){const n="rtl"===t,r="y"===e,s=!r&&n?-1:1;return{scroll:r?"y":"x",cross:r?"x":"y",startEdge:r?"top":n?"right":"left",endEdge:r?"bottom":n?"left":"right",measureSize:function(e){const{height:t,width:n}=e;return r?t:n},direction:function(e){return e*s}}}(l,c),E=S.measureSize(N),T=function(e){return{measure:function(t){return e*(t/100)}}}(E),C=function(e,t){const n={start:function(){return 0},center:function(e){return r(e)/2},end:r};function r(e){return t-e}return{measure:function(r,s){return Rw(e)?n[e](r):e(t,r,s)}}}(o,E),I=!d&&!!y,A=d||!!y,{slideSizes:P,slideSizesWithGaps:R,startGap:D,endGap:O}=function(e,t,n,r,s,i){const{measureSize:a,startEdge:o,endEdge:l}=e,c=n[0]&&s,u=function(){if(!c)return 0;const e=n[0];return zw(t[o]-e[o])}(),d=function(){if(!c)return 0;const e=i.getComputedStyle(Fw(r));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),h=n.map(a),m=n.map(((e,t,n)=>{const r=!t,s=Bw(n,t);return r?h[t]+u:s?h[t]+d:n[t+1][o]-e[o]})).map(zw);return{slideSizes:h,slideSizesWithGaps:m,startGap:u,endGap:d}}(S,N,_,n,A,s),z=ck(S,E,g,d,N,_,D,O,2),{snaps:M,snapsAligned:L}=function(e,t,n,r,s){const{startEdge:i,endEdge:a}=e,{groupSlides:o}=s,l=o(r).map((e=>Fw(e)[a]-e[0][i])).map(zw).map(t.measure),c=r.map((e=>n[i]-e[i])).map((e=>-zw(e))),u=o(c).map((e=>e[0])).map(((e,t)=>e+l[t]));return{snaps:c,snapsAligned:u}}(S,C,N,_,z),U=-Fw(M)+Fw(R),{snapsContained:F,scrollContainLimit:V}=function(e,t,n,r,s){const i=Qw(-t+e,0),a=n.map(((e,t)=>{const{min:r,max:s}=i,a=i.constrain(e),o=!t,c=Bw(n,t);return o?s:c||l(r,a)?r:l(s,a)?s:a})).map((e=>parseFloat(e.toFixed(3)))),o=function(){const e=a[0],t=Fw(a);return Qw(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return Lw(e,t)<=1}return{snapsContained:function(){if(t<=e+s)return[i.max];if("keepSnaps"===r)return a;const{min:n,max:l}=o;return a.slice(n,l)}(),scrollContainLimit:o}}(E,U,L,y,2),B=I?F:L,{limit:q}=function(e,t,n){const r=t[0];return{limit:Qw(n?r-e:Fw(t),r)}}(U,B,d),K=Jw(Vw(B),u,d),H=K.clone(),$=Uw(n),G=Ww(r,s,(()=>(({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:r}})=>{r||n.constrain(e.pointerDown()),t.seek()})(oe)),(e=>(({scrollBody:e,translate:t,location:n,offsetLocation:r,previousLocation:s,scrollLooper:i,slideLooper:a,dragHandler:o,animation:l,eventHandler:c,scrollBounds:u,options:{loop:d}},h)=>{const m=e.settled(),p=!u.shouldConstrain(),f=d?m:m&&p,g=f&&!o.pointerDown();g&&l.stop();const v=n.get()*h+s.get()*(1-h);r.set(v),d&&(i.loop(e.direction()),a.loop()),t.to(r.get()),g&&c.emit("settle"),f||c.emit("scroll")})(oe,e))),W=B[K.get()],Q=sk(W),J=sk(W),Y=sk(W),Z=sk(W),X=function(e,t,n,r,s,i){let a=0,o=0,l=s,c=i,u=e.get(),d=0;function h(e){return l=e,p}function m(e){return c=e,p}const p={direction:function(){return o},duration:function(){return l},velocity:function(){return a},seek:function(){const t=r.get()-e.get();let s=0;return l?(n.set(e),a+=t/l,a*=c,u+=a,e.add(a),s=u-d):(a=0,n.set(r),e.set(r),s=t),o=Mw(s),d=u,p},settled:function(){return zw(r.get()-t.get())<.001},useBaseFriction:function(){return m(i)},useBaseDuration:function(){return h(s)},useFriction:m,useDuration:h};return p}(Q,Y,J,Z,h,.68),ee=nk(d,B,U,q,Z),te=function(e,t,n,r,s,i,a){function o(s){const o=s.distance,l=s.index!==t.get();i.add(o),o&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(s.index),a.emit("select"))}return{distance:function(e,t){o(s.byDistance(e,t))},index:function(e,n){const r=t.clone().set(e);o(s.byIndex(r.get(),n))}}}(G,K,H,X,ee,Z,a),ne=function(e){const{max:t,length:n}=e;return{get:function(e){return n?(e-t)/-n:0}}}(q),re=Gw(),se=lk(t,n,a,f),{slideRegistry:ie}=function(e,t,n,r,s,i){const{groupSlides:a}=s,{min:o,max:l}=r;return{slideRegistry:function(){const r=a(i),s=!e||"keepSnaps"===t;return 1===n.length?[i]:s?r:r.slice(o,l).map(((e,t,n)=>{const r=!t,s=Bw(n,t);return r?qw(Fw(n[0])+1):s?qw(Vw(i)-Fw(n)[0]+1,Fw(n)[0]):e}))}()}}(I,y,B,V,z,$),ae=rk(e,n,ie,te,X,re,a,k),oe={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:N,slideRects:_,animation:G,axis:S,dragHandler:Yw(S,e,r,s,Z,Zw(S,s),Q,G,te,X,ee,K,a,T,m,p,v,.68,w),eventStore:re,percentOfView:T,index:K,indexPrevious:H,limit:q,location:Q,offsetLocation:Y,previousLocation:J,options:i,resizeHandler:Xw(t,a,s,n,S,x,j),scrollBody:X,scrollBounds:ek(q,Y,Z,X,T),scrollLooper:tk(U,q,Y,[Q,Y,J,Z]),scrollProgress:ne,scrollSnapList:B.map(ne.get),scrollSnaps:B,scrollTarget:ee,scrollTo:te,slideLooper:ak(S,E,U,P,R,M,B,Y,n),slideFocus:ae,slidesHandler:ok(t,a,b),slidesInView:se,slideIndexes:$,slideRegistry:ie,slidesToScroll:z,target:Z,translate:ik(S,t)};return oe}Tw.displayName="Button";const dk={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function hk(e){function t(e,t){return Hw(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},s=Kw(r).filter((t=>e.matchMedia(t).matches)).map((e=>r[e])).reduce(((e,n)=>t(e,n)),{});return t(n,s)},optionsMediaQueries:function(t){return t.map((e=>Kw(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}}}function mk(e,t,n){const r=e.ownerDocument,s=r.defaultView,i=hk(s),a=function(e){let t=[];return{init:function(n,r){return t=r.filter((({options:t})=>!1!==e.optionsAtMedia(t).active)),t.forEach((t=>t.init(n,e))),r.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}}}(i),o=Gw(),l=function(){let e,t={};function n(e){return t[e]||[]}const r={init:function(t){e=t},emit:function(t){return n(t).forEach((n=>n(e,t))),r},off:function(e,s){return t[e]=n(e).filter((e=>e!==s)),r},on:function(e,s){return t[e]=n(e).concat([s]),r},clear:function(){t={}}};return r}(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=i,{on:h,off:m,emit:p}=l,f=S;let g,v,y,x,b=!1,w=c(dk,mk.globalOptions),k=c(w),j=[];function N(t){const n=uk(e,y,x,r,s,t,l);if(t.loop&&!n.slideLooper.canLoop()){return N(Object.assign({},t,{loop:!1}))}return n}function _(t,n){b||(w=c(w,t),k=u(w),j=n||j,function(){const{container:t,slides:n}=k,r=Rw(t)?e.querySelector(t):t;y=r||e.children[0];const s=Rw(n)?y.querySelectorAll(n):n;x=[].slice.call(s||y.children)}(),g=N(k),d([w,...j.map((({options:e})=>e))]).forEach((e=>o.add(e,"change",S))),k.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(I),g.eventHandler.init(I),g.resizeHandler.init(I),g.slidesHandler.init(I),g.options.loop&&g.slideLooper.loop(),y.offsetParent&&x.length&&g.dragHandler.init(I),v=a.init(I,j)))}function S(e,t){const n=C();E(),_(c({startIndex:n},e),t),l.emit("reInit")}function E(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),o.clear()}function T(e,t,n){k.active&&!b&&(g.scrollBody.useBaseFriction().useDuration(!0===t?0:k.duration),g.scrollTo.index(e,n||0))}function C(){return g.index.get()}const I={canScrollNext:function(){return g.index.add(1).get()!==C()},canScrollPrev:function(){return g.index.add(-1).get()!==C()},containerNode:function(){return y},internalEngine:function(){return g},destroy:function(){b||(b=!0,o.clear(),E(),l.emit("destroy"),l.clear())},off:m,on:h,emit:p,plugins:function(){return v},previousScrollSnap:function(){return g.indexPrevious.get()},reInit:f,rootNode:function(){return e},scrollNext:function(e){T(g.index.add(1).get(),e,-1)},scrollPrev:function(e){T(g.index.add(-1).get(),e,1)},scrollProgress:function(){return g.scrollProgress.get(g.offsetLocation.get())},scrollSnapList:function(){return g.scrollSnapList},scrollTo:T,selectedScrollSnap:C,slideNodes:function(){return x},slidesInView:function(){return g.slidesInView.get()},slidesNotInView:function(){return g.slidesInView.get(!1)}};return _(t,n),setTimeout((()=>l.emit("init")),0),I}function pk(e={},t=[]){const n=rt.useRef(e),r=rt.useRef(t),[s,i]=rt.useState(),[a,o]=rt.useState(),l=rt.useCallback((()=>{s&&s.reInit(n.current,r.current)}),[s]);return rt.useEffect((()=>{Iw(n.current,e)||(n.current=e,l())}),[e,l]),rt.useEffect((()=>{(function(e,t){if(e.length!==t.length)return!1;const n=Aw(e),r=Aw(t);return n.every(((e,t)=>Iw(e,r[t])))})(r.current,t)||(r.current=t,l())}),[t,l]),rt.useEffect((()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&a){mk.globalOptions=pk.globalOptions;const e=mk(a,n.current,r.current);return i(e),()=>e.destroy()}i(void 0)}),[a,i]),[o,s]}mk.globalOptions=void 0,pk.globalOptions=void 0;const fk=rt.createContext(null);function gk(){const e=rt.useContext(fk);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const vk=rt.forwardRef((({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:s,children:i,...a},o)=>{const[l,c]=pk({...t,axis:"horizontal"===e?"x":"y"},r),[u,d]=rt.useState(!1),[h,m]=rt.useState(!1),p=rt.useCallback((e=>{e&&(d(e.canScrollPrev()),m(e.canScrollNext()))}),[]),f=rt.useCallback((()=>{null==c||c.scrollPrev()}),[c]),g=rt.useCallback((()=>{null==c||c.scrollNext()}),[c]),v=rt.useCallback((e=>{"ArrowLeft"===e.key?(e.preventDefault(),f()):"ArrowRight"===e.key&&(e.preventDefault(),g())}),[f,g]);return rt.useEffect((()=>{c&&n&&n(c)}),[c,n]),rt.useEffect((()=>{if(c)return p(c),c.on("reInit",p),c.on("select",p),()=>{null==c||c.off("select",p)}}),[c,p]),W.jsx(fk.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||("y"===(null==t?void 0:t.axis)?"vertical":"horizontal"),scrollPrev:f,scrollNext:g,canScrollPrev:u,canScrollNext:h},children:W.jsx("div",{ref:o,onKeyDownCapture:v,className:Sw("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})}));vk.displayName="Carousel";const yk=rt.forwardRef((({className:e,...t},n)=>{const{carouselRef:r,orientation:s}=gk();return W.jsx("div",{ref:r,className:"overflow-hidden",children:W.jsx("div",{ref:n,className:Sw("flex","horizontal"===s?"-ml-4":"-mt-4 flex-col",e),...t})})}));yk.displayName="CarouselContent";const xk=rt.forwardRef((({className:e,...t},n)=>{const{orientation:r}=gk();return W.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Sw("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",e),...t})}));xk.displayName="CarouselItem";const bk=rt.forwardRef((({className:e,variant:t="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:o}=gk();return W.jsxs(Tw,{ref:s,variant:t,size:n,className:Sw("absolute  h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...r,children:[W.jsx(Sx,{className:"h-4 w-4"}),W.jsx("span",{className:"sr-only",children:"Previous slide"})]})}));bk.displayName="CarouselPrevious";const wk=rt.forwardRef((({className:e,variant:t="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:a,canScrollNext:o}=gk();return W.jsxs(Tw,{ref:s,variant:t,size:n,className:Sw("absolute h-8 w-8 rounded-full","horizontal"===i?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...r,children:[W.jsx(Ex,{className:"h-4 w-4"}),W.jsx("span",{className:"sr-only",children:"Next slide"})]})}));wk.displayName="CarouselNext";const kk=Rb("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jk({className:e,variant:t,...n}){return W.jsx("div",{className:Sw(kk({variant:t}),e),...n})}var Nk="Tabs",[_k,Sk]=Y(Nk,[Z]),Ek=Z(),[Tk,Ck]=_k(Nk),Ik=rt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=e,u=se(o),[d,h]=ie({prop:r,onChange:s,defaultProp:i??"",caller:Nk});return W.jsx(Tk,{scope:n,baseId:ae(),value:d,onValueChange:h,orientation:a,dir:u,activationMode:l,children:W.jsx(ee.div,{dir:u,"data-orientation":a,...c,ref:t})})}));Ik.displayName=Nk;var Ak="TabsList",Pk=rt.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Ck(Ak,n),a=Ek(n);return W.jsx(X,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:W.jsx(ee.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})}));Pk.displayName=Ak;var Rk="TabsTrigger",Dk=rt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Ck(Rk,n),o=Ek(n),l=Mk(a.baseId,r),c=Lk(a.baseId,r),u=r===a.value;return W.jsx(te,{asChild:!0,...o,focusable:!s,active:u,children:W.jsx(ee.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ne(e.onMouseDown,(e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(r)})),onKeyDown:ne(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(r)})),onFocus:ne(e.onFocus,(()=>{const e="manual"!==a.activationMode;u||s||!e||a.onValueChange(r)}))})})}));Dk.displayName=Rk;var Ok="TabsContent",zk=rt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,o=Ck(Ok,n),l=Mk(o.baseId,r),c=Lk(o.baseId,r),u=r===o.value,d=rt.useRef(u);return rt.useEffect((()=>{const e=requestAnimationFrame((()=>d.current=!1));return()=>cancelAnimationFrame(e)}),[]),W.jsx(re,{present:s||u,children:({present:n})=>W.jsx(ee.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&i})})}));function Mk(e,t){return`${e}-trigger-${t}`}function Lk(e,t){return`${e}-content-${t}`}zk.displayName=Ok;var Uk=Pk,Fk=Dk,Vk=zk;const Bk=Ik,qk=rt.forwardRef((({className:e,...t},n)=>W.jsx(Uk,{ref:n,className:Sw("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t})));qk.displayName=Uk.displayName;const Kk=rt.forwardRef((({className:e,...t},n)=>W.jsx(Fk,{ref:n,className:Sw("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t})));Kk.displayName=Fk.displayName;const Hk=rt.forwardRef((({className:e,...t},n)=>W.jsx(Vk,{ref:n,className:Sw("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));Hk.displayName=Vk.displayName;const $k=rt.forwardRef((({className:e,type:t,...n},r)=>W.jsx("input",{type:t,className:Sw("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n})));$k.displayName="Input";const Gk=me,Wk=pe,Qk=le,Jk=rt.forwardRef((({className:e,...t},n)=>W.jsx(oe,{className:Sw("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n})));Jk.displayName=oe.displayName;const Yk=Rb("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zk=rt.forwardRef((({side:e="right",className:t,children:n,...r},s)=>W.jsxs(Qk,{children:[W.jsx(Jk,{}),W.jsxs(ce,{ref:s,className:Sw(Yk({side:e}),t),...r,children:[W.jsxs(ue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[W.jsx(Tb,{className:"h-4 w-4"}),W.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]})));Zk.displayName=ce.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx(de,{ref:n,className:Sw("text-lg font-semibold text-foreground",e),...t}))).displayName=de.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx(he,{ref:n,className:Sw("text-sm text-muted-foreground",e),...t}))).displayName=he.displayName;const Xk=rt.forwardRef((({className:e,children:t,...n},r)=>W.jsxs(fe,{ref:r,className:Sw("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,W.jsx(aj,{})]})));Xk.displayName=fe.displayName;const ej=rt.forwardRef((({className:e,...t},n)=>W.jsx(ge,{ref:n,className:Sw("group flex flex-1 list-none items-center justify-center space-x-1",e),...t})));ej.displayName=ge.displayName;const tj=we,nj=Rb("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),rj=rt.forwardRef((({className:e,children:t,...n},r)=>W.jsxs(ve,{ref:r,className:Sw(nj(),"group",e),...n,children:[t," ",W.jsx(Rx,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})));rj.displayName=ve.displayName;const sj=rt.forwardRef((({className:e,...t},n)=>W.jsx(ye,{ref:n,className:Sw("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t})));sj.displayName=ye.displayName;const ij=ke,aj=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{className:Sw("absolute left-0 top-full flex justify-center"),children:W.jsx(xe,{className:Sw("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})})));aj.displayName=xe.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx(be,{ref:n,className:Sw("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:W.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}))).displayName=be.displayName;const oj=Re,lj=De;rt.forwardRef((({className:e,inset:t,children:n,...r},s)=>W.jsxs(je,{ref:s,className:Sw("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,W.jsx(Dx,{className:"ml-auto h-4 w-4"})]}))).displayName=je.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx(Ne,{ref:n,className:Sw("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}))).displayName=Ne.displayName;const cj=rt.forwardRef((({className:e,sideOffset:t=4,...n},r)=>W.jsx(_e,{children:W.jsx(Se,{ref:r,sideOffset:t,className:Sw("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})})));cj.displayName=Se.displayName;const uj=rt.forwardRef((({className:e,inset:t,...n},r)=>W.jsx(Ee,{ref:r,className:Sw("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n})));uj.displayName=Ee.displayName;rt.forwardRef((({className:e,children:t,checked:n,...r},s)=>W.jsxs(Te,{ref:s,className:Sw("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[W.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:W.jsx(Ce,{children:W.jsx(Px,{className:"h-4 w-4"})})}),t]}))).displayName=Te.displayName;rt.forwardRef((({className:e,children:t,...n},r)=>W.jsxs(Ie,{ref:r,className:Sw("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[W.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:W.jsx(Ce,{children:W.jsx(zx,{className:"h-2 w-2 fill-current"})})}),t]}))).displayName=Ie.displayName;const dj=rt.forwardRef((({className:e,inset:t,...n},r)=>W.jsx(Ae,{ref:r,className:Sw("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n})));dj.displayName=Ae.displayName;const hj=rt.forwardRef((({className:e,...t},n)=>W.jsx(Pe,{ref:n,className:Sw("-mx-1 my-1 h-px bg-muted",e),...t})));hj.displayName=Pe.displayName;const mj=({className:e="",size:t="md",showText:n=!0})=>W.jsxs(st,{to:"/",className:`flex items-center gap-2 ${e}`,children:[W.jsx("img",{src:"/assets/logo-CDu8WVOc.svg",alt:"Kvitko Sweet Logo",className:`${{sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"}[t]}`}),n&&W.jsxs("div",{children:[W.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Kvitko Sweet"}),W.jsx("p",{className:"text-xs text-muted-foreground",children:"Květinové studio"})]})]}),pj=()=>{const[e,t]=rt.useState(!1),[n,r]=rt.useState(!1),{user:s,logout:i}=gx(),{getItemsCount:a}=bx(),o=a(),l=async()=>{try{await i()}catch(e){}};return W.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-40",children:W.jsxs("div",{className:"container-custom py-4",children:[W.jsxs("div",{className:"flex items-center justify-between",children:[W.jsx(mj,{}),W.jsx("div",{className:"hidden md:flex items-center gap-6",children:W.jsx(Xk,{children:W.jsxs(ej,{children:[W.jsx(tj,{children:W.jsx(ij,{href:"/",className:nj(),children:"Domů"})}),W.jsxs(tj,{children:[W.jsx(rj,{children:"Katalog"}),W.jsx(sj,{children:W.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:[W.jsx("li",{children:W.jsxs(ij,{href:"/catalog/bouquets",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[W.jsx("div",{className:"text-sm font-medium leading-none",children:"Kytice"}),W.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Krásné kytice pro každou příležitost"})]})}),W.jsx("li",{children:W.jsxs(ij,{href:"/catalog/wedding",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[W.jsx("div",{className:"text-sm font-medium leading-none",children:"Svatební květiny"}),W.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Svatební kytice a dekorace"})]})}),W.jsx("li",{children:W.jsxs(ij,{href:"/catalog/plants",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[W.jsx("div",{className:"text-sm font-medium leading-none",children:"Pokojové rostliny"}),W.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Zelené rostliny pro váš domov"})]})}),W.jsx("li",{children:W.jsxs(ij,{href:"/catalog/gifts",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[W.jsx("div",{className:"text-sm font-medium leading-none",children:"Dárky"}),W.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Dárkové předměty a doplňky"})]})})]})})]}),W.jsx(tj,{children:W.jsx(ij,{href:"/custom-bouquet",className:nj(),children:"Vlastní kytice"})}),W.jsx(tj,{children:W.jsx(ij,{href:"/delivery",className:nj(),children:"Doručení"})}),W.jsx(tj,{children:W.jsx(ij,{href:"/blog",className:nj(),children:"Blog"})}),W.jsx(tj,{children:W.jsx(ij,{href:"/contact",className:nj(),children:"Kontakt"})})]})})}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":"Hledat",children:W.jsx(db,{className:"h-5 w-5"})}),s?W.jsxs(oj,{children:[W.jsx(lj,{asChild:!0,children:W.jsx(Tw,{variant:"ghost",size:"icon","aria-label":"Můj účet",children:W.jsx(_b,{className:"h-5 w-5"})})}),W.jsxs(cj,{align:"end",children:[W.jsx(dj,{children:W.jsxs("div",{className:"flex flex-col",children:[W.jsx("span",{children:"Мой аккаунт"}),W.jsx("span",{className:"text-xs text-muted-foreground",children:s.email})]})}),W.jsx(hj,{}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/account",children:"Личный кабинет"})}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/account?tab=orders",children:"Мои заказы"})}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/account?tab=bouquets",children:"Мои букеты"})}),W.jsx(hj,{}),W.jsxs(uj,{className:"text-destructive focus:text-destructive",onClick:l,children:[W.jsx(eb,{className:"mr-2 h-4 w-4"}),W.jsx("span",{children:"Выйти"})]})]})]}):W.jsx(st,{to:"/login",children:W.jsx(Tw,{variant:"ghost",size:"icon","aria-label":"Můj účet",children:W.jsx(_b,{className:"h-5 w-5"})})}),W.jsx(st,{to:"/cart",children:W.jsxs(Tw,{variant:"ghost",size:"icon",className:"relative","aria-label":"Košík",children:[W.jsx(gb,{className:"h-5 w-5"}),o>0&&W.jsx(jk,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:o})]})}),W.jsxs(Gk,{open:n,onOpenChange:r,children:[W.jsx(Wk,{asChild:!0,children:W.jsx(Tw,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Menu",children:W.jsx(rb,{className:"h-5 w-5"})})}),W.jsx(Zk,{side:"right",children:W.jsxs("div",{className:"flex flex-col h-full",children:[W.jsxs("div",{className:"flex items-center justify-between mb-6",children:[W.jsx(mj,{showText:!1,size:"sm"}),W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:W.jsx(Tb,{className:"h-5 w-5"})})]}),s&&W.jsx("div",{className:"mb-6 p-4 bg-muted rounded-lg",children:W.jsxs("div",{className:"flex items-center",children:[W.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3",children:W.jsx(_b,{className:"h-5 w-5 text-primary"})}),W.jsxs("div",{children:[W.jsx("p",{className:"font-medium",children:s.displayName||"Пользователь"}),W.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]})}),W.jsxs("nav",{className:"flex flex-col gap-4",children:[W.jsx(st,{to:"/",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Domů"}),W.jsx(st,{to:"/catalog",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Katalog"}),W.jsx(st,{to:"/custom-bouquet",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Vlastní kytice"}),W.jsx(st,{to:"/delivery",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Doručení"}),W.jsx(st,{to:"/blog",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Blog"}),W.jsx(st,{to:"/contact",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>r(!1),children:"Kontakt"})]}),W.jsxs("div",{className:"mt-auto flex flex-col gap-4",children:[s?W.jsxs(W.Fragment,{children:[W.jsx(st,{to:"/account",onClick:()=>r(!1),children:W.jsxs(Tw,{variant:"outline",className:"w-full",children:[W.jsx(_b,{className:"mr-2 h-4 w-4"}),"Můj účet"]})}),W.jsxs(Tw,{variant:"ghost",className:"w-full",onClick:()=>{l(),r(!1)},children:[W.jsx(eb,{className:"mr-2 h-4 w-4"}),"Odhlásit se"]})]}):W.jsx(st,{to:"/login",onClick:()=>r(!1),children:W.jsxs(Tw,{variant:"outline",className:"w-full",children:[W.jsx(_b,{className:"mr-2 h-4 w-4"}),"Přihlásit se"]})}),W.jsx(st,{to:"/cart",onClick:()=>r(!1),children:W.jsxs(Tw,{className:"w-full",children:[W.jsx(gb,{className:"mr-2 h-4 w-4"}),"Košík",o>0&&W.jsx(jk,{className:"ml-2",children:o})]})})]})]})})]})]})]}),e&&W.jsx("div",{className:"mt-4 animate-fade-in",children:W.jsxs("div",{className:"relative",children:[W.jsx(db,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),W.jsx($k,{placeholder:"Hledat produkty...",className:"pl-10",autoFocus:!0}),W.jsx(Tw,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2",onClick:()=>t(!1),children:W.jsx(Tb,{className:"h-4 w-4"})})]})})]})})};var fj="horizontal",gj=["horizontal","vertical"],vj=rt.forwardRef(((e,t)=>{const{decorative:n,orientation:r=fj,...s}=e,i=function(e){return gj.includes(e)}(r)?r:fj,a=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return W.jsx(ee.div,{"data-orientation":i,...a,...s,ref:t})}));vj.displayName="Separator";var yj=vj;const xj=rt.forwardRef((({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>W.jsx(yj,{ref:s,decorative:n,orientation:t,className:Sw("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r})));xj.displayName=yj.displayName;const bj=()=>W.jsx("footer",{className:"bg-muted pt-12 pb-6",children:W.jsxs("div",{className:"container-custom",children:[W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[W.jsxs("div",{children:[W.jsx(mj,{className:"mb-4"}),W.jsx("p",{className:"text-muted-foreground mb-4",children:"Květinové studio s ukrajinským nádechem. Nabízíme čerstvé květiny, originální kytice a dekorace pro každou příležitost."}),W.jsxs("div",{className:"flex gap-4",children:[W.jsx(Tw,{variant:"ghost",size:"icon",asChild:!0,children:W.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:W.jsx(Vx,{className:"h-5 w-5"})})}),W.jsx(Tw,{variant:"ghost",size:"icon",asChild:!0,children:W.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:W.jsx(Qx,{className:"h-5 w-5"})})})]})]}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rychlé odkazy"}),W.jsxs("ul",{className:"space-y-2",children:[W.jsx("li",{children:W.jsx(st,{to:"/catalog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Katalog"})}),W.jsx("li",{children:W.jsx(st,{to:"/custom-bouquet",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Vlastní kytice"})}),W.jsx("li",{children:W.jsx(st,{to:"/delivery",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Doručení"})}),W.jsx("li",{children:W.jsx(st,{to:"/blog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Blog"})}),W.jsx("li",{children:W.jsx(st,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"O nás"})}),W.jsx("li",{children:W.jsx(st,{to:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Kontakt"})})]})]}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kontakt"}),W.jsxs("ul",{className:"space-y-3",children:[W.jsxs("li",{className:"flex items-start gap-3",children:[W.jsx(nb,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),W.jsx("span",{className:"text-muted-foreground",children:"Květinová 123, 110 00 Praha 1"})]}),W.jsxs("li",{className:"flex items-center gap-3",children:[W.jsx(cb,{className:"h-5 w-5 text-primary shrink-0"}),W.jsx("a",{href:"tel:+420123456789",className:"text-muted-foreground hover:text-foreground transition-colors",children:"+420 123 456 789"})]}),W.jsxs("li",{className:"flex items-center gap-3",children:[W.jsx(tb,{className:"h-5 w-5 text-primary shrink-0"}),W.jsx("a",{href:"mailto:info@kvitkos.cz",className:"text-muted-foreground hover:text-foreground transition-colors",children:"info@kvitkos.cz"})]})]}),W.jsxs("div",{className:"mt-4",children:[W.jsx("h4",{className:"font-medium mb-2",children:"Otevírací doba"}),W.jsx("p",{className:"text-muted-foreground",children:"Po-Pá: 9:00 - 19:00"}),W.jsx("p",{className:"text-muted-foreground",children:"So: 9:00 - 17:00"}),W.jsx("p",{className:"text-muted-foreground",children:"Ne: 10:00 - 15:00"})]})]}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Odběr novinek"}),W.jsx("p",{className:"text-muted-foreground mb-4",children:"Přihlaste se k odběru novinek a získejte 10% slevu na první nákup."}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx($k,{placeholder:"Váš e-mail",type:"email"}),W.jsx(Tw,{children:"Odebírat"})]})]})]}),W.jsx(xj,{className:"my-6"}),W.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[W.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",(new Date).getFullYear()," Kvitko Sweet. Všechna práva vyhrazena."]}),W.jsxs("div",{className:"flex gap-4 text-sm",children:[W.jsx(st,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Obchodní podmínky"}),W.jsx(st,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Ochrana soukromí"}),W.jsx(st,{to:"/cookies",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Cookies"})]})]})]})}),wj=({children:e})=>W.jsxs("div",{className:"flex flex-col min-h-screen",children:[W.jsx(pj,{}),W.jsx("main",{className:"flex-1",children:e}),W.jsx(bj,{})]}),kj=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("rounded-xl border bg-card text-card-foreground shadow",e),...t})));kj.displayName="Card";const jj=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("flex flex-col space-y-1.5 p-6",e),...t})));jj.displayName="CardHeader";const Nj=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("font-semibold leading-none tracking-tight",e),...t})));Nj.displayName="CardTitle";const _j=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("text-sm text-muted-foreground",e),...t})));_j.displayName="CardDescription";const Sj=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("p-6 pt-0",e),...t})));Sj.displayName="CardContent";function Ej({testimonial:e}){return W.jsx(kj,{className:"border-none bg-background/50 backdrop-blur-sm",children:W.jsxs(Sj,{className:"p-8 text-center",children:[e.imageUrl&&W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-16 h-16 rounded-full object-cover"})}),W.jsx("div",{className:"flex justify-center mb-4",children:Array.from({length:5}).map(((t,n)=>W.jsx(yb,{className:"h-5 w-5 "+(n<e.rating?"text-yellow-500 fill-yellow-500":"text-muted-foreground")},n)))}),W.jsxs("p",{className:"text-lg mb-6 italic",children:['"',e.comment,'"']}),W.jsx("p",{className:"font-semibold",children:e.name})]})})}function Tj({product:e}){const{addToCart:t}=bx();return W.jsx(st,{to:`/product/${e.id}`,className:"group",children:W.jsxs(kj,{className:"overflow-hidden border-border card-hover h-full",children:[W.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.featured&&W.jsx("div",{className:"absolute top-3 right-3",children:W.jsx(jk,{className:"bg-primary text-primary-foreground",children:"Oblíbené"})})]}),W.jsxs(Sj,{className:"p-4",children:[W.jsx("h3",{className:"font-semibold text-lg mb-1 group-hover:text-primary transition-colors",children:e.name}),W.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:e.description}),W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsxs("p",{className:"font-semibold",children:[e.price," Kč"]}),W.jsx(Tw,{size:"sm",variant:"outline",onClick:n=>{n.preventDefault(),t({id:e.id,name:e.name,price:e.price,imageUrl:e.imageUrl})},children:"Do košíku"})]})]})]})})}function Cj({post:e}){return W.jsx(st,{to:`/blog/${e.id}`,className:"group",children:W.jsxs(kj,{className:"overflow-hidden border-border card-hover h-full",children:[W.jsx("div",{className:"aspect-video overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),W.jsxs(Sj,{className:"p-4",children:[e.tags&&e.tags.length>0&&W.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map((e=>W.jsx(jk,{variant:"secondary",children:e},e)))}),W.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-primary transition-colors",children:e.title}),W.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:e.excerpt}),W.jsxs("div",{className:"flex items-center text-sm text-muted-foreground gap-4",children:[W.jsxs("div",{className:"flex items-center",children:[W.jsx(Ix,{className:"h-4 w-4 mr-1"}),W.jsx("span",{children:e.date})]}),W.jsxs("div",{className:"flex items-center",children:[W.jsx(_b,{className:"h-4 w-4 mr-1"}),W.jsx("span",{children:e.author})]})]})]})]})})}rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{ref:n,className:Sw("flex items-center p-6 pt-0",e),...t}))).displayName="CardFooter";const Ij="/assets/spring-bouquet-B1XwLQ3m.png",Aj=[{id:"1",name:"Jarní romance",description:"Kytice plná jarních květin v pastelových barvách",price:890,imageUrl:Ij,category:"bouquets",featured:!0},{id:"2",name:"Růžový sen",description:"Elegantní kytice růží v růžových odstínech",price:1290,imageUrl:"/assets/roses-bouquet-Oa9hkQAV.png",category:"bouquets",featured:!0},{id:"3",name:"Slunečnice",description:"Zářivá kytice slunečnic pro rozjasnění dne",price:790,imageUrl:"/assets/sunflower-bouquet-BJxIoB8x.png",category:"bouquets",featured:!0},{id:"4",name:"Monstera Deliciosa",description:"Populární pokojová rostlina s dělenými listy",price:690,imageUrl:"/assets/monstera-D_LbRWZc.png",category:"plants",featured:!0},{id:"5",name:"Bílá elegance",description:"Čistá bílá kytice pro svatební příležitosti",price:1490,imageUrl:"/assets/wedding-bouquet-CQQOWohk.png",category:"wedding",featured:!1},{id:"6",name:"Ficus Lyrata",description:"Populární pokojová rostlina s velkými listy",price:890,imageUrl:"/assets/ficus-lyrata-DM30tNt1.png",category:"plants",featured:!1},{id:"7",name:"Čokoládový box",description:"Luxusní čokoládový box jako doplněk ke kytici",price:390,imageUrl:"/assets/gift-box-BXE1asUX.png",category:"gifts",featured:!1},{id:"8",name:"Dárkový koš",description:"Originální dárkový koš s výběrem dobrot",price:690,imageUrl:"/assets/gift-basket-CATWi3Cw.png",category:"gifts",featured:!1}],Pj=[{id:"1",title:"Jak pečovat o řezané květiny",excerpt:"Tipy a triky pro prodloužení životnosti vašich květin. Naučte se, jak správně pečovat o řezané květiny, aby vám vydržely co nejdéle.",content:"",imageUrl:"/assets/flower-care-CFPExxRB.png",author:"Jana Květinová",date:"15. 5. 2023",tags:["péče o květiny","řezané květiny","tipy"]},{id:"2",title:"Květiny pro každou příležitost",excerpt:"Průvodce výběrem správných květin pro různé události. Svatby, narozeniny, výročí nebo jen tak pro radost - pro každou příležitost existují ideální květiny.",content:"",imageUrl:"/assets/occasion-flowers-YoEjNPEP.webp",author:"Petr Zahradník",date:"2. 4. 2023",tags:["příležitosti","výběr květin","dárky"]},{id:"3",title:"Pěstování pokojových rostlin",excerpt:"Základní rady pro začátečníky i pokročilé pěstitele. Dozvíte se, jak vybrat správnou rostlinu pro váš domov a jak o ni pečovat.",content:"",imageUrl:"/assets/indoor-plants-B0x9C-VI.webp",author:"Martina Zelená",date:"18. 3. 2023",tags:["pokojové rostliny","pěstování","začátečníci"]},{id:"4",title:"Sezónní květiny pro vaši zahradu",excerpt:"Přehled květin, které můžete pěstovat v každém ročním období. Plánujte svou zahradu tak, aby kvetla po celý rok.",content:"",imageUrl:"/assets/seasonal-garden-DlUrnezn.webp",author:"Jana Květinová",date:"5. 3. 2023",tags:["zahrada","sezónní květiny","plánování"]},{id:"5",title:"Symbolika květin v různých kulturách",excerpt:"Objevte, co znamenají různé květiny v různých částech světa. Květiny mají bohatou symboliku, která se liší napříč kulturami.",content:"",imageUrl:"/assets/flower-symbolism-CFp1-EiW.png",author:"Petr Zahradník",date:"20. 2. 2023",tags:["symbolika","kultury","historie"]},{id:"6",title:"Jak vytvořit perfektní svatební kytici",excerpt:"Kompletní průvodce výběrem a tvorbou svatební kytice. Inspirujte se různými styly a barvami pro váš velký den.",content:"",imageUrl:"/assets/wedding-bouquet-VlVt9XUj.webp",author:"Martina Zelená",date:"10. 2. 2023",tags:["svatba","svatební kytice","inspirace"]}],Rj=[{id:"1",name:"Jana Nováková",comment:"Nádherné květiny a skvělý servis! Kytice dorazila včas a vypadala přesně jako na fotografii. Určitě budu objednávat znovu.",rating:5,imageUrl:"/assets/happy-client-female-B9-7LAkl.png"},{id:"2",name:"Petr Svoboda",comment:"Objednal jsem kytici pro manželku k výročí. Byla nadšená! Květiny byly čerstvé a krásně zabalené. Děkuji za profesionální přístup.",rating:5,imageUrl:"/assets/business-client-CrJD3Spn.png"},{id:"3",name:"Rodina Dvořákova",comment:"Pravidelně nakupujeme květiny pro naše rodinné oslavy a vždy jsme spokojeni. Rostliny jsou zdravé a personál ochotně poradí s výběrem.",rating:4,imageUrl:"/assets/family-celebration-DwV1Z4MS.png"}];function Dj(){const e=Aj.filter((e=>e.featured));return W.jsxs(wj,{children:[W.jsx("section",{className:"hero-section py-16 md:py-24",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[W.jsxs("div",{className:"space-y-6 animate-fade-in",children:[W.jsx(jk,{className:"bg-secondary text-secondary-foreground px-3 py-1",children:"Květinové studio s ukrajinským nádechem"}),W.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:["Krásné ",W.jsx("span",{className:"text-primary",children:"květiny"})," pro každou příležitost"]}),W.jsx("p",{className:"text-lg text-muted-foreground",children:"Vítejte v Kvitko Sweet, kde tvoříme originální kytice a květinové dekorace s láskou a péčí. Nabízíme čerstvé květiny, doručení po celé Praze a okolí."}),W.jsxs("div",{className:"flex flex-wrap gap-4",children:[W.jsx(Tw,{size:"lg",asChild:!0,children:W.jsxs(st,{to:"/catalog",children:["Prohlédnout katalog",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})}),W.jsx(Tw,{size:"lg",variant:"outline",asChild:!0,children:W.jsx(st,{to:"/custom-bouquet",children:"Vytvořit vlastní kytici"})})]})]}),W.jsxs("div",{className:"relative animate-fade-in animate-delay-200",children:[W.jsx("div",{className:"absolute -inset-4 bg-primary/10 rounded-full blur-3xl"}),W.jsx("img",{src:Ij,alt:"Květiny Kvitko Sweet",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"}),W.jsx("div",{className:"absolute -bottom-6 -right-6 bg-background p-4 rounded-lg shadow-lg",children:W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:W.jsx(jb,{className:"h-6 w-6 text-primary"})}),W.jsxs("div",{children:[W.jsx("p",{className:"font-medium",children:"Doručení po Praze"}),W.jsx("p",{className:"text-sm text-muted-foreground",children:"Zdarma při objednávce nad 1500 Kč"})]})]})})]})]})})}),W.jsx("section",{className:"py-16 bg-muted",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[W.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:W.jsx(Zx,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Čerstvé květiny"}),W.jsx("p",{className:"text-muted-foreground",children:"Používáme pouze čerstvé květiny nejvyšší kvality pro dlouhou trvanlivost."})]}),W.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-100",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:W.jsx(Wx,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ruční výroba"}),W.jsx("p",{className:"text-muted-foreground",children:"Každá kytice je vytvořena ručně s láskou a péčí našimi zkušenými floristy."})]}),W.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-200",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:W.jsx(jb,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rychlé doručení"}),W.jsx("p",{className:"text-muted-foreground",children:"Doručujeme v den objednávky po celé Praze a okolí, aby květiny byly vždy čerstvé."})]}),W.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-300",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:W.jsx($x,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Dárkové balení"}),W.jsx("p",{className:"text-muted-foreground",children:"Nabízíme elegantní dárkové balení a možnost přidat osobní vzkaz k vaší kytici."})]})]})})}),W.jsx("section",{className:"py-16",children:W.jsxs("div",{className:"container-custom",children:[W.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"section-title",children:"Naše oblíbené produkty"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Objevte naše nejpopulárnější kytice a rostliny, které si zamilovali naši zákazníci."})]}),W.jsx(Tw,{variant:"outline",asChild:!0,className:"mt-4 md:mt-0",children:W.jsxs(st,{to:"/catalog",children:["Zobrazit vše",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})]}),W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(((e,t)=>W.jsx(Tj,{product:e},e.id)))})]})}),W.jsx("section",{className:"py-16 bg-muted leaf-pattern",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[W.jsxs("div",{className:"order-2 lg:order-1 animate-fade-in",children:[W.jsx("h2",{className:"section-title",children:"Vytvořte si vlastní kytici"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Navrhněte si kytici podle vašich představ. Vyberte si květiny, barvy a styl, a my vytvoříme jedinečnou kytici přesně podle vašich přání."}),W.jsxs("div",{className:"space-y-4 mb-8",children:[W.jsxs("div",{className:"flex items-start gap-3",children:[W.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:W.jsx("span",{className:"text-primary font-semibold",children:"1"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Vyberte květiny"}),W.jsx("p",{className:"text-muted-foreground",children:"Zvolte své oblíbené květiny, barvy a množství."})]})]}),W.jsxs("div",{className:"flex items-start gap-3",children:[W.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:W.jsx("span",{className:"text-primary font-semibold",children:"2"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Přidejte doplňky"}),W.jsx("p",{className:"text-muted-foreground",children:"Vyberte si způsob balení, stuhy a případné dárky."})]})]}),W.jsxs("div",{className:"flex items-start gap-3",children:[W.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:W.jsx("span",{className:"text-primary font-semibold",children:"3"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Dokončete objednávku"}),W.jsx("p",{className:"text-muted-foreground",children:"Zadejte doručovací údaje a my se postaráme o zbytek."})]})]})]}),W.jsx(Tw,{size:"lg",asChild:!0,children:W.jsxs(st,{to:"/custom-bouquet",children:["Vytvořit vlastní kytici",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})]}),W.jsxs("div",{className:"order-1 lg:order-2 relative animate-fade-in animate-delay-200",children:[W.jsx("div",{className:"absolute -inset-4 bg-secondary/30 rounded-full blur-3xl"}),W.jsx("img",{src:Aj[1].imageUrl,alt:"Vlastní kytice",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"})]})]})})}),W.jsx("section",{className:"py-16",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h2",{className:"section-title text-center mb-12",children:"Prozkoumejte naše kategorie"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[W.jsxs(st,{to:"/catalog/bouquets",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in",children:[W.jsx("img",{src:Aj[0].imageUrl,alt:"Kytice",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),W.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:W.jsxs("div",{children:[W.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Kytice"}),W.jsx("p",{className:"text-white/80 mb-4",children:"Originální kytice pro každou příležitost"}),W.jsxs(Tw,{variant:"secondary",size:"sm",children:["Prohlédnout",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})]})})]}),W.jsxs(st,{to:"/catalog/plants",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in animate-delay-100",children:[W.jsx("img",{src:Aj[3].imageUrl,alt:"Pokojové rostliny",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),W.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:W.jsxs("div",{children:[W.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Pokojové rostliny"}),W.jsx("p",{className:"text-white/80 mb-4",children:"Zelené rostliny pro váš domov"}),W.jsxs(Tw,{variant:"secondary",size:"sm",children:["Prohlédnout",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})]})})]}),W.jsxs(st,{to:"/catalog/gifts",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in animate-delay-200",children:[W.jsx("img",{src:Aj[6].imageUrl,alt:"Dárky",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),W.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:W.jsxs("div",{children:[W.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Dárky"}),W.jsx("p",{className:"text-white/80 mb-4",children:"Dárkové předměty a doplňky"}),W.jsxs(Tw,{variant:"secondary",size:"sm",children:["Prohlédnout",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})]})})]})]})]})}),W.jsx("section",{className:"py-16 bg-muted",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h2",{className:"section-title text-center mb-2",children:"Co říkají naši zákazníci"}),W.jsx("p",{className:"text-muted-foreground text-center max-w-2xl mx-auto mb-12",children:"Přečtěte si recenze od našich spokojených zákazníků, kteří si zamilovali naše květiny a služby."}),W.jsxs(vk,{className:"w-full max-w-4xl mx-auto",children:[W.jsx(yk,{children:Rj.map((e=>W.jsx(xk,{children:W.jsx(Ej,{testimonial:e})},e.id)))}),W.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[W.jsx(bk,{className:"relative inset-0 translate-y-0"}),W.jsx(wk,{className:"relative inset-0 translate-y-0"})]})]})]})}),W.jsx("section",{className:"py-16",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[W.jsxs("div",{className:"relative animate-fade-in",children:[W.jsx("div",{className:"absolute -inset-4 bg-primary/10 rounded-full blur-3xl"}),W.jsx("img",{src:Aj[2].imageUrl,alt:"Doručení květin",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"})]}),W.jsxs("div",{className:"animate-fade-in animate-delay-200",children:[W.jsx("h2",{className:"section-title",children:"Doručení květin"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Nabízíme rychlé a spolehlivé doručení květin po celé Praze a okolí. Vaše kytice dorazí čerstvá a krásná, přesně podle vašich představ."}),W.jsxs(Bk,{defaultValue:"prague",className:"w-full",children:[W.jsxs(qk,{className:"grid w-full grid-cols-2",children:[W.jsx(Kk,{value:"prague",children:"Praha"}),W.jsx(Kk,{value:"surroundings",children:"Okolí Prahy"})]}),W.jsx(Hk,{value:"prague",className:"mt-4",children:W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"Expresní doručení (2-3 hodiny)"}),W.jsx("span",{className:"font-semibold",children:"199 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"Standardní doručení (tentýž den)"}),W.jsx("span",{className:"font-semibold",children:"149 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"Doručení v konkrétní čas"}),W.jsx("span",{className:"font-semibold",children:"249 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx("span",{className:"text-primary font-medium",children:"Objednávka nad 1500 Kč"}),W.jsx("span",{className:"font-semibold text-primary",children:"Zdarma"})]})]})}),W.jsx(Hk,{value:"surroundings",className:"mt-4",children:W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"Do 10 km od Prahy"}),W.jsx("span",{className:"font-semibold",children:"249 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"10-20 km od Prahy"}),W.jsx("span",{className:"font-semibold",children:"349 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[W.jsx("span",{children:"20-30 km od Prahy"}),W.jsx("span",{className:"font-semibold",children:"449 Kč"})]}),W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx("span",{className:"text-primary font-medium",children:"Objednávka nad 2000 Kč"}),W.jsx("span",{className:"font-semibold text-primary",children:"Zdarma"})]})]})})]}),W.jsx("div",{className:"mt-8",children:W.jsx(Tw,{size:"lg",asChild:!0,children:W.jsxs(st,{to:"/delivery",children:["Více o doručení",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})})]})]})})}),W.jsx("section",{className:"py-16 bg-muted floral-pattern",children:W.jsxs("div",{className:"container-custom",children:[W.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"section-title",children:"Náš blog o květinách"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Přečtěte si naše tipy a rady pro péči o květiny a inspirujte se našimi nápady."})]}),W.jsx(Tw,{variant:"outline",asChild:!0,className:"mt-4 md:mt-0",children:W.jsxs(st,{to:"/blog",children:["Všechny články",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})]}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Pj.map((e=>W.jsx(Cj,{post:e},e.id)))})]})}),W.jsx("section",{className:"py-16",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"bg-primary/10 rounded-lg p-8 md:p-12 text-center",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Připraveni objednat krásné květiny?"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-8",children:"Prohlédněte si náš katalog a vyberte si z široké nabídky čerstvých květin, nebo si vytvořte vlastní kytici podle vašich představ."}),W.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[W.jsx(Tw,{size:"lg",asChild:!0,children:W.jsx(st,{to:"/catalog",children:"Prohlédnout katalog"})}),W.jsx(Tw,{size:"lg",variant:"outline",asChild:!0,children:W.jsx(st,{to:"/contact",children:"Kontaktujte nás"})})]})]})})})]})}var Oj="Checkbox",[zj,Mj]=Y(Oj),[Lj,Uj]=zj(Oj);function Fj(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=e,[h,m]=ie({prop:n,defaultProp:s??!1,onChange:l,caller:Oj}),[p,f]=rt.useState(null),[g,v]=rt.useState(null),y=rt.useRef(!1),x=!p||(!!a||!!p.closest("form")),b={checked:h,disabled:i,setChecked:m,control:p,setControl:f,name:o,form:a,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:!Qj(s)&&s,isFormControl:x,bubbleInput:g,setBubbleInput:v};return W.jsx(Lj,{scope:t,...b,children:Wj(d)?d(b):r})}var Vj="CheckboxTrigger",Bj=rt.forwardRef((({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:o,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=Uj(Vj,e),f=Oe(s,u),g=rt.useRef(l);return rt.useEffect((()=>{const e=null==i?void 0:i.form;if(e){const t=()=>d(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[i,d]),W.jsx(ee.button,{type:"button",role:"checkbox","aria-checked":Qj(l)?"mixed":l,"aria-required":c,"data-state":Jj(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:f,onKeyDown:ne(t,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:ne(n,(e=>{d((e=>!!Qj(e)||!e)),p&&m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())}))})}));Bj.displayName=Vj;var qj=rt.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:c,form:u,...d}=e;return W.jsx(Fj,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>W.jsxs(W.Fragment,{children:[W.jsx(Bj,{...d,ref:t,__scopeCheckbox:n}),e&&W.jsx(Gj,{__scopeCheckbox:n})]})})}));qj.displayName=Oj;var Kj="CheckboxIndicator",Hj=rt.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Uj(Kj,n);return W.jsx(re,{present:r||Qj(i.checked)||!0===i.checked,children:W.jsx(ee.span,{"data-state":Jj(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})}));Hj.displayName=Kj;var $j="CheckboxBubbleInput",Gj=rt.forwardRef((({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:l,name:c,value:u,form:d,bubbleInput:h,setBubbleInput:m}=Uj($j,e),p=Oe(n,m),f=ze(i),g=Me(r);rt.useEffect((()=>{const e=h;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,r=!s.current;if(f!==i&&n){const t=new Event("click",{bubbles:r});e.indeterminate=Qj(i),n.call(e,!Qj(i)&&i),e.dispatchEvent(t)}}),[h,f,i,s]);const v=rt.useRef(!Qj(i)&&i);return W.jsx(ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:o,disabled:l,name:c,value:u,form:d,...t,tabIndex:-1,ref:p,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})}));function Wj(e){return"function"==typeof e}function Qj(e){return"indeterminate"===e}function Jj(e){return Qj(e)?"indeterminate":e?"checked":"unchecked"}Gj.displayName=$j;const Yj=rt.forwardRef((({className:e,...t},n)=>W.jsx(qj,{ref:n,className:Sw("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:W.jsx(Hj,{className:Sw("flex items-center justify-center text-current"),children:W.jsx(Px,{className:"h-4 w-4"})})})));Yj.displayName=qj.displayName;var Zj=rt.forwardRef(((e,t)=>W.jsx(ee.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Zj.displayName="Label";var Xj=Zj;const eN=Rb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tN=rt.forwardRef((({className:e,...t},n)=>W.jsx(Xj,{ref:n,className:Sw(eN(),e),...t})));tN.displayName=Xj.displayName;var nN="Radio",[rN,sN]=Y(nN),[iN,aN]=rN(nN),oN=rt.forwardRef(((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:o="on",onCheck:l,form:c,...u}=e,[d,h]=rt.useState(null),m=Oe(t,(e=>h(e))),p=rt.useRef(!1),f=!d||(c||!!d.closest("form"));return W.jsxs(iN,{scope:n,checked:s,disabled:a,children:[W.jsx(ee.button,{type:"button",role:"radio","aria-checked":s,"data-state":dN(s),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:m,onClick:ne(e.onClick,(e=>{s||null==l||l(),f&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),f&&W.jsx(uN,{control:d,bubbles:!p.current,name:r,value:o,checked:s,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})}));oN.displayName=nN;var lN="RadioIndicator",cN=rt.forwardRef(((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=aN(lN,n);return W.jsx(re,{present:r||i.checked,children:W.jsx(ee.span,{"data-state":dN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})}));cN.displayName=lN;var uN=rt.forwardRef((({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=rt.useRef(null),o=Oe(a,i),l=ze(n),c=Me(t);return rt.useEffect((()=>{const e=a.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}}),[l,n,r]),W.jsx(ee.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function dN(e){return e?"checked":"unchecked"}uN.displayName="RadioBubbleInput";var hN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mN="RadioGroup",[pN,fN]=Y(mN,[Z,sN]),gN=Z(),vN=sN(),[yN,xN]=pN(mN),bN=rt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...h}=e,m=gN(n),p=se(c),[f,g]=ie({prop:i,defaultProp:s??null,onChange:d,caller:mN});return W.jsx(yN,{scope:n,name:r,required:a,disabled:o,value:f,onValueChange:g,children:W.jsx(X,{asChild:!0,...m,orientation:l,dir:p,loop:u,children:W.jsx(ee.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:p,...h,ref:t})})})}));bN.displayName=mN;var wN="RadioGroupItem",kN=rt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=xN(wN,n),a=i.disabled||r,o=gN(n),l=vN(n),c=rt.useRef(null),u=Oe(t,c),d=i.value===s.value,h=rt.useRef(!1);return rt.useEffect((()=>{const e=e=>{hN.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),W.jsx(te,{asChild:!0,...o,focusable:!a,active:d,children:W.jsx(oN,{disabled:a,required:i.required,checked:d,...l,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:ne((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:ne(s.onFocus,(()=>{var e;h.current&&(null==(e=c.current)||e.click())}))})})}));kN.displayName=wN;var jN=rt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=vN(n);return W.jsx(cN,{...s,...r,ref:t})}));jN.displayName="RadioGroupIndicator";var NN=bN,_N=kN,SN=jN;const EN=rt.forwardRef((({className:e,...t},n)=>W.jsx(NN,{className:Sw("grid gap-2",e),...t,ref:n})));EN.displayName=NN.displayName;const TN=rt.forwardRef((({className:e,...t},n)=>W.jsx(_N,{ref:n,className:Sw("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:W.jsx(SN,{className:"flex items-center justify-center",children:W.jsx(zx,{className:"h-3.5 w-3.5 fill-primary"})})})));function CN(e,[t,n]){return Math.min(n,Math.max(t,e))}TN.displayName=_N.displayName;var IN=["PageUp","PageDown"],AN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},RN="Slider",[DN,ON,zN]=Le(RN),[MN,LN]=Y(RN,[zN]),[UN,FN]=MN(RN),VN=rt.forwardRef(((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:p,...f}=e,g=rt.useRef(new Set),v=rt.useRef(0),y="horizontal"===a?KN:HN,[x=[],b]=ie({prop:u,defaultProp:c,onChange:e=>{var t;null==(t=[...g.current][v.current])||t.focus(),d(e)}}),w=rt.useRef(x);function k(e,t,{commit:n}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(i),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/i)*i+r,a),c=CN(o,[r,s]);b(((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort(((e,t)=>e-t))}(e,c,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map(((t,n)=>e[n+1]-t))}(e);return Math.min(...n)>=t}return!0}(r,l*i)){v.current=r.indexOf(c);const t=String(r)!==String(e);return t&&n&&h(r),t?r:e}return e}))}return W.jsx(UN,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:s,valueIndexToChangeRef:v,thumbs:g.current,values:x,orientation:a,form:p,children:W.jsx(DN.Provider,{scope:e.__scopeSlider,children:W.jsx(DN.Slot,{scope:e.__scopeSlider,children:W.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...f,ref:t,onPointerDown:ne(f.onPointerDown,(()=>{o||(w.current=x)})),min:r,max:s,inverted:m,onSlideStart:o?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map((e=>Math.abs(e-t))),r=Math.min(...n);return n.indexOf(r)}(x,e);k(e,t)},onSlideMove:o?void 0:function(e){k(e,v.current)},onSlideEnd:o?void 0:function(){const e=w.current[v.current];x[v.current]!==e&&h(x)},onHomeKeyDown:()=>!o&&k(r,0,{commit:!0}),onEndKeyDown:()=>!o&&k(s,x.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){const n=IN.includes(e.key)||e.shiftKey&&AN.includes(e.key)?10:1,r=v.current;k(x[r]+i*n*t,r,{commit:!0})}}})})})})}));VN.displayName=RN;var[BN,qN]=MN(RN,{startEdge:"left",endEdge:"right",size:"width",direction:1}),KN=rt.forwardRef(((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,h]=rt.useState(null),m=Oe(t,(e=>h(e))),p=rt.useRef(void 0),f=se(s),g="ltr"===f,v=g&&!i||!g&&i;function y(e){const t=p.current||d.getBoundingClientRect(),s=n_([0,t.width],v?[n,r]:[r,n]);return p.current=t,s(e-t.left)}return W.jsx(BN,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:W.jsx($N,{dir:f,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=y(e.clientX);null==a||a(t)},onSlideMove:e=>{const t=y(e.clientX);null==o||o(t)},onSlideEnd:()=>{p.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=PN[v?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})})),HN=rt.forwardRef(((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=e,u=rt.useRef(null),d=Oe(t,u),h=rt.useRef(void 0),m=!s;function p(e){const t=h.current||u.current.getBoundingClientRect(),s=n_([0,t.height],m?[r,n]:[n,r]);return h.current=t,s(e-t.top)}return W.jsx(BN,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:W.jsx($N,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=p(e.clientY);null==i||i(t)},onSlideMove:e=>{const t=p(e.clientY);null==a||a(t)},onSlideEnd:()=>{h.current=void 0,null==o||o()},onStepKeyDown:e=>{const t=PN[m?"from-bottom":"from-top"].includes(e.key);null==l||l({event:e,direction:t?-1:1})}})})})),$N=rt.forwardRef(((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=e,u=FN(RN,n);return W.jsx(ee.span,{...c,ref:t,onKeyDown:ne(e.onKeyDown,(e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):IN.concat(AN).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:ne(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)})),onPointerMove:ne(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)})),onPointerUp:ne(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))}))})})),GN="SliderTrack",WN=rt.forwardRef(((e,t)=>{const{__scopeSlider:n,...r}=e,s=FN(GN,n);return W.jsx(ee.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})}));WN.displayName=GN;var QN="SliderRange",JN=rt.forwardRef(((e,t)=>{const{__scopeSlider:n,...r}=e,s=FN(QN,n),i=qN(QN,n),a=rt.useRef(null),o=Oe(t,a),l=s.values.length,c=s.values.map((e=>t_(e,s.min,s.max))),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return W.jsx(ee.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:o,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:d+"%"}})}));JN.displayName=QN;var YN="SliderThumb",ZN=rt.forwardRef(((e,t)=>{const n=ON(e.__scopeSlider),[r,s]=rt.useState(null),i=Oe(t,(e=>s(e))),a=rt.useMemo((()=>r?n().findIndex((e=>e.ref.current===r)):-1),[n,r]);return W.jsx(XN,{...e,ref:i,index:a})})),XN=rt.forwardRef(((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,a=FN(YN,n),o=qN(YN,n),[l,c]=rt.useState(null),u=Oe(t,(e=>c(e))),d=!l||(a.form||!!l.closest("form")),h=Me(l),m=a.values[r],p=void 0===m?0:t_(m,a.min,a.max),f=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(r,a.values.length),g=null==h?void 0:h[o.size],v=g?function(e,t,n){const r=e/2,s=n_([0,50],[0,r]);return(r-s(t)*n)*n}(g,p,o.direction):0;return rt.useEffect((()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}}),[l,a.thumbs]),W.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${p}% + ${v}px)`},children:[W.jsx(DN.ItemSlot,{scope:e.__scopeSlider,children:W.jsx(ee.span,{role:"slider","aria-label":e["aria-label"]||f,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:u,style:void 0===m?{display:"none"}:e.style,onFocus:ne(e.onFocus,(()=>{a.valueIndexToChangeRef.current=r}))})}),d&&W.jsx(e_,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})}));ZN.displayName=YN;var e_=rt.forwardRef((({__scopeSlider:e,value:t,...n},r)=>{const s=rt.useRef(null),i=Oe(s,r),a=ze(t);return rt.useEffect((()=>{const e=s.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}}),[a,t]),W.jsx(ee.input,{style:{display:"none"},...n,ref:i,defaultValue:t})}));function t_(e,t,n){return CN(100/(n-t)*(e-t),[0,100])}function n_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}e_.displayName="RadioBubbleInput";var r_=VN,s_=WN,i_=JN,a_=ZN;const o_=rt.forwardRef((({className:e,...t},n)=>W.jsxs(r_,{ref:n,className:Sw("relative flex w-full touch-none select-none items-center",e),...t,children:[W.jsx(s_,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:W.jsx(i_,{className:"absolute h-full bg-primary"})}),W.jsx(a_,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})));o_.displayName=r_.displayName;const l_=[{id:"bouquets",name:"Kytice"},{id:"plants",name:"Pokojové rostliny"},{id:"wedding",name:"Svatební květiny"},{id:"gifts",name:"Dárky"}];function c_(){var e,t;const[n,r]=it(),[s,i]=rt.useState("grid"),[a,o]=rt.useState([0,2e3]),l=n.get("category")||"",c=n.get("sort")||"featured",u=[...Aj.filter((e=>(!l||e.category===l)&&!(e.price<a[0]||e.price>a[1])))].sort(((e,t)=>"price-asc"===c?e.price-t.price:"price-desc"===c?t.price-e.price:"name"===c?e.name.localeCompare(t.name):e.featured&&!t.featured?-1:!e.featured&&t.featured?1:0)),d=(e,t)=>{const s=new URLSearchParams(n);t?s.set(e,t):s.delete(e),r(s)},h=()=>{r({}),o([0,2e3])};return W.jsxs(wj,{children:[W.jsx("section",{className:"bg-muted py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Katalog produktů"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Prohlédněte si naši nabídku čerstvých květin, pokojových rostlin a dárkových předmětů."})]})}),W.jsx("section",{className:"py-12",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[W.jsx("div",{className:"hidden lg:block w-64 shrink-0",children:W.jsxs("div",{className:"sticky top-24",children:[W.jsxs("div",{className:"flex items-center justify-between mb-6",children:[W.jsx("h2",{className:"font-semibold text-lg",children:"Filtry"}),(l||"featured"!==c||a[0]>0||a[1]<2e3)&&W.jsxs(Tw,{variant:"ghost",size:"sm",onClick:h,children:[W.jsx(Tb,{className:"h-4 w-4 mr-1"}),"Vymazat"]})]}),W.jsxs("div",{className:"mb-6",children:[W.jsx("h3",{className:"font-medium mb-3",children:"Kategorie"}),W.jsx("div",{className:"space-y-2",children:l_.map((e=>W.jsxs("div",{className:"flex items-center",children:[W.jsx(Yj,{id:`category-${e.id}`,checked:l===e.id,onCheckedChange:t=>{d("category",t?e.id:"")}}),W.jsx(tN,{htmlFor:`category-${e.id}`,className:"ml-2 text-sm font-normal cursor-pointer",children:e.name})]},e.id)))})]}),W.jsx(xj,{className:"my-6"}),W.jsxs("div",{className:"mb-6",children:[W.jsx("h3",{className:"font-medium mb-3",children:"Cena"}),W.jsxs("div",{className:"px-2",children:[W.jsx(o_,{defaultValue:[0,2e3],value:a,max:2e3,step:100,onValueChange:e=>{o(e)},className:"mb-6"}),W.jsxs("div",{className:"flex items-center justify-between text-sm",children:[W.jsxs("span",{children:[a[0]," Kč"]}),W.jsxs("span",{children:[a[1]," Kč"]})]})]})]}),W.jsx(xj,{className:"my-6"}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-medium mb-3",children:"Řadit podle"}),W.jsxs(EN,{defaultValue:"featured",value:c,onValueChange:e=>d("sort",e),children:[W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"featured",id:"featured"}),W.jsx(tN,{htmlFor:"featured",children:"Doporučené"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"price-asc",id:"price-asc"}),W.jsx(tN,{htmlFor:"price-asc",children:"Cena (nejnižší)"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"price-desc",id:"price-desc"}),W.jsx(tN,{htmlFor:"price-desc",children:"Cena (nejvyšší)"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"name",id:"name"}),W.jsx(tN,{htmlFor:"name",children:"Název (A-Z)"})]})]})]})]})}),W.jsxs("div",{className:"lg:hidden mb-6",children:[W.jsxs("div",{className:"flex items-center justify-between mb-4",children:[W.jsxs(Gk,{children:[W.jsx(Wk,{asChild:!0,children:W.jsxs(Tw,{variant:"outline",size:"sm",children:[W.jsx(Kx,{className:"h-4 w-4 mr-2"}),"Filtry"]})}),W.jsx(Zk,{side:"left",children:W.jsxs("div",{className:"flex flex-col h-full",children:[W.jsxs("div",{className:"flex items-center justify-between mb-6",children:[W.jsx("h2",{className:"font-semibold text-lg",children:"Filtry"}),(l||"featured"!==c||a[0]>0||a[1]<2e3)&&W.jsxs(Tw,{variant:"ghost",size:"sm",onClick:h,children:[W.jsx(Tb,{className:"h-4 w-4 mr-1"}),"Vymazat"]})]}),W.jsxs("div",{className:"mb-6",children:[W.jsx("h3",{className:"font-medium mb-3",children:"Kategorie"}),W.jsx("div",{className:"space-y-2",children:l_.map((e=>W.jsxs("div",{className:"flex items-center",children:[W.jsx(Yj,{id:`mobile-category-${e.id}`,checked:l===e.id,onCheckedChange:t=>{d("category",t?e.id:"")}}),W.jsx(tN,{htmlFor:`mobile-category-${e.id}`,className:"ml-2 text-sm font-normal cursor-pointer",children:e.name})]},e.id)))})]}),W.jsx(xj,{className:"my-6"}),W.jsxs("div",{className:"mb-6",children:[W.jsx("h3",{className:"font-medium mb-3",children:"Cena"}),W.jsxs("div",{className:"px-2",children:[W.jsx(o_,{defaultValue:[0,2e3],value:a,max:2e3,step:100,onValueChange:e=>{o(e)},className:"mb-6"}),W.jsxs("div",{className:"flex items-center justify-between text-sm",children:[W.jsxs("span",{children:[a[0]," Kč"]}),W.jsxs("span",{children:[a[1]," Kč"]})]})]})]}),W.jsx(xj,{className:"my-6"}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-medium mb-3",children:"Řadit podle"}),W.jsxs(EN,{defaultValue:"featured",value:c,onValueChange:e=>d("sort",e),children:[W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"featured",id:"mobile-featured"}),W.jsx(tN,{htmlFor:"mobile-featured",children:"Doporučené"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"price-asc",id:"mobile-price-asc"}),W.jsx(tN,{htmlFor:"mobile-price-asc",children:"Cena (nejnižší)"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"price-desc",id:"mobile-price-desc"}),W.jsx(tN,{htmlFor:"mobile-price-desc",children:"Cena (nejvyšší)"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"name",id:"mobile-name"}),W.jsx(tN,{htmlFor:"mobile-name",children:"Název (A-Z)"})]})]})]})]})})]}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx(Tw,{variant:"grid"===s?"default":"outline",size:"icon",onClick:()=>i("grid"),"aria-label":"Grid view",children:W.jsx(Gx,{className:"h-4 w-4"})}),W.jsx(Tw,{variant:"list"===s?"default":"outline",size:"icon",onClick:()=>i("list"),"aria-label":"List view",children:W.jsx(Yx,{className:"h-4 w-4"})})]})]}),(l||"featured"!==c||a[0]>0||a[1]<2e3)&&W.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:[null==(e=l_.find((e=>e.id===l)))?void 0:e.name,W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>d("category",""),children:W.jsx(Tb,{className:"h-3 w-3"})})]}),(a[0]>0||a[1]<2e3)&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:[a[0]," Kč - ",a[1]," Kč",W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>o([0,2e3]),children:W.jsx(Tb,{className:"h-3 w-3"})})]}),"featured"!==c&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:["price-asc"===c&&"Cena (nejnižší)","price-desc"===c&&"Cena (nejvyšší)","name"===c&&"Název (A-Z)",W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>d("sort","featured"),children:W.jsx(Tb,{className:"h-3 w-3"})})]})]})]}),W.jsxs("div",{className:"flex-1",children:[W.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[W.jsxs("p",{className:"text-muted-foreground",children:["Zobrazeno ",u.length," produktů"]}),W.jsx("div",{className:"flex items-center gap-4",children:W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("span",{className:"text-sm",children:"Zobrazení:"}),W.jsx(Tw,{variant:"grid"===s?"default":"outline",size:"icon",onClick:()=>i("grid"),"aria-label":"Grid view",children:W.jsx(Gx,{className:"h-4 w-4"})}),W.jsx(Tw,{variant:"list"===s?"default":"outline",size:"icon",onClick:()=>i("list"),"aria-label":"List view",children:W.jsx(Yx,{className:"h-4 w-4"})})]})})]}),W.jsx("div",{className:"hidden lg:block",children:(l||"featured"!==c||a[0]>0||a[1]<2e3)&&W.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[W.jsx("span",{className:"text-sm text-muted-foreground mr-2 pt-0.5",children:"Aktivní filtry:"}),l&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:[null==(t=l_.find((e=>e.id===l)))?void 0:t.name,W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>d("category",""),children:W.jsx(Tb,{className:"h-3 w-3"})})]}),(a[0]>0||a[1]<2e3)&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:[a[0]," Kč - ",a[1]," Kč",W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>o([0,2e3]),children:W.jsx(Tb,{className:"h-3 w-3"})})]}),"featured"!==c&&W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:["price-asc"===c&&"Cena (nejnižší)","price-desc"===c&&"Cena (nejvyšší)","name"===c&&"Název (A-Z)",W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>d("sort","featured"),children:W.jsx(Tb,{className:"h-3 w-3"})})]})]})}),"grid"===s?W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e=>W.jsx(Tj,{product:e},e.id)))}):W.jsx("div",{className:"space-y-6",children:u.map((e=>W.jsx(kj,{className:"overflow-hidden border-border card-hover",children:W.jsxs("div",{className:"flex flex-col md:flex-row",children:[W.jsxs("div",{className:"md:w-1/3 relative",children:[W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover aspect-square md:aspect-auto"}),e.featured&&W.jsx("div",{className:"absolute top-3 right-3",children:W.jsx(jk,{className:"bg-primary text-primary-foreground",children:"Oblíbené"})})]}),W.jsxs(Sj,{className:"p-6 md:w-2/3 flex flex-col",children:[W.jsx("h3",{className:"font-semibold text-xl mb-2",children:e.name}),W.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),W.jsxs("div",{className:"mt-auto flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[W.jsxs("p",{className:"font-semibold text-lg",children:[e.price," Kč"]}),W.jsxs("div",{className:"flex gap-3",children:[W.jsx(Tw,{variant:"outline",asChild:!0,children:W.jsx(st,{to:`/product/${e.id}`,children:"Detail"})}),W.jsx(Tw,{children:"Do košíku"})]})]})]})]})},e.id)))}),0===u.length&&W.jsxs("div",{className:"text-center py-12",children:[W.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Žádné produkty nenalezeny"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Zkuste upravit filtry nebo vyhledat jiné produkty."}),W.jsx(Tw,{onClick:h,children:"Vymazat filtry"})]})]})]})})})]})}const u_=rt.forwardRef((({className:e,...t},n)=>W.jsx("textarea",{className:Sw("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t})));u_.displayName="Textarea";const d_=[{id:"1",name:"Růže",price:35,imageUrl:"/assets/rose-CRYM1O7t.png"},{id:"2",name:"Tulipán",price:25,imageUrl:"/assets/tulip-B8gfOjS9.png"},{id:"3",name:"Pivoňka",price:45,imageUrl:"/assets/peony-DJ3evmrr.png"},{id:"4",name:"Slunečnice",price:30,imageUrl:"/assets/sunflower-DoJIbGOZ.png"},{id:"5",name:"Lilie",price:40,imageUrl:"/assets/lily-qiWPgNIG.png"},{id:"6",name:"Gerbera",price:28,imageUrl:"/assets/gerbera-B7d-LqUS.png"},{id:"7",name:"Chryzantéma",price:32,imageUrl:"/assets/chrysanthemum-CH860pQy.png"},{id:"8",name:"Eustoma",price:38,imageUrl:"/assets/eustoma-D6Z2TJV7.png"}],h_=[{id:"1",name:"Přírodní papír",price:50,imageUrl:"/assets/natural-paper-D9dM5QIp.png"},{id:"2",name:"Luxusní papír",price:80,imageUrl:"/assets/luxury-paper-x_4XI6V-.png"},{id:"3",name:"Jutová látka",price:70,imageUrl:"/assets/jute-fabric-CjKMjqWL.png"},{id:"4",name:"Dárková krabice",price:120,imageUrl:"/assets/gift-box-wrapping-B14mr6e3.png"}],m_=[{id:"1",name:"Čokoládový box",price:150,imageUrl:"/assets/chocolate-box-CtxO-_2H.png"},{id:"2",name:"Plyšový medvídek",price:200,imageUrl:"/assets/teddy-bear-DKYsiEdU.png"},{id:"3",name:"Láhev vína",price:250,imageUrl:"/assets/wine-bottle-DXeB2tuC.png"},{id:"4",name:"Vonná svíčka",price:180,imageUrl:"/assets/scented-candle-D-thkz_p.png"}];function p_(){var e,t,n,r,s,i;const[a,o]=rt.useState(1),[l,c]=rt.useState([]),[u,d]=rt.useState(""),[h,m]=rt.useState([]),[p,f]=rt.useState(""),g=()=>{let e=0;if(l.forEach((t=>{const n=d_.find((e=>e.id===t.id));n&&(e+=n.price*t.quantity)})),u){const t=h_.find((e=>e.id===u));t&&(e+=t.price)}return h.forEach((t=>{const n=m_.find((e=>e.id===t.id));n&&(e+=n.price*t.quantity)})),e},v=(e,t)=>{if(0===t)c((t=>t.filter((t=>t.id!==e))));else{const n=l.findIndex((t=>t.id===e));if(n>=0){const e=[...l];e[n].quantity=t,c(e)}else c((n=>[...n,{id:e,quantity:t}]))}},y=(e,t)=>{if(0===t)m((t=>t.filter((t=>t.id!==e))));else{const n=h.findIndex((t=>t.id===e));if(n>=0){const e=[...h];e[n].quantity=t,m(e)}else m((n=>[...n,{id:e,quantity:t}]))}},x=e=>{const t=l.find((t=>t.id===e));return t?t.quantity:0},b=e=>{const t=h.find((t=>t.id===e));return t?t.quantity:0},w=e=>{switch(e){case 1:return l.length>0;case 2:return""!==u;case 3:return!0;default:return!1}};return W.jsxs(wj,{children:[W.jsx("section",{className:"bg-muted py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Vytvořte si vlastní kytici"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Navrhněte si kytici podle vašich představ. Vyberte si květiny, barvy a styl, a my vytvoříme jedinečnou kytici přesně podle vašich přání."})]})}),W.jsx("section",{className:"py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("div",{className:"mb-10",children:W.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(a>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:W.jsx(Hx,{className:"h-5 w-5"})}),W.jsx("span",{className:"text-sm mt-2",children:"Květiny"})]}),W.jsx("div",{className:"h-1 flex-1 mx-2 "+(a>=2?"bg-primary":"bg-muted")}),W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(a>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:W.jsx(lb,{className:"h-5 w-5"})}),W.jsx("span",{className:"text-sm mt-2",children:"Balení"})]}),W.jsx("div",{className:"h-1 flex-1 mx-2 "+(a>=3?"bg-primary":"bg-muted")}),W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(a>=3?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:W.jsx(sb,{className:"h-5 w-5"})}),W.jsx("span",{className:"text-sm mt-2",children:"Doplňky"})]}),W.jsx("div",{className:"h-1 flex-1 mx-2 "+(a>=4?"bg-primary":"bg-muted")}),W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(a>=4?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:W.jsx(Px,{className:"h-5 w-5"})}),W.jsx("span",{className:"text-sm mt-2",children:"Shrnutí"})]})]})}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[W.jsxs("div",{className:"lg:col-span-2",children:[1===a&&W.jsxs("div",{className:"animate-fade-in",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Vyberte květiny"}),W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d_.map((e=>W.jsxs(kj,{className:"overflow-hidden border "+(l.some((t=>t.id===e.id))?"border-primary":"border-border"),children:[W.jsx("div",{className:"aspect-square overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),W.jsxs(Sj,{className:"p-4",children:[W.jsxs("div",{className:"flex justify-between items-center mb-2",children:[W.jsx("h3",{className:"font-medium",children:e.name}),W.jsxs("span",{children:[e.price," Kč/ks"]})]}),W.jsxs("div",{className:"flex items-center",children:[W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>v(e.id,Math.max(0,x(e.id)-1)),disabled:0===x(e.id),children:"-"}),W.jsx("span",{className:"mx-3 min-w-8 text-center",children:x(e.id)}),W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>v(e.id,x(e.id)+1),children:"+"})]})]})]},e.id)))})]}),2===a&&W.jsxs("div",{className:"animate-fade-in",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Vyberte balení"}),W.jsx(EN,{value:u,onValueChange:d,children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:h_.map((e=>W.jsxs("div",{children:[W.jsx(TN,{value:e.id,id:`wrapping-${e.id}`,className:"sr-only"}),W.jsx(tN,{htmlFor:`wrapping-${e.id}`,className:"cursor-pointer block h-full "+(u===e.id?"ring-2 ring-primary":""),children:W.jsxs(kj,{className:"overflow-hidden h-full",children:[W.jsx("div",{className:"aspect-video overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),W.jsx(Sj,{className:"p-4",children:W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx("h3",{className:"font-medium",children:e.name}),W.jsxs("span",{children:[e.price," Kč"]})]})})]})})]},e.id)))})})]}),3===a&&W.jsxs("div",{className:"animate-fade-in",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Přidejte doplňky a vzkaz"}),W.jsxs(Bk,{defaultValue:"items",children:[W.jsxs(qk,{className:"mb-6",children:[W.jsx(Kk,{value:"items",children:"Doplňky"}),W.jsx(Kk,{value:"message",children:"Vzkaz"})]}),W.jsx(Hk,{value:"items",children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m_.map((e=>W.jsxs(kj,{className:"overflow-hidden border "+(h.some((t=>t.id===e.id))?"border-primary":"border-border"),children:[W.jsx("div",{className:"aspect-video overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),W.jsxs(Sj,{className:"p-4",children:[W.jsxs("div",{className:"flex justify-between items-center mb-2",children:[W.jsx("h3",{className:"font-medium",children:e.name}),W.jsxs("span",{children:[e.price," Kč"]})]}),W.jsxs("div",{className:"flex items-center",children:[W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>y(e.id,Math.max(0,b(e.id)-1)),disabled:0===b(e.id),children:"-"}),W.jsx("span",{className:"mx-3 min-w-8 text-center",children:b(e.id)}),W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>y(e.id,b(e.id)+1),children:"+"})]})]})]},e.id)))})}),W.jsx(Hk,{value:"message",children:W.jsx("div",{className:"space-y-4",children:W.jsxs("div",{children:[W.jsx(tN,{htmlFor:"message",children:"Přidat vzkaz ke kytici"}),W.jsx(u_,{id:"message",placeholder:"Napište svůj vzkaz...",value:p,onChange:e=>f(e.target.value),className:"mt-2",rows:5})]})})})]})]}),4===a&&W.jsxs("div",{className:"animate-fade-in",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Shrnutí objednávky"}),W.jsx(kj,{className:"mb-6",children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Vybrané květiny"}),l.length>0?W.jsx("div",{className:"space-y-3",children:l.map((e=>{const t=d_.find((t=>t.id===e.id));return t?W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:W.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),W.jsxs("span",{children:[t.name," × ",e.quantity]})]}),W.jsxs("span",{children:[t.price*e.quantity," Kč"]})]},t.id):null}))}):W.jsx("p",{className:"text-muted-foreground",children:"Žádné květiny nebyly vybrány"}),W.jsx(xj,{className:"my-4"}),W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Balení"}),u?W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:W.jsx("img",{src:null==(e=h_.find((e=>e.id===u)))?void 0:e.imageUrl,alt:null==(t=h_.find((e=>e.id===u)))?void 0:t.name,className:"w-full h-full object-cover"})}),W.jsx("span",{children:null==(n=h_.find((e=>e.id===u)))?void 0:n.name})]}),W.jsxs("span",{children:[null==(r=h_.find((e=>e.id===u)))?void 0:r.price," Kč"]})]}):W.jsx("p",{className:"text-muted-foreground",children:"Žádné balení nebylo vybráno"}),h.length>0&&W.jsxs(W.Fragment,{children:[W.jsx(xj,{className:"my-4"}),W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Doplňky"}),W.jsx("div",{className:"space-y-3",children:h.map((e=>{const t=m_.find((t=>t.id===e.id));return t?W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:W.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),W.jsxs("span",{children:[t.name," × ",e.quantity]})]}),W.jsxs("span",{children:[t.price*e.quantity," Kč"]})]},t.id):null}))})]}),p&&W.jsxs(W.Fragment,{children:[W.jsx(xj,{className:"my-4"}),W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Vzkaz"}),W.jsxs("p",{className:"italic",children:['"',p,'"']})]}),W.jsx(xj,{className:"my-4"}),W.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[W.jsx("span",{children:"Celková cena"}),W.jsxs("span",{children:[g()," Kč"]})]})]})}),W.jsx(Tw,{size:"lg",className:"w-full",children:"Přidat do košíku"})]}),W.jsxs("div",{className:"flex justify-between mt-8",children:[a>1?W.jsxs(Tw,{variant:"outline",onClick:()=>{a>1&&o(a-1)},children:[W.jsx(Sx,{className:"mr-2 h-4 w-4"}),"Zpět"]}):W.jsx("div",{}),a<4&&W.jsxs(Tw,{onClick:()=>{a<4&&w(a)&&o(a+1)},disabled:!w(a),children:["Další",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})]})]}),W.jsx("div",{className:"lg:col-span-1",children:W.jsx("div",{className:"sticky top-24",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Shrnutí"}),W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{children:[W.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Vybrané květiny"}),l.length>0?W.jsx("ul",{className:"space-y-1",children:l.map((e=>{const t=d_.find((t=>t.id===e.id));return t?W.jsxs("li",{className:"flex justify-between text-sm",children:[W.jsxs("span",{children:[t.name," × ",e.quantity]}),W.jsxs("span",{children:[t.price*e.quantity," Kč"]})]},t.id):null}))}):W.jsx("p",{className:"text-sm text-muted-foreground",children:"Žádné květiny nebyly vybrány"})]}),W.jsxs("div",{children:[W.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Balení"}),u?W.jsxs("div",{className:"flex justify-between text-sm",children:[W.jsx("span",{children:null==(s=h_.find((e=>e.id===u)))?void 0:s.name}),W.jsxs("span",{children:[null==(i=h_.find((e=>e.id===u)))?void 0:i.price," Kč"]})]}):W.jsx("p",{className:"text-sm text-muted-foreground",children:"Žádné balení nebylo vybráno"})]}),h.length>0&&W.jsxs("div",{children:[W.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Doplňky"}),W.jsx("ul",{className:"space-y-1",children:h.map((e=>{const t=m_.find((t=>t.id===e.id));return t?W.jsxs("li",{className:"flex justify-between text-sm",children:[W.jsxs("span",{children:[t.name," × ",e.quantity]}),W.jsxs("span",{children:[t.price*e.quantity," Kč"]})]},t.id):null}))})]}),p&&W.jsxs("div",{children:[W.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Vzkaz"}),W.jsx("p",{className:"text-sm italic truncate",children:p})]}),W.jsx(xj,{}),W.jsxs("div",{className:"flex justify-between font-semibold",children:[W.jsx("span",{children:"Celková cena"}),W.jsxs("span",{children:[g()," Kč"]})]})]})]})})})})]})]})})]})}const f_=Array.from(new Set(Pj.flatMap((e=>e.tags||[]))));function g_(){const[e,t]=rt.useState(""),[n,r]=rt.useState(null),s=Pj.filter((t=>{var r;const s=t.title.toLowerCase().includes(e.toLowerCase())||t.excerpt.toLowerCase().includes(e.toLowerCase()),i=!n||(null==(r=t.tags)?void 0:r.includes(n));return s&&i}));return W.jsxs(wj,{children:[W.jsx("section",{className:"bg-muted py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Blog o květinách"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Přečtěte si naše tipy a rady pro péči o květiny a inspirujte se našimi nápady."})]})}),W.jsx("section",{className:"py-12",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[W.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[(e||n)&&W.jsxs("div",{className:"mb-6",children:[W.jsxs("h2",{className:"text-xl font-semibold mb-2",children:[e&&n&&`Výsledky pro "${e}" v kategorii "${n}"`,e&&!n&&`Výsledky pro "${e}"`,!e&&n&&`Články v kategorii "${n}"`]}),W.jsxs("p",{className:"text-muted-foreground",children:["Nalezeno ",s.length," článků"]})]}),s.length>0?s.map(((e,t)=>W.jsx("div",{className:"animate-fade-in",style:{animationDelay:100*t+"ms"},children:W.jsx(Cj,{post:e})},e.id))):W.jsxs("div",{className:"text-center py-12",children:[W.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Žádné články nenalezeny"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Zkuste upravit vyhledávání nebo vybrat jinou kategorii."}),W.jsx(Tw,{onClick:()=>{t(""),r(null)},children:"Zobrazit všechny články"})]})]}),W.jsx("div",{className:"lg:col-span-1",children:W.jsxs("div",{className:"sticky top-24 space-y-8",children:[W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Hledat"}),W.jsxs("div",{className:"relative",children:[W.jsx(db,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),W.jsx($k,{placeholder:"Hledat články...",className:"pl-10",value:e,onChange:e=>t(e.target.value)})]})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Kategorie"}),W.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.jsx(jk,{variant:null===n?"default":"secondary",className:"cursor-pointer",onClick:()=>r(null),children:"Všechny"}),f_.map((e=>W.jsx(jk,{variant:n===e?"default":"secondary",className:"cursor-pointer",onClick:()=>r(n===e?null:e),children:e},e)))]})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Nejnovější články"}),W.jsx("div",{className:"space-y-4",children:Pj.slice(0,3).map((e=>W.jsxs(st,{to:`/blog/${e.id}`,className:"flex gap-3 group",children:[W.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden shrink-0",children:W.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),W.jsxs("div",{children:[W.jsx("h4",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:e.title}),W.jsx("p",{className:"text-xs text-muted-foreground",children:e.date})]})]},e.id)))})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Odběr novinek"}),W.jsx("p",{className:"text-muted-foreground mb-4",children:"Přihlaste se k odběru a dostávejte nejnovější články přímo do vaší e-mailové schránky."}),W.jsxs("div",{className:"space-y-3",children:[W.jsx($k,{placeholder:"Váš e-mail",type:"email"}),W.jsx(Tw,{className:"w-full",children:"Odebírat"})]})]})})]})})]})})})]})}const v_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x_={};function b_(e,t){return(x_.jsx?y_:v_).test(e)}const w_=/[ \t\n\f\r]/g;function k_(e){return""===e.replace(w_,"")}class j_{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function N_(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new j_(n,r,t)}function __(e){return e.toLowerCase()}j_.prototype.normal={},j_.prototype.property={},j_.prototype.space=void 0;class S_{constructor(e,t){this.attribute=t,this.property=e}}S_.prototype.attribute="",S_.prototype.booleanish=!1,S_.prototype.boolean=!1,S_.prototype.commaOrSpaceSeparated=!1,S_.prototype.commaSeparated=!1,S_.prototype.defined=!1,S_.prototype.mustUseProperty=!1,S_.prototype.number=!1,S_.prototype.overloadedBoolean=!1,S_.prototype.property="",S_.prototype.spaceSeparated=!1,S_.prototype.space=void 0;let E_=0;const T_=O_(),C_=O_(),I_=O_(),A_=O_(),P_=O_(),R_=O_(),D_=O_();function O_(){return 2**++E_}const z_=Object.freeze(Object.defineProperty({__proto__:null,boolean:T_,booleanish:C_,commaOrSpaceSeparated:D_,commaSeparated:R_,number:A_,overloadedBoolean:I_,spaceSeparated:P_},Symbol.toStringTag,{value:"Module"})),M_=Object.keys(z_);class L_ extends S_{constructor(e,t,n,r){let s=-1;if(super(e,t),U_(this,"space",r),"number"==typeof n)for(;++s<M_.length;){const e=M_[s];U_(this,M_[s],(n&z_[e])===z_[e])}}}function U_(e,t,n){n&&(e[t]=n)}function F_(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new L_(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[__(r)]=r,n[__(i.attribute)]=r}return new j_(t,n,e.space)}L_.prototype.defined=!0;const V_=F_({properties:{ariaActiveDescendant:null,ariaAtomic:C_,ariaAutoComplete:null,ariaBusy:C_,ariaChecked:C_,ariaColCount:A_,ariaColIndex:A_,ariaColSpan:A_,ariaControls:P_,ariaCurrent:null,ariaDescribedBy:P_,ariaDetails:null,ariaDisabled:C_,ariaDropEffect:P_,ariaErrorMessage:null,ariaExpanded:C_,ariaFlowTo:P_,ariaGrabbed:C_,ariaHasPopup:null,ariaHidden:C_,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:P_,ariaLevel:A_,ariaLive:null,ariaModal:C_,ariaMultiLine:C_,ariaMultiSelectable:C_,ariaOrientation:null,ariaOwns:P_,ariaPlaceholder:null,ariaPosInSet:A_,ariaPressed:C_,ariaReadOnly:C_,ariaRelevant:null,ariaRequired:C_,ariaRoleDescription:P_,ariaRowCount:A_,ariaRowIndex:A_,ariaRowSpan:A_,ariaSelected:C_,ariaSetSize:A_,ariaSort:null,ariaValueMax:A_,ariaValueMin:A_,ariaValueNow:A_,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function B_(e,t){return t in e?e[t]:t}function q_(e,t){return B_(e,t.toLowerCase())}const K_=F_({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:R_,acceptCharset:P_,accessKey:P_,action:null,allow:null,allowFullScreen:T_,allowPaymentRequest:T_,allowUserMedia:T_,alt:null,as:null,async:T_,autoCapitalize:null,autoComplete:P_,autoFocus:T_,autoPlay:T_,blocking:P_,capture:null,charSet:null,checked:T_,cite:null,className:P_,cols:A_,colSpan:null,content:null,contentEditable:C_,controls:T_,controlsList:P_,coords:A_|R_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:T_,defer:T_,dir:null,dirName:null,disabled:T_,download:I_,draggable:C_,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:T_,formTarget:null,headers:P_,height:A_,hidden:T_,high:A_,href:null,hrefLang:null,htmlFor:P_,httpEquiv:P_,id:null,imageSizes:null,imageSrcSet:null,inert:T_,inputMode:null,integrity:null,is:null,isMap:T_,itemId:null,itemProp:P_,itemRef:P_,itemScope:T_,itemType:P_,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:T_,low:A_,manifest:null,max:null,maxLength:A_,media:null,method:null,min:null,minLength:A_,multiple:T_,muted:T_,name:null,nonce:null,noModule:T_,noValidate:T_,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:T_,optimum:A_,pattern:null,ping:P_,placeholder:null,playsInline:T_,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:T_,referrerPolicy:null,rel:P_,required:T_,reversed:T_,rows:A_,rowSpan:A_,sandbox:P_,scope:null,scoped:T_,seamless:T_,selected:T_,shadowRootClonable:T_,shadowRootDelegatesFocus:T_,shadowRootMode:null,shape:null,size:A_,sizes:null,slot:null,span:A_,spellCheck:C_,src:null,srcDoc:null,srcLang:null,srcSet:null,start:A_,step:null,style:null,tabIndex:A_,target:null,title:null,translate:null,type:null,typeMustMatch:T_,useMap:null,value:C_,width:A_,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:P_,axis:null,background:null,bgColor:null,border:A_,borderColor:null,bottomMargin:A_,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:T_,declare:T_,event:null,face:null,frame:null,frameBorder:null,hSpace:A_,leftMargin:A_,link:null,longDesc:null,lowSrc:null,marginHeight:A_,marginWidth:A_,noResize:T_,noHref:T_,noShade:T_,noWrap:T_,object:null,profile:null,prompt:null,rev:null,rightMargin:A_,rules:null,scheme:null,scrolling:C_,standby:null,summary:null,text:null,topMargin:A_,valueType:null,version:null,vAlign:null,vLink:null,vSpace:A_,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:T_,disableRemotePlayback:T_,prefix:null,property:null,results:A_,security:null,unselectable:null},space:"html",transform:q_}),H_=F_({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:D_,accentHeight:A_,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:A_,amplitude:A_,arabicForm:null,ascent:A_,attributeName:null,attributeType:null,azimuth:A_,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:A_,by:null,calcMode:null,capHeight:A_,className:P_,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:A_,diffuseConstant:A_,direction:null,display:null,dur:null,divisor:A_,dominantBaseline:null,download:T_,dx:null,dy:null,edgeMode:null,editable:null,elevation:A_,enableBackground:null,end:null,event:null,exponent:A_,externalResourcesRequired:null,fill:null,fillOpacity:A_,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:R_,g2:R_,glyphName:R_,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:A_,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:A_,horizOriginX:A_,horizOriginY:A_,id:null,ideographic:A_,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:A_,k:A_,k1:A_,k2:A_,k3:A_,k4:A_,kernelMatrix:D_,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:A_,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:A_,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:A_,overlineThickness:A_,paintOrder:null,panose1:null,path:null,pathLength:A_,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:P_,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:A_,pointsAtY:A_,pointsAtZ:A_,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:D_,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:D_,rev:D_,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:D_,requiredFeatures:D_,requiredFonts:D_,requiredFormats:D_,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:A_,specularExponent:A_,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:A_,strikethroughThickness:A_,string:null,stroke:null,strokeDashArray:D_,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:A_,strokeOpacity:A_,strokeWidth:null,style:null,surfaceScale:A_,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:D_,tabIndex:A_,tableValues:null,target:null,targetX:A_,targetY:A_,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:D_,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:A_,underlineThickness:A_,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:A_,values:null,vAlphabetic:A_,vMathematical:A_,vectorEffect:null,vHanging:A_,vIdeographic:A_,version:null,vertAdvY:A_,vertOriginX:A_,vertOriginY:A_,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:A_,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:B_}),$_=F_({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),G_=F_({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:q_}),W_=F_({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Q_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},J_=/[A-Z]/g,Y_=/-[a-z]/g,Z_=/^data[-\w.:]+$/i;function X_(e){return"-"+e.toLowerCase()}function eS(e){return e.charAt(1).toUpperCase()}const tS=N_([V_,K_,$_,G_,W_],"html"),nS=N_([V_,H_,$_,G_,W_],"svg");var rS={},sS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,iS=/\n/g,aS=/^\s*/,oS=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,lS=/^:\s*/,cS=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uS=/^[;\s]*/,dS=/^\s+|\s+$/g,hS="";function mS(e){return e?e.replace(dS,hS):hS}var pS=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rS,"__esModule",{value:!0}),rS.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,fS.default)(e),s="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;s?t(r,i,e):i&&((n=n||{})[r]=i)}})),n};var fS=pS((function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(e){var t=e.match(iS);t&&(n+=t.length);var s=e.lastIndexOf("\n");r=~s?e.length-s:r+e.length}function i(){var e={line:n,column:r};return function(t){return t.position=new a(e),c(),t}}function a(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function o(s){var i=new Error(t.source+":"+n+":"+r+": "+s);if(i.reason=s,i.filename=t.source,i.line=n,i.column=r,i.source=e,!t.silent)throw i}function l(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function c(){l(aS)}function u(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=i();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;hS!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,hS===e.charAt(n-1))return o("End of comment missing");var a=e.slice(2,n-2);return r+=2,s(a),e=e.slice(n),r+=2,t({type:"comment",comment:a})}}function h(){var e=i(),t=l(oS);if(t){if(d(),!l(lS))return o("property missing ':'");var n=l(cS),r=e({type:"declaration",property:mS(t[0].replace(sS,hS)),value:n?mS(n[0].replace(sS,hS)):hS});return l(uS),r}}return a.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=h();)!1!==e&&(t.push(e),u(t));return t}()}));var gS={};Object.defineProperty(gS,"__esModule",{value:!0}),gS.camelCase=void 0;var vS=/^--[a-zA-Z0-9_-]+$/,yS=/-([a-z])/g,xS=/^[^-]+$/,bS=/^-(webkit|moz|ms|o|khtml)-/,wS=/^-(ms)-/,kS=function(e,t){return t.toUpperCase()},jS=function(e,t){return"".concat(t,"-")};gS.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||xS.test(e)||vS.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(wS,jS):e.replace(bS,jS)).replace(yS,kS))};var NS=(at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(rS),_S=gS;function SS(e,t){var n={};return e&&"string"==typeof e?((0,NS.default)(e,(function(e,r){e&&r&&(n[(0,_S.camelCase)(e,t)]=r)})),n):n}SS.default=SS;const ES=ot(SS),TS=IS("end"),CS=IS("start");function IS(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function AS(e){return e&&"object"==typeof e?"position"in e||"type"in e?RS(e.position):"start"in e||"end"in e?RS(e):"line"in e||"column"in e?PS(e):"":""}function PS(e){return DS(e&&e.line)+":"+DS(e&&e.column)}function RS(e){return PS(e&&e.start)+"-"+PS(e&&e.end)}function DS(e){return e&&"number"==typeof e?e:1}class OS extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",s={},i=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!s.cause&&e&&(i=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=AS(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&"string"==typeof s.cause.stack?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}OS.prototype.file="",OS.prototype.name="",OS.prototype.reason="",OS.prototype.message="",OS.prototype.stack="",OS.prototype.column=void 0,OS.prototype.line=void 0,OS.prototype.ancestors=void 0,OS.prototype.cause=void 0,OS.prototype.fatal=void 0,OS.prototype.place=void 0,OS.prototype.ruleId=void 0,OS.prototype.source=void 0;const zS={}.hasOwnProperty,MS=new Map,LS=/[A-Z]/g,US=new Set(["table","tbody","thead","tfoot","tr"]),FS=new Set(["td","th"]),VS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function BS(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,i){const a=Array.isArray(s.children),o=CS(n);return t(r,s,i,a,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,i){const a=Array.isArray(s.children)?n:t;return i?a(r,s,i):a(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?nS:tS,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=qS(s,e,void 0);return i&&"string"!=typeof i?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function qS(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=nS,e.schema=s);e.ancestors.push(t);const i=WS(e,t.tagName,!1),a=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&zS.call(t.properties,s)){const i=GS(e,s,t.properties[s]);if(i){const[s,a]=i;e.tableCellAlignToStyle&&"align"===s&&"string"==typeof a&&FS.has(t.tagName)?r=a:n[s]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=$S(e,t);US.has(t.tagName)&&(o=o.filter((function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&k_(t.value):k_(t));var t})));return KS(e,a,i,t),HS(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}QS(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=nS,e.schema=s);e.ancestors.push(t);const i=null===t.name?e.Fragment:WS(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const s=t.expression;s.type;const i=s.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else QS(e,t.position);else{const s=r.name;let i;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else QS(e,t.position);else i=null===r.value||r.value;n[s]=i}return n}(e,t),o=$S(e,t);return KS(e,a,i,t),HS(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);QS(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return HS(r,$S(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function KS(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function HS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $S(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:MS;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=s.get(e)||0;a=e+"-"+t,s.set(e,t+1)}}const o=qS(e,i,a);void 0!==o&&n.push(o)}return n}function GS(e,t,n){const r=function(e,t){const n=__(t);let r=t,s=S_;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Z_.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Y_,eS);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Y_.test(e)){let n=e.replace(J_,X_);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=L_}return new s(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return ES(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new OS("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=VS+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)zS.call(e,n)&&(t[JS(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Q_[r.property]||r.property:r.attribute,n]}}function WS(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=b_(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=b_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return zS.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);QS(e)}function QS(e,t){const n=new OS("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=VS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function JS(e){let t=e.replace(LS,YS);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function YS(e){return"-"+e.toLowerCase()}const ZS={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},XS={};function eE(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tE(e.children,t,n)}return Array.isArray(e)?tE(e,t,n):""}function tE(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=eE(e[s],t,n);return r.join("")}const nE=document.createElement("i");function rE(e){const t="&"+e+";";nE.innerHTML=t;const n=nE.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function sE(e,t,n,r){const s=e.length;let i,a=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function iE(e,t){return e.length>0?(sE(e,e.length,0,t),e):t}const aE={}.hasOwnProperty;function oE(e,t){let n;for(n in t){const r=(aE.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){aE.call(r,i)||(r[i]=[]);const e=s[i];lE(r[i],Array.isArray(e)?e:e?[e]:[])}}}function lE(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);sE(e,0,0,r)}function cE(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"�":String.fromCodePoint(n)}function uE(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dE=jE(/[A-Za-z]/),hE=jE(/[\dA-Za-z]/),mE=jE(/[#-'*+\--9=?A-Z^-~]/);function pE(e){return null!==e&&(e<32||127===e)}const fE=jE(/\d/),gE=jE(/[\dA-Fa-f]/),vE=jE(/[!-/:-@[-`{-~]/);function yE(e){return null!==e&&e<-2}function xE(e){return null!==e&&(e<0||32===e)}function bE(e){return-2===e||-1===e||32===e}const wE=jE(new RegExp("\\p{P}|\\p{S}","u")),kE=jE(/\s/);function jE(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function NE(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(37===i&&hE(e.charCodeAt(n+1))&&hE(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(a=String.fromCharCode(i,t),s=1):a="�"}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function _E(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(bE(r))return e.enter(n),a(r);return t(r)};function a(r){return bE(r)&&i++<s?(e.consume(r),a):(e.exit(n),t(r))}}const SE={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_E(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):yE(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const EE={tokenize:function(e){const t=this,n=[];let r,s,i,a=0;return o;function o(r){if(a<n.length){const s=n[a];return t.containerState=s[1],e.attempt(s[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let s,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){s=t.events[i][1].end;break}v(a);let o=n;for(;o<t.events.length;)t.events[o][1].end={...s},o++;return sE(t.events,i+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(s){if(a===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(TE,u,d)(s)}function u(e){return r&&y(),v(a),h(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(TE,m,p)(n)}function m(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):yE(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,o):(e.consume(n),f)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(v(a),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;sE(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},TE={tokenize:function(e,t,n){return _E(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function CE(e){return null===e||xE(e)||kE(e)?1:wE(e)?2:void 0}function IE(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const AE={name:"attention",resolveAll:function(e,t){let n,r,s,i,a,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};PE(d,-o),PE(h,o),i={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[n][1].end={...i.start},e[u][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=iE(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=iE(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",s,t]]),l=iE(l,IE(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=iE(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=iE(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,sE(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=CE(r);let i;return function(t){return i=t,e.enter("attentionSequence"),a(t)};function a(o){if(o===i)return e.consume(o),a;const l=e.exit("attentionSequence"),c=CE(o),u=!c||2===c&&s||n.includes(o),d=!s||2===s&&c||n.includes(r);return l._open=Boolean(42===i?u:u&&(s||!d)),l._close=Boolean(42===i?d:d&&(c||!u)),t(o)}}};function PE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const RE={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return dE(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||hE(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||hE(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||pE(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):mE(t)?(e.consume(t),l):n(t)}function c(e){return hE(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||hE(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const DE={partial:!0,tokenize:function(e,t,n){return function(t){return bE(t)?_E(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||yE(e)?t(e):n(e)}}};const OE={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(bE(t))return _E(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(OE,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return bE(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const zE={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return vE(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const ME={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,i,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,i=hE,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=gE,c):(e.enter("characterReferenceValue"),s=7,i=fE,c(t))}function c(o){if(59===o&&a){const s=e.exit("characterReferenceValue");return i!==hE||rE(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&a++<s?(e.consume(o),c):n(o)}}};const LE={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},UE={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),bE(t)?_E(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===i?(s++,e.consume(t),u):s>=o?(e.exit("codeFencedFenceSequence"),bE(t)?_E(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||yE(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,a=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),bE(t)?_E(e,c,"whitespace")(t):c(t))}function c(n){return null===n||yE(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(LE,m,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||yE(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):bE(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_E(e,d,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),u)}function d(t){return null===t||yE(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||yE(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),h)}function m(t){return e.attempt(s,y,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return a>0&&bE(t)?_E(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||yE(t)?e.check(LE,m,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||yE(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}}};const FE={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),_E(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?o(t):yE(t)?e.attempt(VE,i,o)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||yE(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),a)}function o(n){return e.exit("codeIndented"),t(n)}}},VE={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):yE(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):_E(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):yE(e)?s(e):n(e)}}};const BE={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(!("lineEnding"!==e[s][1].type&&"space"!==e[s][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),i++,a):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,c(t)):yE(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||yE(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}}};class qE{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&KE(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),KE(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),KE(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);KE(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);KE(this.left,t.reverse())}}}function KE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function HE(e){const t={};let n,r,s,i,a,o,l,c=-1;const u=new qE(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,$E(u,c)),c=t[c],l=!0);else if(n[1]._container){for(s=c,r=void 0;s--;)if(i=u.get(s),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=s);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;r&&(n[1].end={...u.get(r)[1].start},a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return sE(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function $E(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let u,d,h=-1,m=n,p=0,f=0;const g=[f];for(;m;){for(;e.get(++s)[1]!==m;);i.push(s),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),d&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(f=h+1,g.push(f),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const GE={resolve:function(e){return HE(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):yE(t)?e.check(WE,i,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},WE={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_E(e,s,"linePrefix")};function s(s){if(null===s||yE(s))return n(s);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};function QE(e,t,n,r,s,i,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(i),e.consume(t),e.exit(i),d;if(null===t||32===t||41===t||pE(t))return n(t);return e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||yE(t)?n(t):(e.consume(t),92===t?m:h)}function m(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(s){return u||null!==s&&41!==s&&!xE(s)?u<c&&40===s?(e.consume(s),u++,p):41===s?(e.consume(s),u--,p):null===s||32===s||40===s||pE(s)?n(s):(e.consume(s),92===s?f:p):(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(s))}function f(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function JE(e,t,n,r,s,i){const a=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(i),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(i),e.enter(s),e.consume(d),e.exit(s),e.exit(r),t):yE(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||yE(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!bE(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function YE(e,t,n,r,s,i){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),a=40===t?41:t,o;return n(t)};function o(n){return n===a?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===a?(e.exit(i),o(a)):null===t?n(t):yE(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_E(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||yE(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function ZE(e,t){let n;return function r(s){if(yE(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(bE(s))return _E(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}const XE={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return JE.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return s=uE(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return xE(t)?ZE(e,o)(t):o(t)}function o(t){return QE(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(eT,c,c)(t)}function c(t){return bE(t)?_E(e,u,"whitespace")(t):u(t)}function u(i){return null===i||yE(i)?(e.exit("definition"),r.parser.defined.push(s),t(i)):n(i)}}},eT={partial:!0,tokenize:function(e,t,n){return function(t){return xE(t)?ZE(e,r)(t):n(t)};function r(t){return YE(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return bE(t)?_E(e,i,"whitespace")(t):i(t)}function i(e){return null===e||yE(e)?t(e):n(e)}}};const tT={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return yE(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const nT={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);s-2>i&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(i===s-1||s-4>i&&"whitespace"===e[s-2][1].type)&&(s-=i+1===s?2:4);s>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[s][1].end},r={type:"chunkText",start:e[i][1].start,end:e[s][1].end,contentType:"text"},sE(e,i,s-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||xE(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||yE(n)?(e.exit("atxHeading"),t(n)):bE(n)?_E(e,i,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),i(t))}function o(t){return null===t||35===t||xE(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),o)}}};const rT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sT=["pre","script","style","textarea"],iT={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,i,a,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),i=!0,m):63===o?(e.consume(o),s=3,r.interrupt?t:D):dE(o)?(e.consume(o),a=String.fromCharCode(o),p):n(o)}function u(i){return 45===i?(e.consume(i),s=2,d):91===i?(e.consume(i),s=5,o=0,h):dE(i)?(e.consume(i),s=4,r.interrupt?t:D):n(i)}function d(s){return 45===s?(e.consume(s),r.interrupt?t:D):n(s)}function h(s){const i="CDATA[";return s===i.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:S:h):n(s)}function m(t){return dE(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||xE(o)){const l=47===o,c=a.toLowerCase();return l||i||!sT.includes(c)?rT.includes(a.toLowerCase())?(s=6,l?(e.consume(o),f):r.interrupt?t(o):S(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):i?g(o):v(o)):(s=1,r.interrupt?t(o):S(o))}return 45===o||hE(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function f(s){return 62===s?(e.consume(s),r.interrupt?t:S):n(s)}function g(t){return bE(t)?(e.consume(t),g):N(t)}function v(t){return 47===t?(e.consume(t),N):58===t||95===t||dE(t)?(e.consume(t),y):bE(t)?(e.consume(t),v):N(t)}function y(t){return 45===t||46===t||58===t||95===t||hE(t)?(e.consume(t),y):x(t)}function x(t){return 61===t?(e.consume(t),b):bE(t)?(e.consume(t),x):v(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):bE(t)?(e.consume(t),b):k(t)}function w(t){return t===l?(e.consume(t),l=null,j):null===t||yE(t)?n(t):(e.consume(t),w)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||xE(t)?x(t):(e.consume(t),k)}function j(e){return 47===e||62===e||bE(e)?v(e):n(e)}function N(t){return 62===t?(e.consume(t),_):n(t)}function _(t){return null===t||yE(t)?S(t):bE(t)?(e.consume(t),_):n(t)}function S(t){return 45===t&&2===s?(e.consume(t),I):60===t&&1===s?(e.consume(t),A):62===t&&4===s?(e.consume(t),O):63===t&&3===s?(e.consume(t),D):93===t&&5===s?(e.consume(t),R):!yE(t)||6!==s&&7!==s?null===t||yE(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(aT,z,E)(t))}function E(t){return e.check(oT,T,z)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||yE(t)?E(t):(e.enter("htmlFlowData"),S(t))}function I(t){return 45===t?(e.consume(t),D):S(t)}function A(t){return 47===t?(e.consume(t),a="",P):S(t)}function P(t){if(62===t){const n=a.toLowerCase();return sT.includes(n)?(e.consume(t),O):S(t)}return dE(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),P):S(t)}function R(t){return 93===t?(e.consume(t),D):S(t)}function D(t){return 62===t?(e.consume(t),O):45===t&&2===s?(e.consume(t),D):S(t)}function O(t){return null===t||yE(t)?(e.exit("htmlFlowData"),z(t)):(e.consume(t),O)}function z(n){return e.exit("htmlFlow"),t(n)}}},aT={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(DE,t,n)}}},oT={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(yE(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const lT={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,i,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),y):dE(t)?(e.consume(t),j):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,m):dE(t)?(e.consume(t),v):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):yE(t)?(a=u,P(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?A(e):45===e?d(e):u(e)}function m(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?p:m):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),f):yE(t)?(a=p,P(t)):(e.consume(t),p)}function f(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?A(t):93===t?(e.consume(t),g):p(t)}function v(t){return null===t||62===t?A(t):yE(t)?(a=v,P(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),x):yE(t)?(a=y,P(t)):(e.consume(t),y)}function x(e){return 62===e?A(e):y(e)}function b(t){return dE(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||hE(t)?(e.consume(t),w):k(t)}function k(t){return yE(t)?(a=k,P(t)):bE(t)?(e.consume(t),k):A(t)}function j(t){return 45===t||hE(t)?(e.consume(t),j):47===t||62===t||xE(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),A):58===t||95===t||dE(t)?(e.consume(t),_):yE(t)?(a=N,P(t)):bE(t)?(e.consume(t),N):A(t)}function _(t){return 45===t||46===t||58===t||95===t||hE(t)?(e.consume(t),_):S(t)}function S(t){return 61===t?(e.consume(t),E):yE(t)?(a=S,P(t)):bE(t)?(e.consume(t),S):N(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,T):yE(t)?(a=E,P(t)):bE(t)?(e.consume(t),E):(e.consume(t),C)}function T(t){return t===s?(e.consume(t),s=void 0,I):null===t?n(t):yE(t)?(a=T,P(t)):(e.consume(t),T)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||xE(t)?N(t):(e.consume(t),C)}function I(e){return 47===e||62===e||xE(e)?N(e):n(e)}function A(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return bE(t)?_E(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):D(t)}function D(t){return e.enter("htmlTextData"),a(t)}}};const cT={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&sE(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,i,a=e.length,o=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[s-2][1].start}};return i=[["enter",l,t],["enter",c,t]],i=iE(i,e.slice(r+1,r+o+3)),i=iE(i,[["enter",u,t]]),i=iE(i,IE(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),i=iE(i,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),i=iE(i,e.slice(s+1)),i=iE(i,[["exit",l,t]]),sE(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let s,i,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){s=r.events[a][1];break}return function(t){if(!s)return n(t);if(s._inactive)return u(t);return i=r.parser.defined.includes(uE(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(uT,c,i?c:u)(t):91===t?e.attempt(dT,c,i?l:u)(t):i?c(t):u(t)}function l(t){return e.attempt(hT,c,u)(t)}function c(e){return t(e)}function u(e){return s._balanced=!0,n(e)}}},uT={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return xE(t)?ZE(e,s)(t):s(t)}function s(t){return 41===t?c(t):QE(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return xE(t)?ZE(e,o)(t):c(t)}function a(e){return n(e)}function o(t){return 34===t||39===t||40===t?YE(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return xE(t)?ZE(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},dT={tokenize:function(e,t,n){const r=this;return function(t){return JE.call(r,e,s,i,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(uE(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},hT={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const mT={name:"labelStartImage",resolveAll:cT.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const pT={name:"labelStartLink",resolveAll:cT.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const fT={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_E(e,t,"linePrefix")}}};const gT={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),a(i)):s>=3&&(null===i||yE(i))?(e.exit("thematicBreak"),t(i)):n(i)}function a(t){return t===r?(e.consume(t),s++,a):(e.exit("thematicBreakSequence"),bE(t)?_E(e,i,"whitespace")(t):i(t))}}};const vT={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(DE,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_E(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!bE(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(xT,t,s)(n)}));function s(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,_E(e,e.attempt(vT,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,a=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:fE(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(gT,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return fE(t)&&++a<10?(e.consume(t),o):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(DE,r.interrupt?n:c,e.attempt(yT,d,u))}function c(e){return r.containerState.initialBlankLine=!0,i++,d(e)}function u(t){return bE(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},yT={partial:!0,tokenize:function(e,t,n){const r=this;return _E(e,(function(e){const s=r.events[r.events.length-1];return!bE(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},xT={partial:!0,tokenize:function(e,t,n){const r=this;return _E(e,(function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}};const bT={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),s||"definition"!==e[i][1].type||(s=i);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let a,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){a="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===s?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),bE(t)?_E(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||yE(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const wT={tokenize:function(e){const t=this,n=e.attempt(DE,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,_E(e,e.attempt(this.parser.constructs.flow,r,e.attempt(GE,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const kT={resolveAll:ST()},jT=_T("string"),NT=_T("text");function _T(e){return{resolveAll:ST("text"===e?ET:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,i,a);return i;function i(e){return l(e)?s(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function ST(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function ET(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let i,a=s.length,o=-1,l=0;for(;a--;){const e=s[a];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)i=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const s={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const TT={42:vT,43:vT,45:vT,48:vT,49:vT,50:vT,51:vT,52:vT,53:vT,54:vT,55:vT,56:vT,57:vT,62:OE},CT={91:XE},IT={[-2]:FE,[-1]:FE,32:FE},AT={35:nT,42:gT,45:[bT,gT],60:iT,61:bT,95:gT,96:UE,126:UE},PT={38:ME,92:zE},RT={[-5]:fT,[-4]:fT,[-3]:fT,33:mT,38:ME,42:AE,60:[RE,lT],91:pT,92:[tT,zE],93:cT,95:AE,96:BE},DT={null:[AE,kT]},OT=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:CT,disable:{null:[]},document:TT,flow:AT,flowInitial:IT,insideSpan:DT,string:PT,text:RT},Symbol.toStringTag,{value:"Module"}));function zT(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],o=[];const l={attempt:g((function(e,t){v(e,t.from)})),check:g(f),consume:function(e){yE(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,y()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if("string"==typeof i)a=i;else switch(i){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&s)continue;a=" ";break;default:a=String.fromCharCode(i)}s=-2===i,r.push(a)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(a=iE(a,e),m(),null!==a[a.length-1])return[];return v(t,0),c.events=IE(i,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}(a,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:i}}function m(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)p(t.charCodeAt(r._bufferIndex));else p(t)}}function p(e){u=u(e)}function f(e,t){t.restore()}function g(e,t){return function(n,s,i){let a,u,d,m;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return p([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function p(e){return a=e,u=0,0===e.length?i:f(e[u])}function f(e){return function(n){m=function(){const e=h(),t=c.previous,n=c.currentConstruct,s=c.events.length,i=Array.from(o);return{from:s,restore:a};function a(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=i,y()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,v)(n)}}function g(t){return e(d,m),s}function v(e){return m.restore(),++u<a.length?f(a[u]):i}}}function v(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&sE(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function MT(e){const t={constructs:function(e){const t={};let n=-1;for(;++n<e.length;)oE(t,e[n]);return t}([OT,...(e||{}).extensions||[]]),content:n(SE),defined:[],document:n(EE),flow:n(wT),lazy:{},string:n(jT),text:n(NT)};return t;function n(e){return function(n){return zT(t,e,n)}}}const LT=/[\0\t\n\r]/g;const UT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FT(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return cE(n.slice(t?2:1),t?16:10)}return rE(n)||e}const VT={}.hasOwnProperty;function BT(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:_,autolinkEmail:_,atxHeading:i(Y),blockQuote:i($),characterEscape:_,characterReference:_,codeFenced:i(G),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(G,a),codeText:i(W,a),codeTextData:_,data:_,codeFlowValue:_,definition:i(Q),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(J),hardBreakEscape:i(Z),hardBreakTrailing:i(Z),htmlFlow:i(X,a),htmlFlowData:_,htmlText:i(X,a),htmlTextData:_,image:i(ee),label:a,link:i(te),listItem:i(re),listItemValue:h,listOrdered:i(ne,d),listUnordered:i(ne),paragraph:i(se),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(Y),strong:i(ie),thematicBreak:i(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:H,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:B,characterReference:q,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:S,codeIndented:l(v),codeText:l(A),codeTextData:S,data:S,definition:l(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(C),htmlFlowData:S,htmlText:l(I),htmlTextData:S,image:l(R),label:O,labelText:D,lineEnding:E,link:l(P),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:F,resourceDestinationString:z,resourceTitleString:M,resource:L,setextHeading:l(N),setextHeadingLineSequence:j,setextHeadingText:k,strong:l(),thematicBreak:l()}};KT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=s(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];VT.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},i),e[d][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||$T).call(i,void 0,e[0])}for(r.position={start:qT(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:qT(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function s(e,t,n){let r,s,i,a,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||i||(i=o),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=o;for(s=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",s=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!s||i<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,i=void 0,a=!0}}}return e[t][1]._spread=c,n}function i(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:qT(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+AS({start:e.start,end:e.end})+"): it’s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||$T).call(this,e,r[0])}n.position.end=qT(e.end)}function u(){return function(e){return eE(e,"boolean"!=typeof XS.includeImageAlt||XS.includeImageAlt,"boolean"!=typeof XS.includeHtml||XS.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=uE(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function j(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function _(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:qT(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=qT(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=qT(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(_.call(this,e),S.call(this,e))}function T(){this.data.atHardBreak=!0}function C(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(UT,FT)}(t),n.identifier=uE(t).toLowerCase()}function O(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function z(){const e=this.resume();this.stack[this.stack.length-1].url=e}function M(){const e=this.resume();this.stack[this.stack.length-1].title=e}function L(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function F(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=uE(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function V(e){this.data.characterReferenceType=e.type}function B(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=cE(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=rE(t)}this.stack[this.stack.length-1].value+=r}function q(e){this.stack.pop().position.end=qT(e.end)}function K(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function H(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function $(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function W(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function Y(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function X(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!HE(e););return e}(MT(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,i,a){const o=[];let l,c,u,d,h;for(s=n+("string"==typeof s?s.toString():new TextDecoder(i||void 0).decode(s)),u=0,n="",r&&(65279===s.charCodeAt(0)&&u++,r=void 0);u<s.length;){if(LT.lastIndex=u,l=LT.exec(s),d=l&&void 0!==l.index?l.index:s.length,h=s.charCodeAt(d),!l){n=s.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(s.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return a&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function qT(e){return{line:e.line,column:e.column,offset:e.offset}}function KT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?KT(e,r):HT(e,r)}}function HT(e,t){let n;for(n in t)if(VT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function $T(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+AS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+AS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+AS({start:t.start,end:t.end})+") is still open")}function GT(e){const t=this;t.parser=function(n){return BT(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function WT(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&"text"===i.type?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&"text"===a.type?a.value+=r:s.push({type:"text",value:r}),s}function QT(e){const t=e.spread;return null==t?e.children.length>1:t}function JT(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(YT(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(YT(t.slice(s),s>0,!1)),i.join("")}function YT(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const ZT={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=NE(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return WT(e,t);const s={src:NE(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:NE(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return WT(e,t);const s={href:NE(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:NE(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=QT(n[r])}return t}(n):QT(t),i={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=CS(t.children[1]),a=TS(t.children[t.children.length-1]);i&&a&&(r.position={start:i,end:a}),s.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,a=i?i.length:t.children.length;let o=-1;const l=[];for(;++o<a;){const n=t.children[o],r={},a=i?i[o]:void 0;a&&(r.align=a);let c={type:"element",tagName:s,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:JT(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:XT,yaml:XT,definition:XT,footnoteDefinition:XT};function XT(){}const eC="object"==typeof self?self:globalThis,tC=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case 0:case-1:return n(a,s);case 1:{const e=n([],s);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),s);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new eC[e](t),s)}case 8:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new eC[i](a),s)};return r})(new Map,e)(0),nC="",{toString:rC}={},{keys:sC}=Object,iC=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=rC.call(e).slice(8,-1);switch(n){case"Array":return[1,nC];case"Object":return[2,nC];case"Date":return[3,nC];case"RegExp":return[4,nC];case"Map":return[5,nC];case"Set":return[6,nC];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},aC=([e,t])=>0===e&&("function"===t||"symbol"===t),oC=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},i=r=>{if(n.has(r))return n.get(r);let[a,o]=iC(r);switch(a){case 0:{let t=r;switch(o){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([a,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),s([o,[...e]],r)}const e=[],t=s([a,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=s([a,n],r);for(const t of sC(r))!e&&aC(iC(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return s([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([a,{source:e,flags:t}],r)}case 5:{const t=[],n=s([a,t],r);for(const[s,a]of r)(e||!aC(iC(s))&&!aC(iC(a)))&&t.push([i(s),i(a)]);return n}case 6:{const t=[],n=s([a,t],r);for(const s of r)!e&&aC(iC(s))||t.push(i(s));return n}}const{message:l}=r;return s([a,{name:o,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},lC="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?tC(oC(e,t)):structuredClone(e):(e,t)=>tC(oC(e,t));function cC(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function uC(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const dC=function(e){if(null==e)return mC;if("function"==typeof e)return hC(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dC(e[n]);return hC(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return hC(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"==typeof e)return function(e){return hC(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function hC(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function mC(){return!0}const pC=[],fC=!0,gC=!1;function vC(e,t,n,r){let s;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):s=t;const i=dC(s),a=r?-1:1;!function e(s,o,l){const c=s&&"object"==typeof s?s:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=pC;if((!t||i(s,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[fC,e];return null==e?pC:[e]}(n(s,l)),h[0]===gC))return h;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+a,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===gC)return c;u="number"==typeof c[1]?c[1]:u+a}}return h}}(e,void 0,[])()}function yC(e,t,n,r){let s,i,a;"function"==typeof t?(i=void 0,a=t,s=n):(i=t,a=n,s=r),vC(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)}),s)}const xC={}.hasOwnProperty,bC={};function wC(e,t){e.position&&(t.position=function(e){const t=CS(e),n=TS(e);if(t&&n)return{start:t,end:n}}(e))}function kC(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,lC(s)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function jC(e,t){const n=t.data||{},r=!("value"in t)||xC.call(n,"hProperties")||xC.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function NC(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function _C(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function SC(e,t){const n=function(e,t){const n=t||bC,r=new Map,s=new Map,i=new Map,a={...ZT,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=_C(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=_C(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:kC,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=o.handlers[n];if(xC.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=lC(n);return r.children=o.all(e),r}return lC(e)}return(o.options.unknownHandler||jC)(o,e,t)},options:n,patch:wC,wrap:NC};return yC(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cC,r=e.options.footnoteBackLabel||uC,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const i=e.all(s),a=String(s.identifier).toUpperCase(),c=NE(a.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const m=i[i.length-1];if(m&&"element"===m.type&&"p"===m.tagName){const e=m.children[m.children.length-1];e&&"text"===e.type?e.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...d)}else i.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(s,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...lC(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:"\n"},s),i}function EC(e,t){return e&&"run"in e?async function(n,r){const s=SC(n,{file:r,...t});await e.run(s,r)}:function(n,r){return SC(n,{file:r,...e||t})}}function TC(e){if(e)throw e}var CC=Object.prototype.hasOwnProperty,IC=Object.prototype.toString,AC=Object.defineProperty,PC=Object.getOwnPropertyDescriptor,RC=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===IC.call(e)},DC=function(e){if(!e||"[object Object]"!==IC.call(e))return!1;var t,n=CC.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&CC.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||CC.call(e,t)},OC=function(e,t){AC&&"__proto__"===t.name?AC(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},zC=function(e,t){if("__proto__"===t){if(!CC.call(e,t))return;if(PC)return PC(e,t).value}return e[t]};const MC=ot((function e(){var t,n,r,s,i,a,o=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=zC(o,n),o!==(s=zC(t,n))&&(u&&s&&(DC(s)||(i=RC(s)))?(i?(i=!1,a=r&&RC(r)?r:[]):a=r&&DC(r)?r:{},OC(o,{name:n,newValue:e(u,a,s)})):void 0!==s&&OC(o,{name:n,newValue:s}));return o}));function LC(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function UC(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function s(i,...a){const o=e[++n];let l=-1;if(i)r(i);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,o?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let o;r&&t.push(s);try{o=e.apply(this,t)}catch(i){if(r&&n)throw i;return s(i)}r||(o&&o.then&&"function"==typeof o.then?o.then(a,s):o instanceof Error?s(o):a(o))}function s(e,...r){n||(n=!0,t(e,...r))}function a(e){s(null,e)}}(o,s)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const FC={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');VC(e);let n,r=0,s=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(s=i):(o=-1,s=a));r===s?s=a:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(VC(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){VC(e);let t,n=e.length,r=-1,s=0,i=-1,a=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?i<0?i=n:1!==a&&(a=1):i>-1&&(a=-1);else if(t){s=n+1;break}}if(i<0||r<0||0===a||1===a&&i===r-1&&i===s+1)return"";return e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)VC(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){VC(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",i=0,a=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(s.length<2||2!==i||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",i=0):(s=s.slice(0,r),i=s.length-1-s.lastIndexOf("/")),a=l,o=0;continue}}else if(s.length>0){s="",i=0,a=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",i=2)}else s.length>0?s+="/"+e.slice(a+1,l):s=e.slice(a+1,l),i=l-a-1;a=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function VC(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const BC={cwd:function(){return"/"}};function qC(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function KC(e){if("string"==typeof e)e=new URL(e);else if(!qC(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const HC=["history","path","basename","stem","extname","dirname"];class $C{constructor(e){let t;t=e?qC(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":BC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<HC.length;){const e=HC[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)HC.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?FC.basename(this.path):void 0}set basename(e){WC(e,"basename"),GC(e,"basename"),this.path=FC.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?FC.dirname(this.path):void 0}set dirname(e){QC(this.basename,"dirname"),this.path=FC.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?FC.extname(this.path):void 0}set extname(e){if(GC(e,"extname"),QC(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=FC.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qC(e)&&(e=KC(e)),WC(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?FC.basename(this.path,this.extname):void 0}set stem(e){WC(e,"stem"),GC(e,"stem"),this.path=FC.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new OS(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function GC(e,t){if(e&&e.includes(FC.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+FC.sep+"`")}function WC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function QC(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const JC=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},YC={}.hasOwnProperty;class ZC extends JC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UC()}copy(){const e=new ZC;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(MC(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(nI("data",this.frozen),this.namespace[e]=t,this):YC.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nI("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=iI(e),n=this.parser||this.Parser;return eI("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),eI("process",this.parser||this.Parser),tI("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const i=iI(e),a=n.parse(i);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(a,i,(function(e,t,r){if(e||!t||!r)return o(e);const s=t,i=n.stringify(s,r);var a;"string"==typeof(a=i)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=i:r.result=i,o(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),eI("processSync",this.parser||this.Parser),tI("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,TC(e),t=r})),sI("processSync","process",n),t}run(e,t,n){rI(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,i){const a=iI(t);r.run(e,a,(function(t,r,a){const o=r||e;t?i(t):s?s(o):n(void 0,o,a)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){TC(e),n=t,r=!0})),sI("runSync","run",r),n}stringify(e,t){this.freeze();const n=iI(t),r=this.compiler||this.Compiler;return tI("stringify",r),rI(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(nI("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):i(e)}return this;function s(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else i(e)}}function i(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=MC(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function o(e,t){let r=-1,s=-1;for(;++r<n.length;)if(n[r][0]===e){s=r;break}if(-1===s)n.push([e,...t]);else if(t.length>0){let[r,...i]=t;const a=n[s][1];LC(a)&&LC(r)&&(r=MC(!0,a,r)),n[s]=[e,r,...i]}}}}const XC=(new ZC).freeze();function eI(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function tI(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function nI(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rI(e){if(!LC(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function sI(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function iI(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new $C(e)}const aI=[],oI={allowDangerousHtml:!0},lI=/^(https?|ircs?|mailto|xmpp)$/i,cI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uI(e){const t=function(e){const t=e.rehypePlugins||aI,n=e.remarkPlugins||aI,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...oI}:oI,s=XC().use(GT).use(n).use(EC,r).use(t);return s}(e),n=function(e){const t=e.children||"",n=new $C;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||dI;for(const u of cI)Object.hasOwn(t,u.from)&&(u.from,u.to&&u.to,u.id);return yC(e,c),BS(e,{Fragment:W.Fragment,components:s,ignoreInvalidStyle:!0,jsx:W.jsx,jsxs:W.jsxs,passKeys:!0,passNode:!0});function c(e,t,s){if("raw"===e.type&&s&&"number"==typeof t)return a?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in ZS)if(Object.hasOwn(ZS,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=ZS[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!a&&r&&"number"==typeof t&&(a=!r(e,t,s)),a&&s&&"number"==typeof t)return o&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function dI(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||lI.test(e.slice(0,t))?e:""}const hI={1:"\n  # Jak pečovat o řezané květiny\n  \n  Řezané květiny jsou krásným doplňkem každého domova, ale bez správné péče rychle uvadnou. Zde je několik osvědčených tipů, jak prodloužit životnost vašich květin.\n  \n  ## Příprava vázy\n  \n  Před vložením květin do vázy je důležité ji důkladně umýt mýdlovou vodou. Tím odstraníte bakterie, které by mohly urychlit proces vadnutí. Váza by měla být čistá a sterilní.\n  \n  ## Ořezání stonků\n  \n  Jedním z nejdůležitějších kroků je správné ořezání stonků:\n  \n  1. Použijte ostrý nůž nebo zahradnické nůžky\n  2. Řežte pod úhlem přibližně 45 stupňů\n  3. Ořezávejte stonky pod tekoucí vodou nebo ve vodě\n  4. Odstraňte listy, které by byly pod vodou\n  \n  Řezání pod úhlem zvětšuje povrch, kterým květina přijímá vodu, a zabraňuje tomu, aby stonek ležel na dně vázy.\n  \n  ## Voda a výživa\n  \n  Používejte čerstvou studenou vodu. Teplá voda obsahuje méně kyslíku a může urychlit stárnutí květin. Květiny také potřebují výživu:\n  \n  - Můžete použít speciální květinovou výživu z květinářství\n  - Nebo domácí alternativu: přidejte lžičku cukru a několik kapek bělidla (zabraňuje růstu bakterií)\n  - Vodu měňte každé 2-3 dny\n  \n  ## Umístění\n  \n  Správné umístění vázy je také důležité:\n  \n  - Vyhněte se přímému slunečnímu záření\n  - Udržujte květiny mimo dosah ovoce (zejména jablek, která produkují etylen urychlující zrání)\n  - Neumisťujte květiny blízko zdrojů tepla nebo průvanu\n  - V noci můžete květiny přesunout na chladnější místo pro prodloužení životnosti\n  \n  ## Specifická péče podle druhu květin\n  \n  Různé druhy květin vyžadují specifickou péči:\n  \n  ### Růže\n  - Před vložením do vázy je ponořte hlavou dolů do teplé vody na 1-2 minuty\n  - Pravidelně odstraňujte vnější okvětní lístky, které vadnou nejrychleji\n  \n  ### Tulipány\n  - Pokračují v růstu i po uříznutí, denně tedy přidávejte vodu\n  - Mají rády chladnější vodu\n  \n  ### Lilie\n  - Odstraňte tyčinky, abyste předešli skvrnám od pylu\n  - Některé druhy mají silnou vůni, která může být v uzavřených prostorách příliš intenzivní\n  \n  Správná péče o řezané květiny není složitá, ale vyžaduje pravidelnou pozornost. S těmito tipy si budete moci užívat krásu čerstvých květin mnohem déle.\n    ",2:"\n  # Květiny pro každou příležitost\n  \n  Výběr správných květin pro konkrétní příležitost může být výzvou. Každá květina má svůj vlastní význam a symboliku, které mohou dokonale doplnit váš záměr. Zde je průvodce, který vám pomůže vybrat ideální květiny pro různé události.\n  \n  ## Narozeniny\n  \n  Narozeninové kytice by měly být veselé a plné života, odrážející osobnost oslavence:\n  \n  - **Gerbers** jsou skvělou volbou pro svou jasnou barvu a hravý vzhled\n  - **Slunečnice** symbolizují dlouhý život, štěstí a loajalitu\n  - **Lilie** vyjadřují radost a prosperitu\n  - Pro bližší osoby můžete zvolit jejich oblíbené květiny\n  \n  Tip: Vybírejte barvy podle osobnosti nebo oblíbených barev oslavence.\n  \n  ## Výročí\n  \n  Květiny k výročí by měly vyjadřovat lásku a oddanost:\n  \n  - **Růže** jsou klasickou volbou, přičemž každá barva nese svůj vlastní význam:\n    - Červené symbolizují vášeň\n    - Růžové představují eleganci a obdiv\n    - Bílé znamenají čistotu a nový začátek\n  - **Tulipány** představují dokonalou lásku\n  - **Karafiáty** symbolizují oddanost a fascinaci\n  \n  Pro specifická výročí existují tradiční květiny: první výročí se pojí s karafiáty, 10. výročí s daffodily a 25. výročí s irisem.\n  \n  ## Svatby\n  \n  Svatební květiny jsou důležitou součástí celkové estetiky a stylu svatby:\n  \n  ### Jarní svatby\n  - **Tulipány** v pastelových barvách\n  - **Ranunculus** pro jejich vrstvené okvětní lístky\n  - **Pivoňky** pro jejich romantický vzhled\n  \n  ### Letní svatby\n  - **Růže** v různých odstínech\n  - **Hortenzie** pro jejich bohatý objem\n  - **Slunečnice** pro neformální svatby\n  \n  ### Podzimní svatby\n  - **Jiřiny** v teplých podzimních barvách\n  - **Chryzantémy** pro jejich trvanlivost\n  - **Aster** pro jejich hvězdovitý tvar\n  \n  ### Zimní svatby\n  - **Amaryllis** pro jejich velkolepý vzhled\n  - **Calla lilie** pro jejich eleganci\n  - **Stříbrné listy eukalyptu** pro zimní téma\n  \n  ## Kondolenční květiny\n  \n  Při výběru kondolenčních květin je důležité respekt a důstojnost:\n  \n  - **Bílé lilie** symbolizují nevinnost duše\n  - **Bílé růže** představují úctu a vzpomínku\n  - **Chryzantémy** (zejména v evropských kulturách) jsou tradičními květinami pro vyjádření soustrasti\n  \n  Vyhněte se příliš jasným barvám nebo hravým kompozicím.\n  \n  ## Poděkování\n  \n  Pro vyjádření vděčnosti jsou ideální:\n  \n  - **Růžové růže** symbolizující vděčnost\n  - **Jiřiny** představující uznání\n  - **Iris** značící vděčnost a ocenění\n  \n  ## Přání brzkého uzdravení\n  \n  Květiny do nemocnice nebo pro nemocné by měly být:\n  \n  - **Bez silné vůně** (může způsobit nevolnost nebo alergické reakce)\n  - **Trvanlivé**, aby vydržely bez velké péče\n  - **Pozitivní a povzbudivé** - žluté tulipány, sedmikrásky nebo gerbers\n  \n  Pamatujte, že ne všechny nemocnice povolují živé květiny kvůli infekcím.\n  \n  Výběr správných květin pro každou příležitost není jen o estetice, ale také o vyjádření správných emocí a respektu k dané události. S tímto průvodcem budete vždy schopni vybrat dokonalou kytici.\n    ",3:"\n  # Pěstování pokojových rostlin\n  \n  Pokojové rostliny nejen zkrášlují náš domov, ale také čistí vzduch a přinášejí kousek přírody do našich interiérů. Ať už jste začátečník nebo pokročilý pěstitel, tento průvodce vám pomůže úspěšně pěstovat pokojové rostliny.\n  \n  ## Výběr správné rostliny\n  \n  Při výběru pokojových rostlin je důležité zohlednit:\n  \n  ### Světelné podmínky vašeho domova\n  - **Přímé světlo**: Rostliny jako kaktusy, sukulenty nebo citrusy\n  - **Nepřímé jasné světlo**: Monstera, fíkusy, většina kvetoucích rostlin\n  - **Střední světlo**: Filodendron, pothos, aglaonema\n  - **Nízké světlo**: Zamiokulkas, aspidistra, některé druhy dracén\n  \n  ### Váš životní styl\n  - Často cestujete? Vyberte odolné rostliny, které nevyžadují častou zálivku\n  - Máte domácí mazlíčky? Některé rostliny mohou být pro zvířata toxické\n  - Jste začátečník? Začněte s nenáročnými rostlinami jako pothos nebo zamiokulkas\n  \n  ## Základní péče o pokojové rostliny\n  \n  ### Zálivka\n  Nejčastějším důvodem úhynu pokojových rostlin je přelití:\n  \n  - **Pravidlo č. 1**: Lepší je méně než více. Většina rostlin preferuje vyschnutí substrátu mezi jednotlivými zálivkami\n  - **Tip**: Vložte prst do substrátu - pokud je suchý do hloubky 2-3 cm, je čas na zálivku\n  - **Frekvence**: Závisí na typu rostliny, ročním období a prostředí\n  - **Voda**: Používejte odstátou vodu pokojové teploty\n  \n  ### Světlo\n  - Rostliny rotujte, aby rovnoměrně rostly\n  - V zimě může být potřeba přesunout rostliny blíže k oknům\n  - Některé rostliny (např. fíkusy) nemají rády přesuny - najděte jim stálé místo\n  \n  ### Výživa\n  - Během vegetačního období (jaro-léto) hnojte pravidelně\n  - Používejte univerzální hnojivo pro pokojové rostliny nebo specifická hnojiva podle typu rostliny\n  - V zimě hnojení omezte nebo vynechte\n  \n  ### Přesazování\n  - Většina pokojových rostlin potřebuje přesadit každých 1-2 roky\n  - Nejlepší čas je začátek vegetačního období (jaro)\n  - Vyberte květináč o 2-3 cm větší v průměru než současný\n  - Používejte kvalitní substrát pro pokojové rostliny\n  \n  ## Běžné problémy a jejich řešení\n  \n  ### Žluté listy\n  - **Příčina**: Přelití, podlití, příliš mnoho slunce, nebo přirozené stárnutí\n  - **Řešení**: Upravte zálivku, zkontrolujte světelné podmínky, odstraňte staré listy\n  \n  ### Hnědé špičky listů\n  - **Příčina**: Nízká vlhkost, přehnojení, nebo chlor ve vodě\n  - **Řešení**: Zvyšte vlhkost, snižte hnojení, používejte filtrovanou vodu\n  \n  ### Protahování rostliny\n  - **Příčina**: Nedostatek světla\n  - **Řešení**: Přesuňte rostlinu na světlejší místo\n  \n  ### Škůdci\n  - **Mšice**: Omyjte rostlinu mýdlovou vodou nebo použijte insekticid\n  - **Svilušky**: Zvyšte vlhkost, použijte akaricid\n  - **Molice**: Žluté lepové desky, insekticid\n  - **Třásněnky**: Insekticid, modré lepové desky\n  \n  ## 5 nenáročných rostlin pro začátečníky\n  \n  1. **Zamiokulkas (ZZ Plant)**: Téměř nezničitelná rostlina, která snáší nízké světlo a nepravidelnou zálivku\n  2. **Pothos (Epipremnum aureum)**: Rychle rostoucí popínavá rostlina, která vám odpustí mnoho chyb\n  3. **Tchynin jazyk (Sansevieria)**: Extrémně odolná rostlina, která čistí vzduch a vyžaduje minimální péči\n  4. **Aglaonema**: Barevné listy i v prostředí s nízkým osvětlením, nenáročná na péči\n  5. **Dracéna**: Existuje mnoho druhů, většina je nenáročná a dekorativní\n  \n  Pěstování pokojových rostlin je relaxační koníček, který přináší do vašeho domova krásu a zdravější prostředí. Začněte s několika nenáročnými rostlinami, a jak budete získávat zkušenosti, můžete svou sbírku rozšiřovat o náročnější druhy.\n    ",4:"\n  # Sezónní květiny pro vaši zahradu\n  \n  Plánování zahrady s ohledem na různá roční období vám umožní mít kvetoucí rostliny po celý rok. Tento průvodce vám pomůže vybrat vhodné květiny pro každou sezónu, aby vaše zahrada byla stále plná života a barev.\n  \n  ## Jarní květiny\n  \n  Jaro je obdobím probuzení a nových začátků. Tyto květiny rozkvetou jako první a přinesou barvu do zahrady po zimě:\n  \n  ### Cibuloviny\n  - **Tulipány** (Tulipa) - kvetou od března do května v široké škále barev\n  - **Narcisy** (Narcissus) - zlatožluté nebo bílé, kvetou v březnu a dubnu\n  - **Krokusy** (Crocus) - jedny z prvních jarních květin, často prorazí i sněhovou pokrývku\n  - **Hyacinty** (Hyacinthus) - voňavé květy v různých barvách, kvetou v dubnu\n  \n  ### Další jarní květiny\n  - **Sasanky** (Anemone) - jemné květy v bílé, růžové nebo modré barvě\n  - **Prvosenky** (Primula) - v mnoha barvách, ideální do polostínu\n  - **Pomněnky** (Myosotis) - drobné modré květy, symbolizující věrnost\n  - **Macešky** (Viola) - odolné vůči chladu, nabízejí širokou paletu barev\n  \n  **Tip pro výsadbu**: Cibuloviny sázejte na podzim před příchodem mrazů. Dvouletky jako macešky vysévejte v létě předchozího roku.\n  \n  ## Letní květiny\n  \n  Léto je doba hojnosti a vrcholu zahradní sezóny. Tyto rostliny přinášejí bohatou paletu barev a často přitahují opylovače:\n  \n  ### Trvalky\n  - **Kopretiny** (Leucanthemum) - klasické bílé květy s žlutým středem\n  - **Zvonky** (Campanula) - modré nebo bílé zvonkovité květy\n  - **Řebříček** (Achillea) - odolné květy v pastelových barvách, skvělé i k sušení\n  - **Rozchodníky** (Sedum) - sukulentní rostliny s hvězdicovitými květy, ideální pro suché zahrady\n  \n  ### Jednoleté květiny\n  - **Slunečnice** (Helianthus) - ikonické žluté květy otáčející se za sluncem\n  - **Afrikány** (Tagetes) - odolné vůči škůdcům, v oranžových a žlutých odstínech\n  - **Petunie** (Petunia) - bohatě kvetoucí v široké škále barev, skvělé do nádob\n  - **Zinnie** (Zinnia) - dlouho kvetoucí a odolné vůči horku\n  \n  ### Letní cibuloviny\n  - **Lilie** (Lilium) - majestátní květy s intenzivní vůní\n  - **Gladioly** (Gladiolus) - vysoké květenství ideální k řezu\n  - **Jiřinky** (Dahlia) - kvetou od července až do prvních mrazů\n  \n  **Tip pro péči**: V létě nezapomínejte na pravidelnou zálivku, zejména při vysokých teplotách. Odstraňování odkvetlých částí podpoří další kvetení.\n  \n  ## Podzimní květiny\n  \n  Podzim přináší změnu barev a přípravu na zimu. Tyto rostliny prodlouží barevnou sezónu ve vaší zahradě:\n  \n  ### Podzimní hvězdy\n  - **Astry** (Aster) - drobné hvězdičkovité květy v růžové, fialové nebo bílé barvě\n  - **Chryzantémy** (Chrysanthemum) - symbol podzimu v mnoha tvarech a barvách\n  - **Okrasné trávy** - dosahují vrcholu své krásy na podzim, kdy jejich květenství chytá světlo\n  - **Vřesy a vřesovce** (Calluna, Erica) - nízké keříky s drobnými květy\n  \n  ### Další podzimní květiny\n  - **Rudbekie** (Rudbeckia) - žluté květy s tmavým středem\n  - **Podzimní krokusy** (Colchicum) - podobné jarním krokusům, ale kvetou na podzim\n  - **Hortenzie** (Hydrangea) - letní květy, které na podzim mění barvu do nádherných odstínů\n  \n  **Tip pro kompozici**: Kombinujte podzimní květiny s rostlinami, které mají barevné podzimní listy, pro maximální efekt.\n  \n  ## Zimní květiny\n  \n  I v zimě může zahrada nabídnout barvy a strukturu. Tyto rostliny dodají život zahradě i v nejchladnějších měsících:\n  \n  ### Kvetoucí v zimě\n  - **Čemeřice** (Helleborus) - často nazývané vánoční růže, kvetou od prosince do března\n  - **Jasmín nahokvětý** (Jasminum nudiflorum) - jasně žluté květy na holých větvích\n  - **Kalina vonná** (Viburnum x bodnantense) - voňavé růžové květy od listopadu do března\n  - **Vilín** (Hamamelis) - pavoučí květy v žluté nebo oranžové barvě na holých větvích\n  \n  ### Ozdobné prvky v zimě\n  - **Svída** (Cornus) - červené nebo žluté větve vynikají zejména na sněhu\n  - **Brslen** (Euonymus) - některé druhy mají barevné plody nebo listy přetrvávající do zimy\n  - **Cesmína** (Ilex) - stálezelené listy a červené bobule\n  \n  **Tip pro zimní zahradu**: Zaměřte se také na strukturu rostlin - zajímavé kůry, tvar větví a texturu stálezelených listů.\n  \n  ## Plánování celoroční zahrady\n  \n  Pro zahradu kvetoucí po celý rok je důležité plánování:\n  \n  1. **Mapujte svou zahradu** - zaznamenejte slunná a stinná místa, vlhké a suché oblasti\n  2. **Vrstvěte výsadbu** - kombinujte nízké, střední a vysoké rostliny\n  3. **Rozmístěte rostliny podle doby kvetení** - zajistěte, aby každá část zahrady měla nějaký zajímavý prvek v každé sezóně\n  4. **Nezapomínejte na listy** - barevné nebo texturní listy mohou být stejně dekorativní jako květy\n  \n  S pečlivým výběrem rostlin může vaše zahrada nabízet krásu a potěšení po celý rok, od prvních jarních cibulovin až po zimní krásu čemeřic a ozdobných travin.\n    ",5:'\n  # Symbolika květin v různých kulturách\n  \n  Květiny jsou univerzálním jazykem, který překračuje hranice kultur a časů. Jejich symbolika se však může v různých částech světa výrazně lišit. Pojďme prozkoumat, jak různé kultury interpretují a využívají významy květin.\n  \n  ## Západní tradice\n  \n  V západním světě má symbolika květin kořeny v viktoriánské éře, kdy vznikl tzv. "jazyk květin" (floriografie):\n  \n  ### Růže\n  - **Červená růže** symbolizuje vášnivou lásku a touhu\n  - **Bílá růže** představuje čistotu, nevinnost a nový začátek\n  - **Žlutá růže** dříve znamenala žárlivost, dnes je spojena s přátelstvím\n  - **Růžová růže** vyjadřuje vděčnost, obdiv a jemnější formy lásky\n  \n  ### Další významné květiny\n  - **Lilie** jsou spojeny s čistotou a nevinností, často se používají při náboženských obřadech\n  - **Slunečnice** symbolizují oddanost a dlouhověkost\n  - **Chryzantémy** v západní tradici představují pravdu a upřímnost\n  - **Tulipány** jsou spojovány s dokonalou láskou a královskou důstojností\n  \n  ## Asijské kultury\n  \n  ### Japonsko\n  V Japonsku jsou květiny hluboce zakořeněny v kultuře prostřednictvím umění ikebany (aranžování květin) a hanakotoba (japonský jazyk květin):\n  \n  - **Sakura** (třešňové květy) symbolizují pomíjivost života a krásu okamžiku\n  - **Chryzantéma** je císařským symbolem a představuje dlouhověkost a radost\n  - **Kamélie** vyjadřují oddanost a jsou spojeny se samurajskou kulturou\n  - **Lotosový květ** představuje čistotu, osvícení a znovuzrození\n  \n  ### Čína\n  V čínské kultuře jsou květiny hluboce propojeny s filozofií a tradičními hodnotami:\n  \n  - **Pivoňka** je považována za "královnu květin" a symbolizuje bohatství, honor a vysoké postavení\n  - **Lotosový květ** představuje čistotu, dokonalost a osvícení\n  - **Švestkový květ** symbolizuje odolnost a naději, protože kvete v zimě\n  - **Chryzantéma** je spojena s dlouhověkostí a podzimem\n  \n  ### Indie\n  V indické kultuře jsou květiny nedílnou součástí náboženských obřadů a každodenního života:\n  \n  - **Lotos** má zvláštní místo v hinduismu i buddhismu jako symbol božskosti a čistoty\n  - **Jasmín** symbolizuje lásku, štěstí a je často používán ve svatebních obřadech\n  - **Ibišek** je spojován s bohyní Kálí a představuje sílu\n  - **Marigold** (aksamitník) je důležitý při náboženských obřadech a je symbolem světla a pozitivní energie\n  \n  ## Blízký východ\n  \n  V kulturách Blízkého východu mají květiny hluboký náboženský a kulturní význam:\n  \n  - **Růže** je považována za "květinu proroka" v islámské tradici\n  - **Tulipán** byl v osmanské říši symbolem dokonalosti a ráje\n  - **Granátové jablko** (ačkoli technicky ovoce) je spojováno s plodností a hojností\n  - **Narcis** symbolizuje nový rok a nové začátky v perské kultuře\n  \n  ## Latinská Amerika\n  \n  V latinskoamerických kulturách se prolínají domorodé tradice s evropskými vlivy:\n  \n  - **Cempasúchil** (aksamitník) je spojen s Dnem mrtvých v Mexiku\n  - **Orchideje** jsou národními květinami několika jihoamerických zemí a symbolizují luxus a sílu\n  - **Dahlie** byla posvátná pro Aztéky a je národní květinou Mexika\n  \n  ## Moderní využití květinové symboliky\n  \n  V dnešní době se symbolika květin používá při mnoha příležitostech:\n  \n  ### Svatby\n  - Svatební kytice často obsahují květiny symbolizující lásku a oddanost\n  - Regionální tradice mohou určovat výběr specifických květin\n  \n  ### Pohřby\n  - V různých kulturách se liší vhodné květiny pro vyjádření soustrasti\n  - V některých asijských kulturách jsou bílé květiny spojeny se smrtí, zatímco v západních tradicích symbolizují čistotu\n  \n  ### Náboženské obřady\n  - Lilie jsou často spojovány s křesťanskými svátky jako Velikonoce\n  - Lotos má zvláštní místo v buddhistických a hinduistických obřadech\n  \n  Symbolika květin nám umožňuje komunikovat pocity a myšlenky způsobem, který přesahuje slova. Při darování nebo aranžování květin je dobré mít na paměti jejich kulturní význam - zejména pokud komunikujeme s lidmi z různých kulturních prostředí.\n    ',6:"\n  # Jak vytvořit perfektní svatební kytici\n  \n  Svatební kytice je jedním z nejdůležitějších doplňků nevěsty a často se stává ústředním prvkem svatební výzdoby. Výběr a tvorba dokonalé kytice vyžaduje pečlivé plánování a pozornost k detailům. Tento průvodce vám pomůže vytvořit kytici, která dokonale doplní váš velký den.\n  \n  ## Výběr stylu a tvaru\n  \n  První rozhodnutí se týká stylu a tvaru vaší kytice:\n  \n  ### Kulatá kytice\n  - Nejklasičtější a nejoblíbenější tvar\n  - Univerzální a lichotí většině střihů svatebních šatů\n  - Ideální pro tradiční svatby\n  - Obvykle obsahuje růže, pivoňky nebo jiné květiny s kulatými květy\n  \n  ### Kaskádová kytice\n  - Dramatický, vodopádový efekt\n  - Vhodná pro formální a velkolepé svatby\n  - Lichotí vysokým nevěstám nebo šatům s dlouhou vlečkou\n  - Často obsahuje popínavé rostliny jako břečťan nebo pnoucí růže\n  \n  ### Volně vázaná kytice\n  - Přirozený, rustikální vzhled\n  - Ideální pro venkovní a neformální svatby\n  - Má organický tvar a vypadá, jako by květiny byly právě natrhané\n  - Často obsahuje divoké nebo zahradní květiny a hodně zeleně\n  \n  ### Polosvazkový styl\n  - Kompromis mezi formálním a neformálním\n  - Květiny jsou uspořádány volněji než u kulaté kytice, ale strukturovaněji než u volně vázané\n  - Univerzální a přizpůsobivý různým svatebním stylům\n  \n  ## Výběr květin podle sezóny\n  \n  Výběr sezónních květin zajistí nejen nejlepší kvalitu a cenu, ale také harmonii s ročním obdobím vašeho velkého dne:\n  \n  ### Jaro (březen-květen)\n- **Pivoňky** - romantické a bohaté květy, symboly štěstí a prosperity\n- **Tulipány** - elegantní a jednoduché, symbolizují dokonalou lásku\n- **Narcisy** - jasné a veselé, představují nové začátky\n- **Šeřík** - voňavý a nostalgický, symbolizuje první emoce lásky\n\n### Léto (červen-srpen)\n- **Růže** - klasická svatební květina dostupná v mnoha barvách\n- **Slunečnice** - radostné a optimistické pro neformální svatby\n- **Hortenzie** - velké a plné květy dodávající objem\n- **Delphinium** - vysoké modré květy pro dramatický efekt\n\n### Podzim (září-listopad)\n- **Chryzantémy** - odolné květiny v teplých podzimních barvách\n- **Calla lilie** - elegantní a jednoduché, vhodné pro moderní svatby\n- **Dahlie** - bohaté a texturní květy v sytých barvách\n- **Astra** - hvězdicovité květy, které přinášejí jemnost a rozmanitost\n\n### Zima (prosinec-únor)\n- **Anemony** - dramatické květy s tmavými středy\n- **Ranunculus** - vrstvené, papírově vypadající květy podobné malým pivoňkám\n- **Amaryllis** - velké a působivé květy v červené, bílé nebo růžové\n- **Vánoční růže** (Helleborus) - subtilní a elegantní pro zimní svatby\n\n## Barevné schéma\n\nBarvy vaší kytice by měly harmonizovat s celkovým barevným schématem svatby:\n\n### Tradiční\n- **Bílá** symbolizuje čistotu a nový začátek\n- **Krémová** a **šampaňská** pro nadčasovou eleganci\n- **Pastelové tóny** pro romantický a jemný vzhled\n\n### Moderní\n- **Monochromatické** kytice v různých odstínech jedné barvy\n- **Kontrastní** kombinace pro dramatický efekt\n- **Tmavé** nebo **neobvyklé** barvy jako burgundská nebo námořnická modrá\n\n### Podle významu\n- **Červená** - vášeň a láska\n- **Růžová** - štěstí a něžnost\n- **Fialová** - majestátnost a bohatství\n- **Modrá** - věrnost a důvěra\n\n## Doplňky a dekorace\n\nKromě samotných květin můžete do kytice přidat i další prvky:\n\n### Zeleň\n- Poskytuje strukturu a kontrast\n- Populární volby zahrnují eukalyptus, kapradí, olivové větvičky nebo brutnák\n\n### Osobní prvky\n- Rodinná památka připevněná ke stonkům\n- Fotografie blízkých, kteří nemohou být přítomni\n- Šperky nebo přívěsky s osobním významem\n\n### Praktické doplňky\n- Saténová nebo krajková stuha omotaná kolem stonků\n- Špendlíky nebo broože pro zajištění kytice\n- Držák na kytici, který ji udrží hydratovanou během dne\n\n## Praktické tipy\n\n### Načasování\n- Objednejte kytici 6-8 měsíců před svatbou, zejména pokud chcete specifické nebo sezónní květiny\n- Nechte kytici doručit ráno v den svatby pro maximální svěžest\n\n### Péče během dne\n- Udržujte kytici ve vodě až do posledního možného okamžiku\n- Mějte po ruce rozprašovač s vodou pro osvěžení květin\n- Vyhněte se přímému slunečnímu záření a vysokým teplotám\n\n### Alergeny\n- Zjistěte, zda vy nebo někdo v blízkém okolí netrpí alergií na určité květiny\n- Zvažte méně vonné alternativy, pokud jsou alergie problémem\n\n### Uchovávání kytice\n- Zvažte profesionální sušení nebo konzervaci kytice jako památku\n- Některé květinářství nabízejí služby repliky, které mohou vytvořit umělou verzi vaší svatební kytice\n\n## Trendy ve svatebních kyticích\n\n### Udržitelné kytice\n- Lokálně pěstované a sezónní květiny pro minimalizaci uhlíkové stopy\n- Květiny pěstované bez pesticidů\n- Alternativy tradičních floristických pěn, které nejsou biologicky odbouratelné\n\n### Netradiční materiály\n- Sukulenty, které lze po svatbě zasadit\n- Bylinky pro aromatickou a užitečnou kytici\n- Neobvyklé prvky jako peří, obilí nebo bobule\n\n### Minimalistické kytice\n- Jednoduché kompozice zaměřené na několik výrazných květin\n- Elegantní a nepřeplněné designty vynikající svou jednoduchostí\n\nDokonalá svatební kytice je tou, která odráží vaši osobnost a styl vaší svatby. Ať už si vyberete klasickou eleganci bílých růží nebo odvážnou paletu podzimních barev, vaše kytice bude krásnou součástí vašeho výjimečného dne a ceněnou památkou po mnoho let.\n"};function mI(){const{id:e}=lt(),[t,n]=rt.useState(null),[r,s]=rt.useState(!0),[i,a]=rt.useState([]);return rt.useEffect((()=>{(async()=>{if(e){s(!0);try{const t=await(async e=>Pj.find((t=>t.id===e)))(e);if(t){const r=hI[t.id]||t.content;if(n({...t,content:r}),t.tags&&t.tags.length>0){const n=t.tags[0],r=Pj.filter((t=>t.id!==e&&t.tags&&t.tags.includes(n))).slice(0,3);a(r)}}}catch(t){}finally{s(!1)}}})()}),[e]),r?W.jsx(wj,{children:W.jsx("div",{className:"container-custom py-12",children:W.jsx("p",{children:"Načítání článku..."})})}):t?W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-12",children:[W.jsx("div",{className:"mb-8",children:W.jsx(Tw,{variant:"outline",asChild:!0,children:W.jsxs(st,{to:"/blog",className:"flex items-center",children:[W.jsx(Sx,{className:"mr-2 h-4 w-4"}),"Zpět na blog"]})})}),W.jsxs("div",{className:"mb-8",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:t.title}),W.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-6",children:[W.jsxs("div",{className:"flex items-center",children:[W.jsx(Ix,{className:"mr-2 h-4 w-4"}),t.date]}),W.jsxs("div",{className:"flex items-center",children:[W.jsx(_b,{className:"mr-2 h-4 w-4"}),t.author]})]}),t.tags&&t.tags.length>0&&W.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map((e=>W.jsx(jk,{variant:"secondary",children:e},e)))}),W.jsx("div",{className:"aspect-[21/9] relative rounded-lg overflow-hidden mb-8",children:W.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover"})})]}),W.jsx("div",{className:"prose prose-lg max-w-none mb-12",children:W.jsx(uI,{children:t.content})}),i.length>0&&W.jsxs("div",{className:"mt-16",children:[W.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Související články"}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((e=>W.jsx(st,{to:`/blog/${e.id}`,className:"block",children:W.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[W.jsx("div",{className:"aspect-[16/9] relative",children:W.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),W.jsxs("div",{className:"p-4",children:[W.jsx("h3",{className:"font-semibold mb-2",children:e.title}),W.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.excerpt})]})]})},e.id)))})]})]})}):W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-12",children:[W.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Článek nenalezen"}),W.jsx("p",{className:"mb-6",children:"Požadovaný článek bohužel neexistuje."}),W.jsx(Tw,{asChild:!0,children:W.jsx(st,{to:"/blog",children:"Zpět na blog"})})]})})}function pI(){const[e,t]=rt.useState({name:"",email:"",phone:"",subject:"general",message:""}),[n,r]=rt.useState(!1),[s,i]=rt.useState(!1),a=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return W.jsxs(wj,{children:[W.jsx("section",{className:"bg-muted py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Kontaktujte nás"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Máte dotaz nebo chcete objednat květiny? Neváhejte nás kontaktovat."})]})}),W.jsx("section",{className:"py-12",children:W.jsx("div",{className:"container-custom",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[W.jsx("div",{children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Napište nám"}),s?W.jsxs("div",{className:"text-center py-8",children:[W.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:W.jsx(Px,{className:"h-8 w-8 text-primary"})}),W.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Zpráva byla odeslána"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Děkujeme za vaši zprávu. Budeme vás kontaktovat co nejdříve."}),W.jsx(Tw,{onClick:()=>i(!1),children:"Odeslat další zprávu"})]}):W.jsxs("form",{onSubmit:e=>{e.preventDefault(),r(!0),setTimeout((()=>{r(!1),i(!0),t({name:"",email:"",phone:"",subject:"general",message:""})}),1500)},className:"space-y-6",children:[W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"name",children:"Jméno a příjmení"}),W.jsx($k,{id:"name",name:"name",value:e.name,onChange:a,required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"email",children:"E-mail"}),W.jsx($k,{id:"email",name:"email",type:"email",value:e.email,onChange:a,required:!0})]})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"phone",children:"Telefon"}),W.jsx($k,{id:"phone",name:"phone",value:e.phone,onChange:a})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{children:"Předmět zprávy"}),W.jsxs(EN,{value:e.subject,onValueChange:e=>{t((t=>({...t,subject:e})))},children:[W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"general",id:"general"}),W.jsx(tN,{htmlFor:"general",children:"Obecný dotaz"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"order",id:"order"}),W.jsx(tN,{htmlFor:"order",children:"Objednávka"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"custom",id:"custom"}),W.jsx(tN,{htmlFor:"custom",children:"Vlastní kytice"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(TN,{value:"other",id:"other"}),W.jsx(tN,{htmlFor:"other",children:"Jiné"})]})]})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"message",children:"Zpráva"}),W.jsx(u_,{id:"message",name:"message",rows:5,value:e.message,onChange:a,required:!0})]}),W.jsx(Tw,{type:"submit",className:"w-full",disabled:n,children:n?W.jsxs(W.Fragment,{children:[W.jsx(Xx,{className:"mr-2 h-4 w-4 animate-spin"}),"Odesílání..."]}):W.jsxs(W.Fragment,{children:[W.jsx(hb,{className:"mr-2 h-4 w-4"}),"Odeslat zprávu"]})})]})]})})}),W.jsxs("div",{className:"space-y-8",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Kontaktní informace"}),W.jsx(kj,{children:W.jsx(Sj,{className:"p-6",children:W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:W.jsx(nb,{className:"h-5 w-5 text-primary"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Adresa"}),W.jsx("p",{className:"text-muted-foreground",children:"Květinová 123"}),W.jsx("p",{className:"text-muted-foreground",children:"110 00 Praha 1"})]})]}),W.jsx(xj,{}),W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:W.jsx(cb,{className:"h-5 w-5 text-primary"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Telefon"}),W.jsx("p",{className:"text-muted-foreground",children:W.jsx("a",{href:"tel:+420123456789",className:"hover:text-primary transition-colors",children:"+420 123 456 789"})})]})]}),W.jsx(xj,{}),W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:W.jsx(tb,{className:"h-5 w-5 text-primary"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"E-mail"}),W.jsx("p",{className:"text-muted-foreground",children:W.jsx("a",{href:"mailto:info@kvitkos.cz",className:"hover:text-primary transition-colors",children:"info@kvitkos.cz"})})]})]}),W.jsx(xj,{}),W.jsxs("div",{className:"flex items-start gap-4",children:[W.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:W.jsx(Mx,{className:"h-5 w-5 text-primary"})}),W.jsxs("div",{children:[W.jsx("h3",{className:"font-semibold",children:"Otevírací doba"}),W.jsxs("div",{className:"grid grid-cols-2 gap-2 text-muted-foreground",children:[W.jsx("span",{children:"Pondělí - Pátek:"}),W.jsx("span",{children:"9:00 - 19:00"}),W.jsx("span",{children:"Sobota:"}),W.jsx("span",{children:"9:00 - 17:00"}),W.jsx("span",{children:"Neděle:"}),W.jsx("span",{children:"10:00 - 15:00"})]})]})]})]})})})]}),W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Kde nás najdete"}),W.jsx(kj,{className:"overflow-hidden",children:W.jsx("div",{className:"aspect-video w-full",children:W.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2560.9058953816!2d14.4194153!3d50.0874654!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b94e9e08e3b33%3A0x7acff08b90e9352!2sWenceslas%20Square!5e0!3m2!1sen!2scz!4v1651234567890!5m2!1sen!2scz",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa"})})})]})]})]})})}),W.jsx("section",{className:"py-12 bg-muted",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h2",{className:"text-2xl font-semibold text-center mb-10",children:"Často kladené otázky"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak dlouho dopředu je třeba objednat květiny?"}),W.jsx("p",{className:"text-muted-foreground",children:"Pro běžné objednávky doporučujeme objednat alespoň 24 hodin předem. Pro větší události, jako jsou svatby, doporučujeme objednat několik týdnů až měsíců dopředu."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jaké jsou možnosti doručení?"}),W.jsx("p",{className:"text-muted-foreground",children:"Nabízíme doručení po celé Praze a okolí. Můžete si také vyzvednout objednávku osobně v naší prodejně."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Mohu si objednat květiny na konkrétní čas?"}),W.jsx("p",{className:"text-muted-foreground",children:"Ano, nabízíme doručení v konkrétním časovém rozmezí za příplatek. Kontaktujte nás pro více informací."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak dlouho vydrží vaše květiny?"}),W.jsx("p",{className:"text-muted-foreground",children:"Naše květiny jsou vždy čerstvé a při správné péči vydrží 7-14 dní. Ke každé kytici přikládáme návod na péči."})]})})]})]})})]})}function fI(){return W.jsx(wj,{children:W.jsxs("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[W.jsx("div",{className:"absolute w-96 h-96 bg-primary/10 rounded-full blur-3xl top-0 -right-48 animate-pulse"}),W.jsx("div",{className:"absolute w-80 h-80 bg-secondary/10 rounded-full blur-3xl -bottom-20 -left-20"}),W.jsxs("div",{className:"relative z-10 max-w-md w-full text-center",children:[W.jsx("h1",{className:"text-9xl font-bold mb-2 text-primary",children:"404"}),W.jsx("div",{className:"w-16 h-1 bg-primary/20 mx-auto my-4"}),W.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Stránka nenalezena"}),W.jsx("p",{className:"text-muted-foreground mb-8",children:"Omlouváme se, ale stránka, kterou hledáte, neexistuje nebo byla přesunuta."}),W.jsx(Tw,{asChild:!0,size:"lg",children:W.jsxs(st,{to:"/",children:[W.jsx(Sx,{className:"mr-2 h-4 w-4"}),"Zpět na úvodní stránku"]})})]})]})})}function gI(){const{id:e}=lt(),[t,n]=rt.useState(null),[r,s]=rt.useState([]),[i,a]=rt.useState(!0),[o,l]=rt.useState(1),{addToCart:c}=bx();rt.useEffect((()=>{(async()=>{if(e){a(!0);try{const t=await ux(e);if(t){n(t);const r=(await(async(e=4)=>{try{const t=ng(bf(tx,lx),sg("featured","==",!0),og("createdAt","desc"),cg(e));return(await kg(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw t}})()).filter((t=>t.id!==e));s(r.slice(0,4))}}catch(t){Tt.error("Došlo k chybě při načítání produktu")}finally{a(!1)}}})()}),[e]);return i?W.jsx(wj,{children:W.jsx("div",{className:"container-custom py-16",children:W.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:W.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-r-transparent"})})})}):t?W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-8",children:[W.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-6",children:[W.jsx(st,{to:"/",className:"hover:text-foreground transition-colors",children:"Domů"}),W.jsx(Dx,{className:"h-4 w-4 mx-2"}),W.jsx(st,{to:"/catalog",className:"hover:text-foreground transition-colors",children:"Katalog"}),W.jsx(Dx,{className:"h-4 w-4 mx-2"}),W.jsx(st,{to:`/catalog/${t.category}`,className:"hover:text-foreground transition-colors",children:"bouquets"===t.category?"Kytice":"plants"===t.category?"Pokojové rostliny":"wedding"===t.category?"Svatební květiny":"gifts"===t.category?"Dárky":t.category}),W.jsx(Dx,{className:"h-4 w-4 mx-2"}),W.jsx("span",{children:t.name})]}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:[W.jsxs("div",{className:"relative",children:[W.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:W.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),t.featured&&W.jsx(jk,{className:"absolute top-4 left-4 bg-primary text-primary-foreground",children:"Oblíbené"}),W.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[W.jsx(Tw,{variant:"secondary",size:"icon",className:"rounded-full",children:W.jsx(Wx,{className:"h-5 w-5"})}),W.jsx(Tw,{variant:"secondary",size:"icon",className:"rounded-full",children:W.jsx(pb,{className:"h-5 w-5"})})]})]}),W.jsxs("div",{children:[W.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),W.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[W.jsx("div",{className:"flex",children:[1,2,3,4,5].map((e=>W.jsx(yb,{className:"h-5 w-5 "+(e<=4?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),W.jsx("span",{className:"text-sm text-muted-foreground",children:"(12 recenzí)"})]}),W.jsxs("div",{className:"text-2xl font-semibold mb-6",children:[t.price," Kč"]}),W.jsx("p",{className:"text-muted-foreground mb-6",children:t.description}),W.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[W.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",children:W.jsx(Px,{className:"h-3 w-3 text-white"})}),W.jsx("span",{className:"text-green-600 font-medium",children:"Skladem"})]}),W.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[W.jsxs("div",{className:"flex items-center border border-input rounded-md",children:[W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>l(Math.max(1,o-1)),className:"rounded-none",children:W.jsx(ib,{className:"h-4 w-4"})}),W.jsx("span",{className:"w-10 text-center",children:o}),W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>l(o+1),className:"rounded-none",children:W.jsx(ub,{className:"h-4 w-4"})})]}),W.jsxs(Tw,{className:"flex-1",onClick:()=>{if(t)try{for(let e=0;e<o;e++)c({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl});Tt.success(`${t.name} přidán do košíku`)}catch(e){Tt.error("Nepodařilo se přidat produkt do košíku")}},children:[W.jsx(fb,{className:"mr-2 h-5 w-5"}),"Přidat do košíku"]})]}),W.jsx(kj,{className:"mb-6",children:W.jsx(Sj,{className:"p-4",children:W.jsxs("div",{className:"flex items-start gap-3",children:[W.jsx(jb,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),W.jsxs("div",{children:[W.jsx("p",{className:"font-medium",children:"Doručení"}),W.jsxs("p",{className:"text-sm text-muted-foreground",children:["Doručení po Praze během 2-3 hodin. ",W.jsx(st,{to:"/delivery",className:"text-primary hover:underline",children:"Více o doručení"})]})]})]})})}),t.tags&&t.tags.length>0&&W.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(((e,t)=>W.jsx(jk,{variant:"secondary",children:e},t)))})]})]}),W.jsxs(Bk,{defaultValue:"details",className:"mb-16",children:[W.jsxs(qk,{className:"w-full sm:w-auto",children:[W.jsx(Kk,{value:"details",children:"Detaily"}),W.jsx(Kk,{value:"care",children:"Péče"}),W.jsx(Kk,{value:"reviews",children:"Recenze (12)"})]}),W.jsx(Hk,{value:"details",className:"mt-6",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Popis produktu"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:t.description}),W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Specifikace"}),W.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[W.jsxs("div",{className:"flex justify-between pb-2 border-b border-border",children:[W.jsx("span",{className:"text-muted-foreground",children:"Kategorie"}),W.jsx("span",{children:"bouquets"===t.category?"Kytice":"plants"===t.category?"Pokojové rostliny":"wedding"===t.category?"Svatební květiny":"gifts"===t.category?"Dárky":t.category})]}),W.jsxs("div",{className:"flex justify-between pb-2 border-b border-border",children:[W.jsx("span",{className:"text-muted-foreground",children:"Kód produktu"}),W.jsxs("span",{children:["KS-",t.id.slice(0,6)]})]})]})]})})}),W.jsx(Hk,{value:"care",className:"mt-6",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Doporučení k péči"}),"plants"===t.category?W.jsxs("div",{className:"space-y-4",children:[W.jsx("p",{className:"text-muted-foreground",children:"Pro zajištění dlouhého života vaší pokojové rostliny, dodržujte tato doporučení:"}),W.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-muted-foreground",children:[W.jsx("li",{children:"Umístěte rostlinu na místo s jasným nepřímým světlem"}),W.jsx("li",{children:"Zalévejte střídmě, nechte vrchní vrstvu půdy vyschnout mezi zaléváním"}),W.jsx("li",{children:"Udržujte vlhkost vzduchu, zejména v zimě"}),W.jsx("li",{children:"Přihnojujte hnojivem pro pokojové rostliny v období aktivního růstu"}),W.jsx("li",{children:"Pravidelně kontrolujte, zda rostlina nemá škůdce"})]})]}):W.jsxs("div",{className:"space-y-4",children:[W.jsx("p",{className:"text-muted-foreground",children:"Aby vaše květiny zůstaly svěží co nejdéle, dodržujte tato jednoduchá doporučení:"}),W.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-muted-foreground",children:[W.jsx("li",{children:"Vložte kytici do čisté vázy s chladnou vodou"}),W.jsx("li",{children:"Zkraťte stonky šikmo před vložením do vody"}),W.jsx("li",{children:"Měňte vodu každé 2-3 dny"}),W.jsx("li",{children:"Udržujte květiny mimo přímé sluneční světlo a zdroje tepla"}),W.jsx("li",{children:"Odstraňujte zvadlé květy a listy"})]})]})]})})}),W.jsx(Hk,{value:"reviews",className:"mt-6",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"flex justify-between items-center mb-6",children:[W.jsx("h3",{className:"text-lg font-semibold",children:"Recenze zákazníků"}),W.jsx(Tw,{children:"Napsat recenzi"})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"border-b border-border pb-6",children:[W.jsxs("div",{className:"flex justify-between mb-2",children:[W.jsx("span",{className:"font-medium",children:"Anna K."}),W.jsx("span",{className:"text-sm text-muted-foreground",children:"15.04.2023"})]}),W.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>W.jsx(yb,{className:"h-4 w-4 "+(e<=5?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),W.jsx("p",{className:"text-muted-foreground",children:"Krásné květiny, vypadají ještě lépe než na fotografii. Doručení bylo včas. Jsem velmi spokojená!"})]}),W.jsxs("div",{className:"border-b border-border pb-6",children:[W.jsxs("div",{className:"flex justify-between mb-2",children:[W.jsx("span",{className:"font-medium",children:"Petr V."}),W.jsx("span",{className:"text-sm text-muted-foreground",children:"03.04.2023"})]}),W.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>W.jsx(yb,{className:"h-4 w-4 "+(e<=4?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),W.jsx("p",{className:"text-muted-foreground",children:"Objednal jsem kytici pro manželku k výročí. Kvalita je vynikající, květiny jsou čerstvé. Manželka byla nadšená!"})]}),W.jsxs("div",{children:[W.jsxs("div",{className:"flex justify-between mb-2",children:[W.jsx("span",{className:"font-medium",children:"Marie D."}),W.jsx("span",{className:"text-sm text-muted-foreground",children:"25.03.2023"})]}),W.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>W.jsx(yb,{className:"h-4 w-4 "+(e<=5?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),W.jsx("p",{className:"text-muted-foreground",children:"Již několikrát jsem objednala květiny v Kvitko Sweet a vždy jsem spokojená. Čerstvé květiny, krásná úprava, rychlé doručení!"})]})]})]})})})]}),r.length>0&&W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Mohlo by se vám také líbit"}),W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((e=>W.jsx(Tj,{product:e},e.id)))})]})]})}):W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-16",children:[W.jsx("h1",{className:"text-2xl font-bold",children:"Produkt nebyl nalezen"}),W.jsx("p",{className:"mt-4",children:"Bohužel požadovaný produkt neexistuje nebo byl odstraněn."}),W.jsx(Tw,{asChild:!0,className:"mt-6",children:W.jsx(st,{to:"/catalog",children:"Zpět do katalogu"})})]})})}function vI(){const{cart:e,removeFromCart:t,updateQuantity:n,getTotal:r,clearCart:s}=bx();return 0===e.length?W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-16 text-center",children:[W.jsx(fb,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),W.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Váš košík je prázdný"}),W.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-8",children:"Vypadá to, že jste si zatím nic nevybrali. Prozkoumejte náš katalog a objevte krásné květiny."}),W.jsx(Tw,{asChild:!0,children:W.jsx(st,{to:"/catalog",children:"Prozkoumat katalog"})})]})}):W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-12",children:[W.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Nákupní košík"}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[W.jsxs("div",{className:"lg:col-span-2",children:[W.jsx("div",{className:"space-y-6",children:e.map((e=>W.jsxs("div",{className:"flex items-center gap-4 border-b border-border pb-6",children:[W.jsx("div",{className:"w-20 h-20 shrink-0 rounded-md overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),W.jsxs("div",{className:"flex-1",children:[W.jsx("h3",{className:"font-semibold",children:e.name}),W.jsxs("p",{className:"text-muted-foreground",children:[e.price," Kč"]})]}),W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>n(e.id,e.quantity-1),children:"-"}),W.jsx("span",{className:"min-w-8 text-center",children:e.quantity}),W.jsx(Tw,{variant:"outline",size:"icon",onClick:()=>n(e.id,e.quantity+1),children:"+"})]}),W.jsx("div",{className:"text-right min-w-24",children:W.jsxs("p",{className:"font-semibold",children:[e.price*e.quantity," Kč"]})}),W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>t(e.id),"aria-label":"Odstranit položku",children:W.jsx(bb,{className:"h-4 w-4"})})]},e.id)))}),W.jsxs("div",{className:"flex justify-between mt-6",children:[W.jsx(Tw,{variant:"outline",onClick:s,children:"Vyprázdnit košík"}),W.jsx(Tw,{variant:"outline",asChild:!0,children:W.jsx(st,{to:"/catalog",children:"Pokračovat v nákupu"})})]})]}),W.jsx("div",{className:"lg:col-span-1",children:W.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[W.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Souhrn objednávky"}),W.jsxs("div",{className:"space-y-3",children:[W.jsxs("div",{className:"flex justify-between",children:[W.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),W.jsxs("span",{children:[r()," Kč"]})]}),W.jsxs("div",{className:"flex justify-between",children:[W.jsx("span",{className:"text-muted-foreground",children:"Doprava:"}),W.jsx("span",{children:"Vypočteno v dalším kroku"})]}),W.jsx(xj,{className:"my-4"}),W.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[W.jsx("span",{children:"Celkem:"}),W.jsxs("span",{children:[r()," Kč"]})]})]}),W.jsx(Tw,{className:"w-full mt-6",asChild:!0,children:W.jsxs(st,{to:"/checkout",children:["Pokračovat k pokladně",W.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})]})})]})]})})}function yI(){var e,t;const[n,r]=rt.useState(""),[s,i]=rt.useState(""),[a,o]=rt.useState(!1),{login:l}=gx(),c=ct(),u=(null==(t=null==(e=ut().state)?void 0:e.from)?void 0:t.pathname)||"/";return W.jsx(wj,{children:W.jsx("div",{className:"container-custom py-12 flex items-center justify-center min-h-[70vh]",children:W.jsx("div",{className:"w-full max-w-md",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"text-center mb-6",children:[W.jsx("h1",{className:"text-2xl font-bold",children:"Přihlášení"}),W.jsx("p",{className:"text-muted-foreground mt-2",children:"Přihlaste se pro přístup ke svému účtu"})]}),W.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await l(n,s),Tt.success("Přihlášení úspěšné"),c(u,{replace:!0})}catch(t){let e="Přihlášení se nezdařilo";"auth/invalid-email"===t.code?e="Neplatný formát e-mailu":"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?e="Nesprávný e-mail nebo heslo":"auth/too-many-requests"===t.code&&(e="Příliš mnoho pokusů o přihlášení. Zkuste to prosím později"),Tt.error(e)}finally{o(!1)}},className:"space-y-4",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"email",children:"E-mail"}),W.jsx($k,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),placeholder:"Zadejte svůj e-mail",required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx(tN,{htmlFor:"password",children:"Heslo"}),W.jsx(st,{to:"/reset-password",className:"text-sm text-primary hover:underline",children:"Zapomenuté heslo?"})]}),W.jsx($k,{id:"password",type:"password",value:s,onChange:e=>i(e.target.value),placeholder:"Zadejte své heslo",required:!0})]}),W.jsx(Tw,{type:"submit",className:"w-full",disabled:a,children:a?"Přihlašuji...":"Přihlásit se"})]}),W.jsx("div",{className:"mt-6 text-center",children:W.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nemáte ještě účet?"," ",W.jsx(st,{to:"/register",className:"text-primary hover:underline",children:"Zaregistrujte se"})]})})]})})})})})}function xI(){const[e,t]=rt.useState(""),[n,r]=rt.useState(""),[s,i]=rt.useState(""),[a,o]=rt.useState(""),[l,c]=rt.useState(!1),[u,d]=rt.useState(!1),{register:h}=gx(),m=ct();return W.jsx(wj,{children:W.jsx("div",{className:"container-custom py-12 flex items-center justify-center min-h-[70vh]",children:W.jsx("div",{className:"w-full max-w-md",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"text-center mb-6",children:[W.jsx("h1",{className:"text-2xl font-bold",children:"Registrace"}),W.jsx("p",{className:"text-muted-foreground mt-2",children:"Vytvořte si účet pro přístup k rozšířeným funkcím"})]}),W.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),s===a)if(l){d(!0);try{await h(n,s,e),Tt.success("Registrace proběhla úspěšně"),m("/")}catch(r){let e="Registrace se nezdařila";"auth/email-already-in-use"===r.code?e="Tento e-mail je již používán":"auth/invalid-email"===r.code?e="Neplatný formát e-mailu":"auth/weak-password"===r.code&&(e="Příliš slabé heslo"),Tt.error(e)}finally{d(!1)}}else Tt.error("Je nutné souhlasit s obchodními podmínkami");else Tt.error("Hesla se neshodují")},className:"space-y-4",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"displayName",children:"Jméno"}),W.jsx($k,{id:"displayName",value:e,onChange:e=>t(e.target.value),placeholder:"Zadejte své jméno",required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"email",children:"E-mail"}),W.jsx($k,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),placeholder:"Zadejte svůj e-mail",required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"password",children:"Heslo"}),W.jsx($k,{id:"password",type:"password",value:s,onChange:e=>i(e.target.value),placeholder:"Zadejte heslo",required:!0,minLength:6}),W.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimálně 6 znaků"})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"confirmPassword",children:"Potvrďte heslo"}),W.jsx($k,{id:"confirmPassword",type:"password",value:a,onChange:e=>o(e.target.value),placeholder:"Zopakujte heslo",required:!0,minLength:6})]}),W.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[W.jsx(Yj,{id:"terms",checked:l,onCheckedChange:e=>c(e)}),W.jsxs(tN,{htmlFor:"terms",className:"text-sm font-normal",children:["Souhlasím s"," ",W.jsx(st,{to:"/terms",className:"text-primary hover:underline",children:"obchodními podmínkami"})," ","a"," ",W.jsx(st,{to:"/privacy",className:"text-primary hover:underline",children:"zásadami ochrany osobních údajů"})]})]}),W.jsx(Tw,{type:"submit",className:"w-full",disabled:u||!l,children:u?"Registruji...":"Zaregistrovat se"})]}),W.jsx("div",{className:"mt-6 text-center",children:W.jsxs("p",{className:"text-sm text-muted-foreground",children:["Už máte účet?"," ",W.jsx(st,{to:"/login",className:"text-primary hover:underline",children:"Přihlásit se"})]})})]})})})})})}function bI(){var e,t,n,r;const[s,i]=rt.useState("profile"),[a,o]=rt.useState(!0),[l,c]=rt.useState([]),[u,d]=rt.useState([]),{user:h,updateProfile:m,logout:p}=gx(),[f,g]=rt.useState({displayName:(null==h?void 0:h.displayName)||"",email:(null==h?void 0:h.email)||"",phoneNumber:(null==h?void 0:h.phoneNumber)||"",address:{street:(null==(e=null==h?void 0:h.address)?void 0:e.street)||"",city:(null==(t=null==h?void 0:h.address)?void 0:t.city)||"",postalCode:(null==(n=null==h?void 0:h.address)?void 0:n.postalCode)||"",country:(null==(r=null==h?void 0:h.address)?void 0:r.country)||""}});rt.useEffect((()=>{if(h){(async()=>{try{const e=await(async()=>[])(h.id);c(e);const t=await(async()=>[])(h.id);d(t)}catch(e){Tt.error("Nepodařilo se načíst data. Zkuste to prosím později.")}finally{o(!1)}})()}}),[h]);const v=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");"address"===e&&g((e=>({...e,address:{...e.address,[r]:n}})))}else g((e=>({...e,[t]:n})))};return W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-12",children:[W.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Můj účet"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[W.jsx("div",{className:"md:col-span-1",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"flex flex-col items-center mb-6",children:[W.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),W.jsx("h2",{className:"font-semibold text-lg",children:(null==h?void 0:h.displayName)||"Uživatel"}),W.jsx("p",{className:"text-sm text-muted-foreground",children:null==h?void 0:h.email})]}),W.jsx(xj,{className:"mb-6"}),W.jsxs("nav",{className:"space-y-1",children:[W.jsxs(Tw,{variant:"profile"===s?"default":"ghost",className:"w-full justify-start",onClick:()=>i("profile"),children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Osobní údaje"]}),W.jsxs(Tw,{variant:"orders"===s?"default":"ghost",className:"w-full justify-start",onClick:()=>i("orders"),children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Moje objednávky"]}),W.jsxs(Tw,{variant:"bouquets"===s?"default":"ghost",className:"w-full justify-start",onClick:()=>i("bouquets"),children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Moje kytice"]}),W.jsxs(Tw,{variant:"settings"===s?"default":"ghost",className:"w-full justify-start",onClick:()=>i("settings"),children:[W.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Nastavení"]}),W.jsx(xj,{className:"my-2"}),W.jsxs(Tw,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:async()=>{try{await p(),Tt.success("Úspěšně jste se odhlásili")}catch(e){Tt.error("Chyba při odhlášení")}},children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Odhlásit se"]})]})]})})}),W.jsxs("div",{className:"md:col-span-3",children:["profile"===s&&W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Osobní údaje"}),W.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await m({displayName:f.displayName,phoneNumber:f.phoneNumber,address:f.address}),Tt.success("Profil byl úspěšně aktualizován")}catch(t){Tt.error("Nepodařilo se aktualizovat profil. Zkuste to prosím později.")}finally{o(!1)}},children:[W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"displayName",children:"Jméno"}),W.jsx($k,{id:"displayName",name:"displayName",value:f.displayName,onChange:v})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"email",children:"E-mail"}),W.jsx($k,{id:"email",name:"email",value:f.email,onChange:v,disabled:!0}),W.jsx("p",{className:"text-xs text-muted-foreground",children:"E-mail nelze změnit"})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"phoneNumber",children:"Telefon"}),W.jsx($k,{id:"phoneNumber",name:"phoneNumber",value:f.phoneNumber,onChange:v})]})]}),W.jsx("h3",{className:"text-lg font-medium mb-4",children:"Doručovací adresa"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"address.street",children:"Ulice a číslo"}),W.jsx($k,{id:"address.street",name:"address.street",value:f.address.street,onChange:v})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"address.city",children:"Město"}),W.jsx($k,{id:"address.city",name:"address.city",value:f.address.city,onChange:v})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"address.postalCode",children:"PSČ"}),W.jsx($k,{id:"address.postalCode",name:"address.postalCode",value:f.address.postalCode,onChange:v})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"address.country",children:"Země"}),W.jsx($k,{id:"address.country",name:"address.country",value:f.address.country,onChange:v})]})]}),W.jsx(Tw,{type:"submit",disabled:a,children:a?"Ukládání...":"Uložit změny"})]})]})}),"orders"===s&&W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Moje objednávky"}),l.length>0?W.jsx("div",{className:"space-y-6",children:l.map((e=>W.jsx(kj,{className:"overflow-hidden",children:W.jsxs(Sj,{className:"p-4",children:[W.jsxs("div",{className:"flex justify-between items-start mb-4",children:[W.jsxs("div",{children:[W.jsxs("p",{className:"font-medium",children:["Objednávka #",e.id.slice(0,6)]}),W.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("cs-CZ")})]}),W.jsx("div",{children:W.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("delivered"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"delivered"===e.status?"Doručeno":"shipped"===e.status?"Odesláno":"processing"===e.status?"Zpracovává se":"pending"===e.status?"Čeká na platbu":"Zrušeno"})})]}),W.jsx("div",{className:"space-y-2 mb-4",children:e.items.map(((e,t)=>W.jsxs("div",{className:"flex justify-between",children:[W.jsxs("span",{children:[e.name," × ",e.quantity]}),W.jsxs("span",{children:[e.price*e.quantity," Kč"]})]},t)))}),W.jsx(xj,{className:"my-4"}),W.jsxs("div",{className:"flex justify-between font-semibold",children:[W.jsx("span",{children:"Celkem:"}),W.jsxs("span",{children:[e.totalAmount," Kč"]})]})]})},e.id)))}):W.jsxs("div",{className:"text-center py-12",children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-muted-foreground mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),W.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zatím nemáte žádné objednávky"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Až zadáte první objednávku, zobrazí se zde."}),W.jsx(Tw,{asChild:!0,children:W.jsx("a",{href:"/catalog",children:"Přejít do katalogu"})})]})]})}),"bouquets"===s&&W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Moje kytice"}),u.length>0?W.jsx("div",{className:"space-y-6",children:u.map((e=>W.jsx(kj,{className:"overflow-hidden",children:W.jsxs(Sj,{className:"p-4",children:[W.jsxs("div",{className:"flex justify-between items-start mb-4",children:[W.jsxs("div",{children:[W.jsxs("p",{className:"font-medium",children:["Kytice #",e.id.slice(0,6)]}),W.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("cs-CZ")})]}),W.jsx("div",{children:W.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("completed"===e.status?"bg-green-100 text-green-800":"ordered"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Dokončeno":"ordered"===e.status?"Objednáno":"Koncept"})})]}),W.jsxs("div",{className:"space-y-2 mb-4",children:[W.jsx("p",{className:"font-medium",children:"Květiny:"}),e.flowers.map(((e,t)=>W.jsx("div",{className:"flex justify-between",children:W.jsxs("span",{children:["Květina ID ",e.flowerId," × ",e.quantity]})},t))),e.message&&W.jsxs("div",{className:"mt-4",children:[W.jsx("p",{className:"font-medium",children:"Zpráva:"}),W.jsxs("p",{className:"italic",children:['"',e.message,'"']})]})]}),W.jsx(xj,{className:"my-4"}),W.jsxs("div",{className:"flex justify-between font-semibold",children:[W.jsx("span",{children:"Cena:"}),W.jsxs("span",{children:[e.price," Kč"]})]}),"draft"===e.status&&W.jsx("div",{className:"mt-4",children:W.jsx(Tw,{className:"w-full",children:"Dokončit objednávku"})})]})},e.id)))}):W.jsxs("div",{className:"text-center py-12",children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-muted-foreground mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),W.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zatím nemáte žádné vlastní kytice"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"Vytvořte si svou první unikátní kytici."}),W.jsx(Tw,{asChild:!0,children:W.jsx("a",{href:"/custom-bouquet",children:"Vytvořit kytici"})})]})]})}),"settings"===s&&W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Nastavení"}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-medium mb-2",children:"Změna hesla"}),W.jsx("p",{className:"text-muted-foreground mb-4",children:"Pro změnu hesla vám zašleme e-mail na vaši e-mailovou adresu."}),W.jsx(Tw,{children:"Resetovat heslo"})]}),W.jsx(xj,{}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-medium mb-2",children:"Smazání účtu"}),W.jsx("p",{className:"text-muted-foreground mb-4",children:"Upozornění! Tato akce nenávratně smaže váš účet a všechna související data."}),W.jsx(Tw,{variant:"destructive",children:"Smazat účet"})]})]})]})})]})]})]})})}const wI=[{id:"prague-1",name:"Praha 1",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-2",name:"Praha 2",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-3",name:"Praha 3",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-4",name:"Praha 4",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-5",name:"Praha 5",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-6",name:"Praha 6",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-7",name:"Praha 7",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-8",name:"Praha 8",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-9",name:"Praha 9",time:"3-4 hodiny",price:199,freeOver:1500},{id:"prague-10",name:"Praha 10",time:"3-4 hodiny",price:199,freeOver:1500}],kI=[{id:"zone-1",name:"Do 10 km od Prahy",time:"3-5 hodin",price:249,freeOver:2e3},{id:"zone-2",name:"10-20 km od Prahy",time:"3-5 hodin",price:349,freeOver:2500},{id:"zone-3",name:"20-30 km od Prahy",time:"4-6 hodin",price:449,freeOver:3e3}],jI=[{id:"standard",name:"Standardní doručení",description:"Doručení ve stejný den, pokud je objednávka zadána do 14:00",price:149,icon:jb},{id:"express",name:"Expresní doručení",description:"Doručení do 2-3 hodin od objednávky",price:249,icon:Mx},{id:"scheduled",name:"Plánované doručení",description:"Vyberte konkrétní datum a časové rozmezí",price:199,icon:Ix},{id:"pickup",name:"Osobní odběr",description:"Vyzvednutí objednávky v naší prodejně",price:0,icon:ob}];function NI(){const[e,t]=rt.useState(null);return W.jsxs(wj,{children:[W.jsx("section",{className:"bg-muted py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Doručení a platba"}),W.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Nabízíme rychlé a spolehlivé doručení po Praze a okolí. Vyberte si způsob doručení a platby, který vám vyhovuje."})]})}),W.jsx("section",{className:"py-12",children:W.jsxs("div",{className:"container-custom",children:[W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6 flex flex-col items-center text-center",children:[W.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:W.jsx(jb,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Rychlé doručení"}),W.jsx("p",{className:"text-muted-foreground",children:"Doručujeme v den objednávky po celé Praze. Do okolí doručujeme do 3-5 hodin."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6 flex flex-col items-center text-center",children:[W.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:W.jsx(Ax,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Doprava zdarma"}),W.jsx("p",{className:"text-muted-foreground",children:"Při objednávce nad 1500 Kč je doprava po Praze zdarma. Pro okolí od 2000 Kč."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6 flex flex-col items-center text-center",children:[W.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:W.jsx(Lx,{className:"h-6 w-6 text-primary"})}),W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Různé způsoby platby"}),W.jsx("p",{className:"text-muted-foreground",children:"Přijímáme platby kartou, hotově při doručení a bankovním převodem."})]})})]}),W.jsxs("div",{className:"mb-12",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Možnosti doručení"}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:jI.map((e=>W.jsx(kj,{className:"transition-all hover:border-primary hover:shadow-md",children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center mb-4",children:W.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),W.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),W.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:e.description}),W.jsx("div",{className:"flex justify-between items-center",children:W.jsx("span",{className:"font-semibold",children:e.price>0?`${e.price} Kč`:"Zdarma"})})]})},e.id)))})]}),W.jsxs("div",{className:"mb-12",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Zóny doručení"}),W.jsxs(Bk,{defaultValue:"prague",className:"w-full",children:[W.jsxs(qk,{className:"mb-4",children:[W.jsx(Kk,{value:"prague",children:"Praha"}),W.jsx(Kk,{value:"surroundings",children:"Okolí"})]}),W.jsx(Hk,{value:"prague",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("div",{className:"mb-4",children:W.jsx("p",{className:"text-muted-foreground",children:"Doručujeme do všech částí Prahy. Cena doručení závisí na městské části. Při objednávce nad 1500 Kč je doručení zdarma."})}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:wI.map((n=>W.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors "+(e===n.id?"border-primary bg-primary/5":"border-muted hover:border-primary/50"),onClick:()=>t(n.id),children:[W.jsxs("div",{className:"flex justify-between mb-2",children:[W.jsx("span",{className:"font-medium",children:n.name}),W.jsxs("span",{className:"font-medium",children:[n.price," Kč"]})]}),W.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[W.jsxs("span",{children:["Doba doručení: ",n.time]}),n.freeOver&&W.jsxs("span",{children:["Zdarma od ",n.freeOver," Kč"]})]})]},n.id)))})]})})}),W.jsx(Hk,{value:"surroundings",children:W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("div",{className:"mb-4",children:W.jsx("p",{className:"text-muted-foreground",children:"Doručujeme také do okolí Prahy. Cena a čas doručení závisí na vzdálenosti."})}),W.jsx("div",{className:"grid grid-cols-1 gap-4",children:kI.map((n=>W.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors "+(e===n.id?"border-primary bg-primary/5":"border-muted hover:border-primary/50"),onClick:()=>t(n.id),children:[W.jsxs("div",{className:"flex justify-between mb-2",children:[W.jsx("span",{className:"font-medium",children:n.name}),W.jsxs("span",{className:"font-medium",children:[n.price," Kč"]})]}),W.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[W.jsxs("span",{children:["Doba doručení: ",n.time]}),n.freeOver&&W.jsxs("span",{children:["Zdarma od ",n.freeOver," Kč"]})]})]},n.id)))})]})})})]})]}),W.jsxs("div",{className:"mb-12",children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Způsoby platby"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[W.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:W.jsx(Lx,{className:"h-5 w-5 text-primary"})}),W.jsx("h3",{className:"font-semibold",children:"Platební karta"})]}),W.jsx("p",{className:"text-muted-foreground",children:"Zaplaťte objednávku online platební kartou Visa, Mastercard, American Express."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[W.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:W.jsx(nb,{className:"h-5 w-5 text-primary"})}),W.jsx("h3",{className:"font-semibold",children:"Hotově při doručení"})]}),W.jsx("p",{className:"text-muted-foreground",children:"Zaplaťte objednávku hotově kurýrovi při převzetí."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[W.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:W.jsx(ob,{className:"h-5 w-5 text-primary"})}),W.jsx("h3",{className:"font-semibold",children:"Bankovní převod"})]}),W.jsx("p",{className:"text-muted-foreground",children:"Zaplaťte objednávku bankovním převodem. Objednávka bude zpracována po přijetí platby."})]})})]})]}),W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Často kladené otázky"}),W.jsxs("div",{className:"space-y-4",children:[W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak rychle doručujete?"}),W.jsx("p",{className:"text-muted-foreground",children:"Pro Prahu standardní doručení probíhá ve stejný den, pokud je objednávka zadána do 14:00. Expresní doručení je k dispozici do 2-3 hodin od potvrzení objednávky. Pro okolí doručujeme do 3-6 hodin v závislosti na vzdálenosti."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Mohu si vybrat konkrétní čas doručení?"}),W.jsx("p",{className:"text-muted-foreground",children:"Ano, můžete si vybrat plánované doručení a určit požadované datum a časový interval. Tato služba stojí 199 Kč."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Co dělat, když příjemce není doma?"}),W.jsx("p",{className:"text-muted-foreground",children:"V případě nepřítomnosti příjemce se s ním kurýr spojí telefonicky. Pokud se nepodaří spojit, kurýr zanechá oznámení a květiny budou vráceny do obchodu. Kontaktujeme vás pro zorganizování opakovaného doručení."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Je možné doručit květiny anonymně?"}),W.jsx("p",{className:"text-muted-foreground",children:"Ano, můžete uvést, že si přejete zachovat anonymitu. V tomto případě příjemce nebude vědět, kdo květiny poslal, pokud to neuvedete v kartičce se zprávou."})]})}),W.jsx(kj,{children:W.jsxs(Sj,{className:"p-6",children:[W.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Doručujete i do jiných měst v České republice?"}),W.jsx("p",{className:"text-muted-foreground",children:"V současné době zajišťujeme doručení pouze po Praze a nejbližším okolí v okruhu 30 km. Pro doručení do jiných měst nás prosím kontaktujte pro individuální kalkulaci."})]})})]})]})]})}),W.jsx("section",{className:"py-12 bg-muted",children:W.jsxs("div",{className:"container-custom text-center",children:[W.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Jste připraveni objednat?"}),W.jsx("p",{className:"text-muted-foreground mb-6 max-w-lg mx-auto",children:"Vyberte si ideální kytici z našeho katalogu nebo si vytvořte svou vlastní. Doručíme ji s láskou a péčí."}),W.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[W.jsx(Tw,{size:"lg",asChild:!0,children:W.jsx("a",{href:"/catalog",children:"Přejít do katalogu"})}),W.jsx(Tw,{variant:"outline",size:"lg",asChild:!0,children:W.jsx("a",{href:"/custom-bouquet",children:"Vytvořit vlastní kytici"})})]})]})})]})}function _I({children:e,adminOnly:t=!1}){const{user:n,isAuthenticated:r,loading:s}=gx(),i=ut();return s?W.jsx(wj,{children:W.jsx("div",{className:"container-custom py-16 flex items-center justify-center",children:W.jsxs("div",{className:"text-center",children:[W.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-r-transparent mb-4"}),W.jsx("p",{className:"text-lg",children:"Проверка авторизации..."})]})})}):r?t&&!(null==n?void 0:n.isAdmin)?W.jsx(wj,{children:W.jsxs("div",{className:"container-custom py-16 text-center",children:[W.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Доступ запрещен"}),W.jsx("p",{className:"text-muted-foreground mb-6",children:"У вас нет прав для доступа к этой странице."}),W.jsxs(Tw,{asChild:!0,children:[W.jsx(dt,{to:"/",replace:!0}),"Вернуться на главную"]})]})}):W.jsx(W.Fragment,{children:e}):W.jsx(dt,{to:"/login",state:{from:i},replace:!0})}function SI({children:e}){const[t,n]=rt.useState(!1),{user:r,logout:s}=gx(),i=ut(),a=ct(),o=e=>i.pathname===e||i.pathname.startsWith(`${e}/`),l="bg-primary/10 text-primary",c=async()=>{try{await s(),Tt.success("Вы успешно вышли из системы"),a("/login")}catch(e){Tt.error("Ошибка при выходе из системы")}},u=[{path:"/admin",label:"Панель управления",icon:Jx},{path:"/admin/products",label:"Товары",icon:lb},{path:"/admin/categories",label:"Категории",icon:xb},{path:"/admin/flowers",label:"Цветы",icon:Hx},{path:"/admin/orders",label:"Заказы",icon:fb},{path:"/admin/users",label:"Пользователи",icon:Sb},{path:"/admin/blog",label:"Блог",icon:qx},{path:"/admin/settings",label:"Настройки",icon:mb}];return W.jsxs("div",{className:"flex min-h-screen bg-muted/30",children:[W.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0 z-[80] bg-background border-r",children:W.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto",children:[W.jsx("div",{className:"flex items-center justify-center h-16 flex-shrink-0 px-4 mb-2",children:W.jsx(mj,{})}),W.jsx("div",{className:"px-3 mb-6",children:W.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Администратор"})}),W.jsx("nav",{className:"flex-1 px-3 space-y-1",children:u.map((e=>W.jsxs(st,{to:e.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${o(e.path)?l:"text-muted-foreground hover:bg-muted"}`,children:[W.jsx(e.icon,{className:"mr-3 h-5 w-5 "+(o(e.path)?"text-primary":"text-muted-foreground")}),e.label]},e.path)))}),W.jsxs("div",{className:"px-3 mt-6",children:[W.jsx(xj,{className:"mb-3"}),W.jsxs(oj,{children:[W.jsx(lj,{asChild:!0,children:W.jsx(Tw,{variant:"ghost",className:"w-full justify-start",children:W.jsxs("div",{className:"flex items-center",children:[W.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-2",children:W.jsx(Sb,{className:"h-4 w-4 text-primary"})}),W.jsxs("div",{className:"flex-1 text-left",children:[W.jsx("p",{className:"text-sm font-medium",children:(null==r?void 0:r.displayName)||"Администратор"}),W.jsx("p",{className:"text-xs text-muted-foreground",children:null==r?void 0:r.email})]}),W.jsx(Rx,{className:"h-4 w-4 text-muted-foreground"})]})})}),W.jsxs(cj,{align:"end",className:"w-56",children:[W.jsx(dj,{children:"Мой аккаунт"}),W.jsx(hj,{}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/admin/profile",children:"Профиль"})}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/admin/settings",children:"Настройки"})}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/",target:"_blank",children:"Открыть сайт"})}),W.jsx(hj,{}),W.jsxs(uj,{onClick:c,className:"text-destructive focus:text-destructive",children:[W.jsx(eb,{className:"mr-2 h-4 w-4"}),W.jsx("span",{children:"Выйти"})]})]})]})]})]})}),W.jsxs("div",{className:"sticky top-0 z-30 flex h-16 w-full items-center gap-x-4 border-b bg-background px-4 md:hidden",children:[W.jsx(Tw,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(!0),children:W.jsx(rb,{className:"h-6 w-6"})}),W.jsx("div",{className:"flex-1",children:W.jsx(mj,{})}),W.jsxs(oj,{children:[W.jsx(lj,{asChild:!0,children:W.jsx(Tw,{variant:"ghost",size:"icon",children:W.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:W.jsx(Sb,{className:"h-4 w-4 text-primary"})})})}),W.jsxs(cj,{align:"end",children:[W.jsx(dj,{children:W.jsxs("div",{children:[W.jsx("p",{className:"text-sm font-medium",children:(null==r?void 0:r.displayName)||"Администратор"}),W.jsx("p",{className:"text-xs text-muted-foreground",children:null==r?void 0:r.email})]})}),W.jsx(hj,{}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/admin/profile",children:"Профиль"})}),W.jsx(uj,{asChild:!0,children:W.jsx(st,{to:"/",target:"_blank",children:"Открыть сайт"})}),W.jsx(hj,{}),W.jsxs(uj,{onClick:c,className:"text-destructive focus:text-destructive",children:[W.jsx(eb,{className:"mr-2 h-4 w-4"}),W.jsx("span",{children:"Выйти"})]})]})]})]}),W.jsx(Gk,{open:t,onOpenChange:n,children:W.jsx(Zk,{side:"left",className:"w-64 p-0",children:W.jsxs("div",{className:"flex flex-col h-full",children:[W.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[W.jsx(mj,{}),W.jsx(Tw,{variant:"ghost",size:"icon",onClick:()=>n(!1),children:W.jsx(Tb,{className:"h-5 w-5"})})]}),W.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:W.jsx("nav",{className:"px-3 space-y-1",children:u.map((e=>W.jsxs(st,{to:e.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${o(e.path)?l:"text-muted-foreground hover:bg-muted"}`,onClick:()=>n(!1),children:[W.jsx(e.icon,{className:"mr-3 h-5 w-5 "+(o(e.path)?"text-primary":"text-muted-foreground")}),e.label]},e.path)))})}),W.jsx("div",{className:"p-4 border-t",children:W.jsxs(Tw,{variant:"outline",className:"w-full",onClick:c,children:[W.jsx(eb,{className:"mr-2 h-4 w-4"}),"Выйти"]})})]})})}),W.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:e})]})}const EI=({title:e,value:t,description:n,icon:r,trend:s,percentage:i})=>W.jsxs(kj,{children:[W.jsxs(jj,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[W.jsx(Nj,{className:"text-sm font-medium",children:e}),W.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center",children:W.jsx(r,{className:"h-5 w-5 text-primary"})})]}),W.jsxs(Sj,{children:[W.jsx("div",{className:"text-2xl font-bold",children:t}),W.jsxs("p",{className:"text-xs mt-1 text-muted-foreground flex items-center",children:[s&&W.jsxs(W.Fragment,{children:["up"===s?W.jsx(Tx,{className:"h-3 w-3 text-green-500 mr-1"}):"down"===s?W.jsx(_x,{className:"h-3 w-3 text-red-500 mr-1"}):null,W.jsxs("span",{className:"up"===s?"text-green-500":"down"===s?"text-red-500":"",children:[i,"%"]}),W.jsx("span",{className:"text-muted-foreground ml-1",children:n})]}),!s&&n]})]})]}),TI=[{id:"ORD-123456",customer:"Анна Новакова",date:"2023-05-15",status:"delivered",total:1290},{id:"ORD-123455",customer:"Петр Свобода",date:"2023-05-14",status:"processing",total:890},{id:"ORD-123454",customer:"Мария Дворакова",date:"2023-05-14",status:"pending",total:1490},{id:"ORD-123453",customer:"Ян Черны",date:"2023-05-13",status:"cancelled",total:690},{id:"ORD-123452",customer:"Ева Крайкова",date:"2023-05-13",status:"shipped",total:1190}],CI=e=>{const t=new Date(e);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric"}).format(t)};function II(){const[e,t]=rt.useState(!0),[n,r]=rt.useState({totalProducts:0,totalCategories:0,totalUsers:0,totalOrders:0,revenueToday:0,revenueWeek:0,revenueMonth:0,popularProducts:[],blogPosts:0});rt.useEffect((()=>{(async()=>{t(!0);try{const e=await cx(),t=await mx(),n=await(async()=>{try{const e=ng(bf(tx,"blogPosts"),sg("published","==",!0),og("publishedAt","desc"));return(await kg(e)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),publishedAt:null==(t=e.data().publishedAt)?void 0:t.toDate(),createdAt:null==(n=e.data().createdAt)?void 0:n.toDate()}}))}catch(e){throw e}})(),s={totalUsers:32,totalOrders:187,revenueToday:4570,revenueWeek:24980,revenueMonth:98450,popularProducts:e.slice(0,3)};r({totalProducts:e.length,totalCategories:t.length,blogPosts:n.length,...s})}catch(e){Tt.error("Не удалось загрузить данные для панели управления")}finally{t(!1)}})()}),[]);const s={delivered:{color:"bg-green-100 text-green-800",icon:Px},processing:{color:"bg-blue-100 text-blue-800",icon:Mx},pending:{color:"bg-yellow-100 text-yellow-800",icon:Mx},shipped:{color:"bg-purple-100 text-purple-800",icon:fb},cancelled:{color:"bg-red-100 text-red-800",icon:Cx}};return e?W.jsx(SI,{children:W.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:W.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):W.jsx(SI,{children:W.jsxs("div",{className:"space-y-8",children:[W.jsxs("div",{children:[W.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Панель управления"}),W.jsx("p",{className:"text-muted-foreground",children:"Добро пожаловать в административную панель Kvitko Sweet"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[W.jsx(EI,{title:"Доход сегодня",value:`${n.revenueToday} Kč`,description:"по сравнению со вчера",icon:Ux,trend:"up",percentage:12}),W.jsx(EI,{title:"Заказы",value:n.totalOrders,description:"за последний месяц",icon:fb,trend:"up",percentage:8}),W.jsx(EI,{title:"Товары",value:n.totalProducts,description:"активных товаров",icon:lb}),W.jsx(EI,{title:"Пользователи",value:n.totalUsers,description:"зарегистрированных пользователей",icon:Sb,trend:"up",percentage:5})]}),W.jsxs(kj,{children:[W.jsxs(jj,{className:"flex flex-row items-center justify-between",children:[W.jsx(Nj,{children:"Аналитика доходов"}),W.jsx(Bk,{defaultValue:"week",children:W.jsxs(qk,{children:[W.jsx(Kk,{value:"day",children:"День"}),W.jsx(Kk,{value:"week",children:"Неделя"}),W.jsx(Kk,{value:"month",children:"Месяц"})]})})]}),W.jsx(Sj,{children:W.jsx("div",{className:"h-[300px] flex items-center justify-center",children:W.jsxs("div",{className:"text-center",children:[W.jsx(kb,{className:"h-16 w-16 text-muted-foreground/50 mx-auto mb-4"}),W.jsx("p",{className:"text-muted-foreground",children:"Здесь будет отображаться график доходов."})]})})})]}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[W.jsxs(kj,{children:[W.jsx(jj,{children:W.jsx(Nj,{children:"Последние заказы"})}),W.jsxs(Sj,{children:[W.jsx("div",{className:"space-y-4",children:TI.map((e=>{var t,n;const r=(null==(t=s[e.status])?void 0:t.icon)||Mx;return W.jsxs("div",{className:"flex items-center justify-between",children:[W.jsxs("div",{className:"flex items-center space-x-4",children:[W.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${(null==(n=s[e.status])?void 0:n.color)||"bg-gray-100"}`,children:W.jsx(r,{className:"h-4 w-4"})}),W.jsxs("div",{children:[W.jsx("p",{className:"text-sm font-medium",children:e.customer}),W.jsx("p",{className:"text-xs text-muted-foreground",children:CI(e.date)})]})]}),W.jsxs("div",{className:"flex items-center space-x-4",children:[W.jsxs("div",{className:"text-right",children:[W.jsxs("p",{className:"text-sm font-medium",children:[e.total," Kč"]}),W.jsx("p",{className:"text-xs text-muted-foreground",children:e.id})]}),W.jsx(Tw,{variant:"ghost",size:"icon",asChild:!0,children:W.jsx(st,{to:`/admin/orders/${e.id}`,children:W.jsx(Tx,{className:"h-4 w-4"})})})]})]},e.id)}))}),W.jsx("div",{className:"mt-6",children:W.jsx(Tw,{variant:"outline",className:"w-full",asChild:!0,children:W.jsx(st,{to:"/admin/orders",children:"Все заказы"})})})]})]}),W.jsxs(kj,{children:[W.jsx(jj,{children:W.jsx(Nj,{children:"Популярные товары"})}),W.jsxs(Sj,{children:[W.jsx("div",{className:"space-y-4",children:n.popularProducts&&n.popularProducts.length>0?n.popularProducts.map((e=>W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden shrink-0",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),W.jsxs("div",{className:"flex-1",children:[W.jsxs("div",{className:"flex justify-between items-start",children:[W.jsx("p",{className:"font-medium",children:e.name}),W.jsxs("p",{className:"font-semibold",children:[e.price," Kč"]})]}),W.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"bouquets"===e.category?"Букеты":"plants"===e.category?"Растения":"wedding"===e.category?"Свадебные цветы":"gifts"===e.category?"Подарки":e.category})]})]},e.id))):W.jsx("div",{className:"text-center py-8",children:W.jsx("p",{className:"text-muted-foreground",children:"Нет данных о популярных товарах"})})}),W.jsx("div",{className:"mt-6",children:W.jsx(Tw,{variant:"outline",className:"w-full",asChild:!0,children:W.jsx(st,{to:"/admin/products",children:"Все товары"})})})]})]})]}),W.jsxs(kj,{children:[W.jsx(jj,{children:W.jsx(Nj,{children:"Быстрые действия"})}),W.jsx(Sj,{children:W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[W.jsx(Tw,{asChild:!0,className:"h-auto py-4 flex flex-col",children:W.jsxs(st,{to:"/admin/products/new",children:[W.jsx(lb,{className:"h-8 w-8 mb-2"}),W.jsx("span",{children:"Добавить товар"})]})}),W.jsx(Tw,{asChild:!0,variant:"secondary",className:"h-auto py-4 flex flex-col",children:W.jsxs(st,{to:"/admin/blog/new",children:[W.jsx(qx,{className:"h-8 w-8 mb-2"}),W.jsx("span",{children:"Создать статью"})]})}),W.jsx(Tw,{asChild:!0,variant:"outline",className:"h-auto py-4 flex flex-col",children:W.jsxs(st,{to:"/admin/orders",children:[W.jsx(fb,{className:"h-8 w-8 mb-2"}),W.jsx("span",{children:"Управление заказами"})]})})]})})]})]})})}function AI(){const{user:e,loading:t,isAuthenticated:n}=gx(),r=ct();return rt.useEffect((()=>{(async()=>{t||(n?(null==e?void 0:e.isAdmin)||r("/"):r("/login",{state:{from:"/admin"}}))})()}),[t,n,e,r]),t?W.jsx("div",{className:"flex justify-center items-center min-h-screen",children:W.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):W.jsx(II,{})}var PI=[" ","Enter","ArrowUp","ArrowDown"],RI=[" ","Enter"],DI="Select",[OI,zI,MI]=Le(DI),[LI,UI]=Y(DI,[MI,Ue]),FI=Ue(),[VI,BI]=LI(DI),[qI,KI]=LI(DI),HI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m,form:p}=e,f=FI(t),[g,v]=rt.useState(null),[y,x]=rt.useState(null),[b,w]=rt.useState(!1),k=se(c),[j,N]=ie({prop:r,defaultProp:s??!1,onChange:i,caller:DI}),[_,S]=ie({prop:a,defaultProp:o,onChange:l,caller:DI}),E=rt.useRef(null),T=!g||(p||!!g.closest("form")),[C,I]=rt.useState(new Set),A=Array.from(C).map((e=>e.props.value)).join(";");return W.jsx(Ye,{...f,children:W.jsxs(VI,{required:m,scope:t,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:ae(),value:_,onValueChange:S,open:j,onOpenChange:N,dir:k,triggerPointerDownPosRef:E,disabled:h,children:[W.jsx(OI.Provider,{scope:t,children:W.jsx(qI,{scope:e.__scopeSelect,onNativeOptionAdd:rt.useCallback((e=>{I((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:rt.useCallback((e=>{I((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),T?W.jsxs(AA,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:_,onChange:e=>S(e.target.value),disabled:h,form:p,children:[void 0===_?W.jsx("option",{value:""}):null,Array.from(C)]},A):null]})})};HI.displayName=DI;var $I="SelectTrigger",GI=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=FI(n),a=BI($I,n),o=a.disabled||r,l=Oe(t,a.onTriggerChange),c=zI(n),u=rt.useRef("touch"),[d,h,m]=RA((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===a.value)),r=DA(t,e,n);void 0!==r&&a.onValueChange(r.value)})),p=e=>{o||(a.onOpenChange(!0),m()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return W.jsx(Fe,{asChild:!0,...i,children:W.jsx(ee.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":PA(a.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,(e=>{e.currentTarget.focus(),"mouse"!==u.current&&p(e)})),onPointerDown:ne(s.onPointerDown,(e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())})),onKeyDown:ne(s.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||PI.includes(e.key)&&(p(),e.preventDefault())}))})})}));GI.displayName=$I;var WI="SelectValue",QI=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=e,l=BI(WI,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==i,d=Oe(t,l.onValueNodeChange);return Ve((()=>{c(u)}),[c,u]),W.jsx(ee.span,{...o,ref:d,style:{pointerEvents:"none"},children:PA(l.value)?W.jsx(W.Fragment,{children:a}):i})}));QI.displayName=WI;var JI=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return W.jsx(ee.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})}));JI.displayName="SelectIcon";var YI=e=>W.jsx(Be,{asChild:!0,...e});YI.displayName="SelectPortal";var ZI="SelectContent",XI=rt.forwardRef(((e,t)=>{const n=BI(ZI,e.__scopeSelect),[r,s]=rt.useState();if(Ve((()=>{s(new DocumentFragment)}),[]),!n.open){const t=r;return t?et.createPortal(W.jsx(tA,{scope:e.__scopeSelect,children:W.jsx(OI.Slot,{scope:e.__scopeSelect,children:W.jsx("div",{children:e.children})})}),t):null}return W.jsx(sA,{...e,ref:t})}));XI.displayName=ZI;var eA=10,[tA,nA]=LI(ZI),rA=Ge("SelectContent.RemoveScroll"),sA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:f,avoidCollisions:g,...v}=e,y=BI(ZI,n),[x,b]=rt.useState(null),[w,k]=rt.useState(null),j=Oe(t,(e=>b(e))),[N,_]=rt.useState(null),[S,E]=rt.useState(null),T=zI(n),[C,I]=rt.useState(!1),A=rt.useRef(!1);rt.useEffect((()=>{if(x)return Ke(x)}),[x]),He();const P=rt.useCallback((e=>{const[t,...n]=T().map((e=>e.ref.current)),[r]=n.slice(-1),s=document.activeElement;for(const i of e){if(i===s)return;if(null==i||i.scrollIntoView({block:"nearest"}),i===t&&w&&(w.scrollTop=0),i===r&&w&&(w.scrollTop=w.scrollHeight),null==i||i.focus(),document.activeElement!==s)return}}),[T,w]),R=rt.useCallback((()=>P([N,x])),[P,N,x]);rt.useEffect((()=>{C&&R()}),[C,R]);const{onOpenChange:D,triggerPointerDownPosRef:O}=y;rt.useEffect((()=>{if(x){let e={x:0,y:0};const t=t=>{var n,r;e={x:Math.abs(Math.round(t.pageX)-((null==(n=O.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(r=O.current)?void 0:r.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():x.contains(n.target)||D(!1),document.removeEventListener("pointermove",t),O.current=null};return null!==O.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[x,D,O]),rt.useEffect((()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[D]);const[z,M]=RA((e=>{const t=T().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=DA(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),L=rt.useCallback(((e,t,n)=>{const r=!A.current&&!n;(void 0!==y.value&&y.value===t||r)&&(_(e),r&&(A.current=!0))}),[y.value]),U=rt.useCallback((()=>null==x?void 0:x.focus()),[x]),F=rt.useCallback(((e,t,n)=>{const r=!A.current&&!n;(void 0!==y.value&&y.value===t||r)&&E(e)}),[y.value]),V="popper"===r?aA:iA,B=V===aA?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:f,avoidCollisions:g}:{};return W.jsx(tA,{scope:n,content:x,viewport:w,onViewportChange:k,itemRefCallback:L,selectedItem:N,onItemLeave:U,itemTextRefCallback:F,focusSelectedItem:R,selectedItemText:S,position:r,isPositioned:C,searchRef:z,children:W.jsx($e,{as:rA,allowPinchZoom:!0,children:W.jsx(We,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ne(s,(e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()})),children:W.jsx(Qe,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:W.jsx(V,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...B,onPlaced:()=>I(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||M(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>P(t))),e.preventDefault()}}))})})})})})}));sA.displayName="SelectContentImpl";var iA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=BI(ZI,n),a=nA(ZI,n),[o,l]=rt.useState(null),[c,u]=rt.useState(null),d=Oe(t,(e=>u(e))),h=zI(n),m=rt.useRef(!1),p=rt.useRef(!0),{viewport:f,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=a,x=rt.useCallback((()=>{if(i.trigger&&i.valueNode&&o&&c&&f&&g&&v){const e=i.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),s=v.getBoundingClientRect();if("rtl"!==i.dir){const r=s.left-t.left,i=n.left-r,a=e.left-i,l=e.width+a,c=Math.max(l,t.width),u=window.innerWidth-eA,d=CN(i,[eA,Math.max(eA,u-c)]);o.style.minWidth=l+"px",o.style.left=d+"px"}else{const r=t.right-s.right,i=window.innerWidth-n.right-r,a=window.innerWidth-e.right-i,l=e.width+a,c=Math.max(l,t.width),u=window.innerWidth-eA,d=CN(i,[eA,Math.max(eA,u-c)]);o.style.minWidth=l+"px",o.style.right=d+"px"}const a=h(),l=window.innerHeight-2*eA,u=f.scrollHeight,d=window.getComputedStyle(c),p=parseInt(d.borderTopWidth,10),y=parseInt(d.paddingTop,10),x=parseInt(d.borderBottomWidth,10),b=p+y+u+parseInt(d.paddingBottom,10)+x,w=Math.min(5*g.offsetHeight,b),k=window.getComputedStyle(f),j=parseInt(k.paddingTop,10),N=parseInt(k.paddingBottom,10),_=e.top+e.height/2-eA,S=l-_,E=g.offsetHeight/2,T=p+y+(g.offsetTop+E),C=b-T;if(T<=_){const e=a.length>0&&g===a[a.length-1].ref.current;o.style.bottom="0px";const t=c.clientHeight-f.offsetTop-f.offsetHeight,n=T+Math.max(S,E+(e?N:0)+t+x);o.style.height=n+"px"}else{const e=a.length>0&&g===a[0].ref.current;o.style.top="0px";const t=Math.max(_,p+f.offsetTop+(e?j:0)+E)+C;o.style.height=t+"px",f.scrollTop=T-_+f.offsetTop}o.style.margin=`${eA}px 0`,o.style.minHeight=w+"px",o.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame((()=>m.current=!0))}}),[h,i.trigger,i.valueNode,o,c,f,g,v,i.dir,r]);Ve((()=>x()),[x]);const[b,w]=rt.useState();Ve((()=>{c&&w(window.getComputedStyle(c).zIndex)}),[c]);const k=rt.useCallback((e=>{e&&!0===p.current&&(x(),null==y||y(),p.current=!1)}),[x,y]);return W.jsx(oA,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:W.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:W.jsx(ee.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})}));iA.displayName="SelectItemAlignedPosition";var aA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=eA,...i}=e,a=FI(n);return W.jsx(Je,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));aA.displayName="SelectPopperPosition";var[oA,lA]=LI(ZI,{}),cA="SelectViewport",uA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=nA(cA,n),a=lA(cA,n),o=Oe(t,i.onViewportChange),l=rt.useRef(0);return W.jsxs(W.Fragment,{children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),W.jsx(OI.Slot,{scope:n,children:W.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=a;if((null==r?void 0:r.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*eA,s=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),a=Math.max(s,i);if(a<r){const s=a+e,i=Math.min(r,s),o=s-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));uA.displayName=cA;var dA="SelectGroup",[hA,mA]=LI(dA);rt.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=ae();return W.jsx(hA,{scope:n,id:s,children:W.jsx(ee.div,{role:"group","aria-labelledby":s,...r,ref:t})})})).displayName=dA;var pA="SelectLabel",fA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=mA(pA,n);return W.jsx(ee.div,{id:s.id,...r,ref:t})}));fA.displayName=pA;var gA="SelectItem",[vA,yA]=LI(gA),xA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,o=BI(gA,n),l=nA(gA,n),c=o.value===r,[u,d]=rt.useState(i??""),[h,m]=rt.useState(!1),p=Oe(t,(e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,r,s)})),f=ae(),g=rt.useRef("touch"),v=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return W.jsx(vA,{scope:n,value:r,disabled:s,textId:f,isSelected:c,onItemTextChange:rt.useCallback((e=>{d((t=>t||((null==e?void 0:e.textContent)??"").trim()))}),[]),children:W.jsx(OI.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:W.jsx(ee.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:p,onFocus:ne(a.onFocus,(()=>m(!0))),onBlur:ne(a.onBlur,(()=>m(!1))),onClick:ne(a.onClick,(()=>{"mouse"!==g.current&&v()})),onPointerUp:ne(a.onPointerUp,(()=>{"mouse"===g.current&&v()})),onPointerDown:ne(a.onPointerDown,(e=>{g.current=e.pointerType})),onPointerMove:ne(a.onPointerMove,(e=>{var t;g.current=e.pointerType,s?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:ne(a.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))})),onKeyDown:ne(a.onKeyDown,(e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(RI.includes(e.key)&&v()," "===e.key&&e.preventDefault())}))})})})}));xA.displayName=gA;var bA="SelectItemText",wA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=BI(bA,n),o=nA(bA,n),l=yA(bA,n),c=KI(bA,n),[u,d]=rt.useState(null),h=Oe(t,(e=>d(e)),l.onItemTextChange,(e=>{var t;return null==(t=o.itemTextRefCallback)?void 0:t.call(o,e,l.value,l.disabled)})),m=null==u?void 0:u.textContent,p=rt.useMemo((()=>W.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value)),[l.disabled,l.value,m]),{onNativeOptionAdd:f,onNativeOptionRemove:g}=c;return Ve((()=>(f(p),()=>g(p))),[f,g,p]),W.jsxs(W.Fragment,{children:[W.jsx(ee.span,{id:l.textId,...i,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?et.createPortal(i.children,a.valueNode):null]})}));wA.displayName=bA;var kA="SelectItemIndicator",jA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return yA(kA,n).isSelected?W.jsx(ee.span,{"aria-hidden":!0,...r,ref:t}):null}));jA.displayName=kA;var NA="SelectScrollUpButton",_A=rt.forwardRef(((e,t)=>{const n=nA(NA,e.__scopeSelect),r=lA(NA,e.__scopeSelect),[s,i]=rt.useState(!1),a=Oe(t,r.onScrollButtonChange);return Ve((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),s?W.jsx(TA,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));_A.displayName=NA;var SA="SelectScrollDownButton",EA=rt.forwardRef(((e,t)=>{const n=nA(SA,e.__scopeSelect),r=lA(SA,e.__scopeSelect),[s,i]=rt.useState(!1),a=Oe(t,r.onScrollButtonChange);return Ve((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;i(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),s?W.jsx(TA,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));EA.displayName=SA;var TA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=nA("SelectScrollButton",n),a=rt.useRef(null),o=zI(n),l=rt.useCallback((()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)}),[]);return rt.useEffect((()=>()=>l()),[l]),Ve((()=>{var e;const t=o().find((e=>e.ref.current===document.activeElement));null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})}),[o]),W.jsx(ee.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,(()=>{null===a.current&&(a.current=window.setInterval(r,50))})),onPointerMove:ne(s.onPointerMove,(()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===a.current&&(a.current=window.setInterval(r,50))})),onPointerLeave:ne(s.onPointerLeave,(()=>{l()}))})})),CA=rt.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return W.jsx(ee.div,{"aria-hidden":!0,...r,ref:t})}));CA.displayName="SelectSeparator";var IA="SelectArrow";rt.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=FI(n),i=BI(IA,n),a=nA(IA,n);return i.open&&"popper"===a.position?W.jsx(Xe,{...s,...r,ref:t}):null})).displayName=IA;var AA=rt.forwardRef((({__scopeSelect:e,value:t,...n},r)=>{const s=rt.useRef(null),i=Oe(r,s),a=ze(t);return rt.useEffect((()=>{const e=s.current;if(!e)return;const n=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&r){const n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}}),[a,t]),W.jsx(ee.select,{...n,style:{...Ze,...n.style},ref:i,defaultValue:t})}));function PA(e){return""===e||void 0===e}function RA(e){const t=qe(e),n=rt.useRef(""),r=rt.useRef(0),s=rt.useCallback((e=>{const s=n.current+e;t(s),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(s)}),[t]),i=rt.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return rt.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,s,i]}function DA(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,s=n?e.indexOf(n):-1;let i=(a=e,o=Math.max(s,0),a.map(((e,t)=>a[(o+t)%a.length])));var a,o;1===r.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}AA.displayName="SelectBubbleInput";var OA=GI,zA=JI,MA=YI,LA=XI,UA=uA,FA=fA,VA=xA,BA=wA,qA=jA,KA=_A,HA=EA,$A=CA;const GA=HI,WA=QI,QA=rt.forwardRef((({className:e,children:t,...n},r)=>W.jsxs(OA,{ref:r,className:Sw("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,W.jsx(zA,{asChild:!0,children:W.jsx(Rx,{className:"h-4 w-4 opacity-50"})})]})));QA.displayName=OA.displayName;const JA=rt.forwardRef((({className:e,...t},n)=>W.jsx(KA,{ref:n,className:Sw("flex cursor-default items-center justify-center py-1",e),...t,children:W.jsx(Ox,{className:"h-4 w-4"})})));JA.displayName=KA.displayName;const YA=rt.forwardRef((({className:e,...t},n)=>W.jsx(HA,{ref:n,className:Sw("flex cursor-default items-center justify-center py-1",e),...t,children:W.jsx(Rx,{className:"h-4 w-4"})})));YA.displayName=HA.displayName;const ZA=rt.forwardRef((({className:e,children:t,position:n="popper",...r},s)=>W.jsx(MA,{children:W.jsxs(LA,{ref:s,className:Sw("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[W.jsx(JA,{}),W.jsx(UA,{className:Sw("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),W.jsx(YA,{})]})})));ZA.displayName=LA.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx(FA,{ref:n,className:Sw("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}))).displayName=FA.displayName;const XA=rt.forwardRef((({className:e,children:t,...n},r)=>W.jsxs(VA,{ref:r,className:Sw("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[W.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:W.jsx(qA,{children:W.jsx(Px,{className:"h-4 w-4"})})}),W.jsx(BA,{children:t})]})));XA.displayName=VA.displayName;rt.forwardRef((({className:e,...t},n)=>W.jsx($A,{ref:n,className:Sw("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=$A.displayName;const eP=rt.forwardRef((({className:e,...t},n)=>W.jsx("div",{className:"relative w-full overflow-auto",children:W.jsx("table",{ref:n,className:Sw("w-full caption-bottom text-sm",e),...t})})));eP.displayName="Table";const tP=rt.forwardRef((({className:e,...t},n)=>W.jsx("thead",{ref:n,className:Sw("[&_tr]:border-b",e),...t})));tP.displayName="TableHeader";const nP=rt.forwardRef((({className:e,...t},n)=>W.jsx("tbody",{ref:n,className:Sw("[&_tr:last-child]:border-0",e),...t})));nP.displayName="TableBody";const rP=rt.forwardRef((({className:e,...t},n)=>W.jsx("tr",{ref:n,className:Sw("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));rP.displayName="TableRow";const sP=rt.forwardRef((({className:e,...t},n)=>W.jsx("th",{ref:n,className:Sw("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));sP.displayName="TableHead";const iP=rt.forwardRef((({className:e,...t},n)=>W.jsx("td",{ref:n,className:Sw("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));iP.displayName="TableCell";function aP(){const[e,t]=rt.useState(!0),[n,r]=rt.useState([]),[s,i]=rt.useState([]),[a,o]=rt.useState([]),[l,c]=rt.useState(""),[u,d]=rt.useState("all"),[h,m]=rt.useState("name-asc"),[p,f]=rt.useState(null);rt.useEffect((()=>{(async()=>{t(!0);try{const[e,t]=await Promise.all([cx(),mx()]);r(e),i(t)}catch(e){Tt.error("Не удалось загрузить товары")}finally{t(!1)}})()}),[]);const g=n.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),n="all"===u||e.category===u;return t&&n})).sort(((e,t)=>{switch(h){case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);case"price-asc":return e.price-t.price;case"price-desc":return t.price-e.price;case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();default:return 0}})),v=e=>{switch(e){case"bouquets":return"Букеты";case"plants":return"Растения";case"wedding":return"Свадебные";case"gifts":return"Подарки";default:return e}};return e?W.jsx(SI,{children:W.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:W.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):W.jsx(SI,{children:W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[W.jsxs("div",{children:[W.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[W.jsx(lb,{className:"mr-2 h-8 w-8"})," Управление товарами"]}),W.jsxs("p",{className:"text-muted-foreground",children:["Всего товаров: ",n.length,", показано: ",g.length]})]}),W.jsx("div",{className:"mt-4 md:mt-0",children:W.jsx(Tw,{asChild:!0,children:W.jsxs(st,{to:"/admin/products/new",children:[W.jsx(ub,{className:"mr-2 h-4 w-4"})," Добавить товар"]})})})]}),W.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[W.jsxs("div",{className:"flex-1 relative",children:[W.jsx(db,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),W.jsx($k,{placeholder:"Поиск по названию или описанию...",className:"pl-10",value:l,onChange:e=>c(e.target.value)})]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("div",{className:"w-48",children:W.jsxs(GA,{value:u,onValueChange:d,children:[W.jsx(QA,{children:W.jsx(WA,{placeholder:"Выберите категорию"})}),W.jsxs(ZA,{children:[W.jsx(XA,{value:"all",children:"Все категории"}),s.map((e=>W.jsx(XA,{value:e.id,children:v(e.id)},e.id)))]})]})}),W.jsx("div",{className:"w-48",children:W.jsxs(GA,{value:h,onValueChange:m,children:[W.jsx(QA,{children:W.jsx(WA,{placeholder:"Сортировка"})}),W.jsxs(ZA,{children:[W.jsx(XA,{value:"name-asc",children:"По названию (A-Z)"}),W.jsx(XA,{value:"name-desc",children:"По названию (Z-A)"}),W.jsx(XA,{value:"price-asc",children:"По цене (низкая-высокая)"}),W.jsx(XA,{value:"price-desc",children:"По цене (высокая-низкая)"}),W.jsx(XA,{value:"newest",children:"Новые сначала"}),W.jsx(XA,{value:"oldest",children:"Старые сначала"})]})]})})]})]}),a.length>0&&W.jsxs("div",{className:"bg-muted p-4 rounded-md flex items-center justify-between",children:[W.jsxs("span",{children:[a.length," товаров выбрано"]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx(Tw,{variant:"outline",size:"sm",onClick:()=>o([]),children:"Отменить выбор"}),W.jsx(Tw,{variant:"destructive",size:"sm",onClick:async()=>{try{await Promise.all(a.map((e=>hx(e)))),r((e=>e.filter((e=>!a.includes(e.id))))),o([]),Tt.success(`Удалено ${a.length} товаров`)}catch(e){Tt.error("Не удалось выполнить массовое удаление")}},children:"Удалить выбранные"})]})]}),W.jsx("div",{className:"border rounded-md",children:W.jsxs(eP,{children:[W.jsx(tP,{children:W.jsxs(rP,{children:[W.jsx(sP,{className:"w-12",children:W.jsx(Yj,{checked:g.length>0&&a.length===g.length,onCheckedChange:()=>{a.length===g.length?o([]):o(g.map((e=>e.id)))},"aria-label":"Select all"})}),W.jsx(sP,{className:"w-14",children:"Фото"}),W.jsx(sP,{children:"Название"}),W.jsx(sP,{children:"Категория"}),W.jsx(sP,{className:"text-right",children:"Цена"}),W.jsx(sP,{className:"w-24",children:"Наличие"}),W.jsx(sP,{className:"w-28",children:"Действия"})]})}),W.jsx(nP,{children:g.length>0?g.map((e=>W.jsxs(rP,{children:[W.jsx(iP,{children:W.jsx(Yj,{checked:a.includes(e.id),onCheckedChange:()=>{return t=e.id,void o((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},"aria-label":`Select ${e.name}`})}),W.jsx(iP,{children:W.jsx("div",{className:"w-10 h-10 rounded-md overflow-hidden",children:W.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})})}),W.jsx(iP,{className:"font-medium",children:e.name}),W.jsx(iP,{children:W.jsx(jk,{variant:"outline",children:v(e.category)})}),W.jsxs(iP,{className:"text-right",children:[e.price," Kč"]}),W.jsx(iP,{className:"text-center",children:e.inStock?W.jsx("div",{className:"flex items-center justify-center",children:W.jsx(Ax,{className:"h-5 w-5 text-green-500"})}):W.jsx("div",{className:"flex items-center justify-center",children:W.jsx(Eb,{className:"h-5 w-5 text-red-500"})})}),W.jsxs(iP,{children:[W.jsxs(oj,{children:[W.jsx(lj,{asChild:!0,children:W.jsx(Tw,{variant:"ghost",size:"icon",children:W.jsx(ab,{className:"h-4 w-4"})})}),W.jsxs(cj,{align:"end",children:[W.jsx(dj,{children:"Действия"}),W.jsx(uj,{asChild:!0,children:W.jsxs(st,{to:`/admin/products/edit/${e.id}`,children:[W.jsx(vb,{className:"mr-2 h-4 w-4"})," Редактировать"]})}),W.jsx(uj,{asChild:!0,children:W.jsxs(st,{to:`/product/${e.id}`,target:"_blank",children:[W.jsx(Fx,{className:"mr-2 h-4 w-4"})," Просмотр"]})}),W.jsx(hj,{}),W.jsxs(uj,{className:"text-destructive focus:text-destructive",onClick:()=>f(e.id),children:[W.jsx(wb,{className:"mr-2 h-4 w-4"})," Удалить"]})]})]}),p===e.id&&W.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:W.jsxs("div",{className:"bg-background p-6 rounded-lg w-full max-w-md",children:[W.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Подтверждение удаления"}),W.jsxs("p",{className:"mb-4",children:['Вы уверены, что хотите удалить товар "',e.name,'"? Это действие невозможно отменить.']}),W.jsxs("div",{className:"flex justify-end gap-2",children:[W.jsx(Tw,{variant:"outline",onClick:()=>f(null),children:"Отмена"}),W.jsx(Tw,{variant:"destructive",onClick:()=>(async e=>{try{await hx(e),r((t=>t.filter((t=>t.id!==e)))),Tt.success("Товар успешно удален")}catch(t){Tt.error("Не удалось удалить товар")}finally{f(null)}})(e.id),children:"Удалить"})]})]})})]})]},e.id))):W.jsx(rP,{children:W.jsx(iP,{colSpan:7,className:"h-24 text-center",children:l||"all"!==u?W.jsxs("div",{children:[W.jsx("p",{className:"text-muted-foreground",children:"По вашему запросу не найдено товаров"}),W.jsx(Tw,{variant:"link",onClick:()=>{c(""),d("all")},children:"Сбросить фильтры"})]}):W.jsx("p",{className:"text-muted-foreground",children:"Нет доступных товаров"})})})})]})}),g.length>0&&W.jsx("div",{className:"flex justify-end",children:W.jsxs(Tw,{variant:"outline",onClick:()=>{try{const e=[["ID","Название","Категория","Цена","В наличии","Создан"],...g.map((e=>[e.id,e.name,e.category,e.price,e.inStock?"Да":"Нет",new Date(e.createdAt).toLocaleDateString("ru-RU")]))].map((e=>e.join(","))).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",`products_${(new Date).toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),Tt.success("Экспорт выполнен успешно")}catch(e){Tt.error("Не удалось экспортировать данные")}},children:[W.jsx(Bx,{className:"mr-2 h-4 w-4"})," Экспорт в CSV"]})})]})})}rt.forwardRef((({className:e,...t},n)=>W.jsx("caption",{ref:n,className:Sw("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";var oP="Switch",[lP,cP]=Y(oP),[uP,dP]=lP(oP),hP=rt.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,m]=rt.useState(null),p=Oe(t,(e=>m(e))),f=rt.useRef(!1),g=!h||(u||!!h.closest("form")),[v,y]=ie({prop:s,defaultProp:i??!1,onChange:c,caller:oP});return W.jsxs(uP,{scope:n,checked:v,disabled:o,children:[W.jsx(ee.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":gP(v),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:ne(e.onClick,(e=>{y((e=>!e)),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))}),g&&W.jsx(fP,{control:h,bubbles:!f.current,name:r,value:l,checked:v,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})}));hP.displayName=oP;var mP="SwitchThumb",pP=rt.forwardRef(((e,t)=>{const{__scopeSwitch:n,...r}=e,s=dP(mP,n);return W.jsx(ee.span,{"data-state":gP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})}));pP.displayName=mP;var fP=rt.forwardRef((({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=rt.useRef(null),o=Oe(a,i),l=ze(n),c=Me(t);return rt.useEffect((()=>{const e=a.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}}),[l,n,r]),W.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function gP(e){return e?"checked":"unchecked"}fP.displayName="SwitchBubbleInput";var vP=hP,yP=pP;const xP=rt.forwardRef((({className:e,...t},n)=>W.jsx(vP,{className:Sw("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:W.jsx(yP,{className:Sw("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));function bP(){const e=ct(),{id:t}=lt(),n=!!t,[r,s]=rt.useState(!1),[i,a]=rt.useState(!1),[o,l]=rt.useState([]),[c,u]=rt.useState(null),[d,h]=rt.useState(null),[m,p]=rt.useState([]),[f,g]=rt.useState(""),[v,y]=rt.useState({name:"",description:"",price:0,category:"",inStock:!0,featured:!1,tags:[],imageUrl:""});rt.useEffect((()=>{(async()=>{s(!0);try{const r=await mx();if(l(r),n&&t){const n=await ux(t);n?(y({name:n.name,description:n.description,price:n.price,category:n.category,inStock:n.inStock,featured:n.featured||!1,tags:n.tags||[],imageUrl:n.imageUrl}),p(n.tags||[]),h(n.imageUrl)):(Tt.error("Produkt nebyl nalezen"),e("/admin/products"))}}catch(r){Tt.error("Chyba při načítání dat")}finally{s(!1)}})()}),[t,n,e]);const x=e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:"price"===t?Number(n):n})))},b=(e,t)=>{y((n=>({...n,[e]:t})))},w=e=>{switch(e){case"bouquets":return"Kytice";case"plants":return"Rostliny";case"wedding":return"Svatební";case"gifts":return"Dárky";default:return e}};return r?W.jsx(SI,{children:W.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:W.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):W.jsx(SI,{children:W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"flex items-center justify-between",children:[W.jsxs("div",{className:"flex items-center",children:[W.jsx(Tw,{variant:"ghost",size:"icon",asChild:!0,className:"mr-2",children:W.jsx(st,{to:"/admin/products",children:W.jsx(Sx,{className:"h-5 w-5"})})}),W.jsx("h1",{className:"text-3xl font-bold",children:n?"Úprava produktu":"Přidání produktu"})]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx(Tw,{variant:"outline",asChild:!0,children:W.jsx(st,{to:"/admin/products",children:"Zrušit"})}),W.jsx(Tw,{type:"submit",form:"product-form",disabled:i,children:i?"Ukládání...":"Uložit"})]})]}),W.jsx("form",{id:"product-form",onSubmit:async r=>{r.preventDefault(),a(!0);try{if(!v.name||!v.category||void 0===v.price)return Tt.error("Prosím vyplňte všechna povinná pole"),void a(!1);if(n&&t)await(async(e,t,n)=>{try{const s=wf(tx,lx,e);if(n){try{const t=Lv(nx,`products/${e}`);await Mv(t)}catch(r){}const s=Lv(nx,`products/${e}`);await Ov(s,n);const i=await zv(s);t.imageUrl=i}await Ng(s,t)}catch(r){throw r}})(t,v,c||void 0),Tt.success("Produkt byl úspěšně aktualizován");else{await dx(v,c||void 0);Tt.success("Produkt byl úspěšně přidán")}e("/admin/products")}catch(s){Tt.error("Chyba při ukládání produktu")}finally{a(!1)}},className:"space-y-8",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[W.jsx("div",{className:"lg:col-span-2 space-y-6",children:W.jsxs(kj,{children:[W.jsxs(jj,{children:[W.jsx(Nj,{children:"Základní informace"}),W.jsx(_j,{children:"Vyplňte základní údaje o produktu"})]}),W.jsxs(Sj,{className:"space-y-4",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"name",children:"Název*"}),W.jsx($k,{id:"name",name:"name",value:v.name,onChange:x,required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"description",children:"Popis"}),W.jsx(u_,{id:"description",name:"description",value:v.description,onChange:x,rows:5})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"price",children:"Cena (Kč)*"}),W.jsx($k,{id:"price",name:"price",type:"number",min:"0",step:"1",value:v.price,onChange:x,required:!0})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"category",children:"Kategorie*"}),W.jsxs(GA,{value:v.category,onValueChange:e=>y((t=>({...t,category:e}))),children:[W.jsx(QA,{id:"category",children:W.jsx(WA,{placeholder:"Vyberte kategorii"})}),W.jsx(ZA,{children:o.map((e=>W.jsx(XA,{value:e.id,children:w(e.id)},e.id)))})]})]})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(tN,{htmlFor:"tags",children:"Tagy"}),W.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map((e=>W.jsxs(jk,{variant:"secondary",className:"flex items-center gap-1",children:[e,W.jsx(Tw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>(e=>{const t=m.filter((t=>t!==e));p(t),y((e=>({...e,tags:t})))})(e),children:W.jsx(Tb,{className:"h-3 w-3"})})]},e)))}),W.jsx($k,{id:"tags",placeholder:"Zadejte tag a stiskněte Enter",value:f,onChange:e=>g(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&f.trim()){if(e.preventDefault(),!m.includes(f.trim())){const e=[...m,f.trim()];p(e),y((t=>({...t,tags:e})))}g("")}}}),W.jsx("p",{className:"text-xs text-muted-foreground",children:"Zadejte tag a stiskněte Enter pro přidání"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(xP,{id:"inStock",checked:v.inStock,onCheckedChange:e=>b("inStock",e)}),W.jsx(tN,{htmlFor:"inStock",children:"Skladem"})]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx(xP,{id:"featured",checked:v.featured,onCheckedChange:e=>b("featured",e)}),W.jsx(tN,{htmlFor:"featured",children:"Doporučený produkt"})]})]})]})]})}),W.jsxs("div",{children:[W.jsxs(kj,{children:[W.jsxs(jj,{children:[W.jsx(Nj,{children:"Obrázek produktu"}),W.jsx(_j,{children:"Nahrajte obrázek produktu"})]}),W.jsxs(Sj,{className:"space-y-4",children:[d?W.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-md",children:[W.jsx("img",{src:d,alt:"Náhled produktu",className:"w-full h-full object-cover"}),W.jsx(Tw,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 rounded-full",onClick:()=>{u(null),h(null),y((e=>({...e,imageUrl:""})))},type:"button",children:W.jsx(Tb,{className:"h-4 w-4"})})]}):W.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md flex flex-col items-center justify-center p-12 text-center",children:[W.jsx(Nb,{className:"h-8 w-8 text-muted-foreground mb-4"}),W.jsxs("div",{className:"mb-4",children:[W.jsx("p",{className:"text-sm font-medium",children:"Přetáhněte obrázek sem nebo klikněte pro výběr"}),W.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG nebo WEBP, maximálně 5MB"})]}),W.jsx($k,{id:"image",type:"file",accept:"image/*",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];u(t);const n=new FileReader;n.onload=()=>{h(n.result)},n.readAsDataURL(t)}}}),W.jsx(Tw,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("image"))?void 0:e.click()},type:"button",children:"Vybrat obrázek"})]}),!d&&!n&&W.jsxs("div",{className:"p-3 bg-amber-50 text-amber-800 rounded-md flex items-start",children:[W.jsx(Nx,{className:"h-5 w-5 mr-2 shrink-0 mt-0.5"}),W.jsx("p",{className:"text-sm",children:"Doporučuje se přidat obrázek produktu. Produkty s obrázky přitahují více pozornosti."})]})]})]}),W.jsxs(kj,{className:"mt-6",children:[W.jsx(jj,{children:W.jsx(Nj,{children:"Zobrazení produktu"})}),W.jsx(Sj,{children:W.jsx(Tw,{variant:"outline",className:"w-full",asChild:!0,children:n?W.jsx(st,{to:`/product/${t}`,target:"_blank",children:"Otevřít stránku produktu"}):W.jsx("span",{className:"opacity-50 cursor-not-allowed",children:"Nejprve uložte produkt"})})})]})]})]})})]})})}xP.displayName=vP.displayName;const wP=new bn({defaultOptions:{queries:{staleTime:3e5,retry:1}}});function kP(){return W.jsx(kn,{client:wP,children:W.jsx(fx,{children:W.jsxs(wx,{children:[W.jsx(zt,{position:"top-right"}),W.jsx(ht,{children:W.jsxs(mt,{children:[W.jsx(pt,{path:"/",element:W.jsx(Dj,{})}),W.jsx(pt,{path:"/catalog",element:W.jsx(c_,{})}),W.jsx(pt,{path:"/catalog/:category",element:W.jsx(c_,{})}),W.jsx(pt,{path:"/product/:id",element:W.jsx(gI,{})}),W.jsx(pt,{path:"/blog",element:W.jsx(g_,{})}),W.jsx(pt,{path:"/blog/:id",element:W.jsx(mI,{})}),W.jsx(pt,{path:"/contact",element:W.jsx(pI,{})}),W.jsx(pt,{path:"/cart",element:W.jsx(vI,{})}),W.jsx(pt,{path:"/custom-bouquet",element:W.jsx(p_,{})}),W.jsx(pt,{path:"/login",element:W.jsx(yI,{})}),W.jsx(pt,{path:"/register",element:W.jsx(xI,{})}),W.jsx(pt,{path:"/delivery",element:W.jsx(NI,{})}),W.jsx(pt,{path:"/account",element:W.jsx(_I,{children:W.jsx(bI,{})})}),W.jsx(pt,{path:"/checkout",element:W.jsx(_I,{children:W.jsx("div",{children:"Checkout Page (В разработке)"})})}),W.jsx(pt,{path:"/admin",element:W.jsx(AI,{})}),W.jsx(pt,{path:"/admin/products",element:W.jsx(aP,{})}),W.jsx(pt,{path:"/admin/products/new",element:W.jsx(bP,{})}),W.jsx(pt,{path:"/admin/products/edit/:id",element:W.jsx(bP,{})}),W.jsx(pt,{path:"*",element:W.jsx(fI,{})})]})})]})})})}ft.createRoot(document.getElementById("root")).render(W.jsx(tt.StrictMode,{children:W.jsx(kP,{})}));
