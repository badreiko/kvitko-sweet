var e,t,n,s,r,i,a,o,l,c,d,u,h,m,f,p,g,x,y,v,b,w,j,N,k,C,S,T,E,A,I,_,P,D,R,M,O,L,F,U,z,V,B=Object.defineProperty,q=e=>{throw TypeError(e)},$=(e,t,n)=>((e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),H=(e,t,n)=>t.has(e)||q("Cannot "+n),K=(e,t,n)=>(H(e,t,"read from private field"),n?n.call(e):t.get(e)),W=(e,t,n)=>t.has(e)?q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),G=(e,t,n,s)=>(H(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Q=(e,t,n)=>(H(e,t,"access private method"),n),Y=(e,t,n,s)=>({set _(s){G(e,t,s,n)},get _(){return K(e,t,s)}});import{j as X,_ as J,S as Z,c as ee,a as te,R as ne,P as se,I as re,b as ie,d as ae,u as oe,e as le,f as ce,O as de,g as ue,C as he,h as me,T as fe,D as pe,i as ge,k as xe,l as ye,L as ve,m as be,n as we,V as je,o as Ne,p as ke,q as Ce,r as Se,s as Te,t as Ee,v as Ae,w as Ie,x as _e,y as Pe,z as De,A as Re,B as Me,E as Oe,F as Le,G as Fe,H as Ue,J as ze,K as Ve,M as Be,N as qe,Q as $e,U as He,W as Ke,X as We,Y as Ge,Z as Qe,$ as Ye,a0 as Xe,a1 as Je,a2 as Ze,a3 as et,a4 as tt,a5 as nt,a6 as st,a7 as rt}from"./ui-xI2_JATh.js";import{b as it,R as at,c as ot,r as lt,L as ct,u as dt,d as ut,e as ht,f as mt,g as ft,h as pt,N as gt,B as xt,i as yt,j as vt}from"./vendor-BDi_TpFJ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var bt=it;V=bt.createRoot,bt.hydrateRoot;const wt=Array(12).fill(0),jt=({visible:e,className:t})=>at.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},at.createElement("div",{className:"sonner-spinner"},wt.map(((e,t)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),Nt=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kt=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ct=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),St=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tt=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Et=1;const At=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...s}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Et++,i=this.toasts.find((e=>e.id===r)),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map((t=>t.id===r?(this.publish({...t,...e,id:r,title:n}),{...t,...e,id:r,dismissible:a,title:n}):t)):this.addToast({title:n,...s,dismissible:a,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame((()=>this.subscribers.forEach((t=>t({id:e,dismiss:!0})))))):this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let r,i=void 0!==n;const a=s.then((async e=>{r=["resolve",e];if(at.isValidElement(e))i=!1,this.create({id:n,type:"default",message:e});else if(It(e)&&!e.ok){i=!1;const s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,a="object"==typeof s&&!at.isValidElement(s)?s:{message:s};this.create({id:n,type:"error",description:r,...a})}else if(e instanceof Error){i=!1;const s="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof s&&!at.isValidElement(s)?s:{message:s};this.create({id:n,type:"error",description:r,...a})}else if(void 0!==t.success){i=!1;const s="function"==typeof t.success?await t.success(e):t.success,r="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof s&&!at.isValidElement(s)?s:{message:s};this.create({id:n,type:"success",description:r,...a})}})).catch((async e=>{if(r=["reject",e],void 0!==t.error){i=!1;const s="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,a="object"==typeof s&&!at.isValidElement(s)?s:{message:s};this.create({id:n,type:"error",description:r,...a})}})).finally((()=>{i&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)})),o=()=>new Promise(((e,t)=>a.then((()=>"reject"===r[0]?t(r[1]):e(r[1]))).catch(t)));return"string"!=typeof n&&"number"!=typeof n?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||Et++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},It=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,_t=(e,t)=>{const n=(null==t?void 0:t.id)||Et++;return At.addToast({title:e,...t,id:n}),n},Pt=Object.assign(_t,{success:At.success,info:At.info,warning:At.warning,error:At.error,custom:At.custom,message:At.message,promise:At.promise,dismiss:At.dismiss,loading:At.loading},{getHistory:()=>At.toasts,getToasts:()=>At.getActiveToasts()});function Dt(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Rt=3,Mt=14;function Ot(...e){return e.filter(Boolean).join(" ")}const Lt=e=>{var t,n,s,r,i,a,o,l,c;const{invert:d,toast:u,unstyled:h,interacting:m,setHeights:f,visibleToasts:p,heights:g,index:x,toasts:y,expanded:v,removeToast:b,defaultRichColors:w,closeButton:j,style:N,cancelButtonStyle:k,actionButtonStyle:C,className:S="",descriptionClassName:T="",duration:E,position:A,gap:I,expandByDefault:_,classNames:P,icons:D,closeButtonAriaLabel:R="Close toast"}=e,[M,O]=at.useState(null),[L,F]=at.useState(null),[U,z]=at.useState(!1),[V,B]=at.useState(!1),[q,$]=at.useState(!1),[H,K]=at.useState(!1),[W,G]=at.useState(!1),[Q,Y]=at.useState(0),[X,J]=at.useState(0),Z=at.useRef(u.duration||E||4e3),ee=at.useRef(null),te=at.useRef(null),ne=0===x,se=x+1<=p,re=u.type,ie=!1!==u.dismissible,ae=u.className||"",oe=u.descriptionClassName||"",le=at.useMemo((()=>g.findIndex((e=>e.toastId===u.id))||0),[g,u.id]),ce=at.useMemo((()=>{var e;return null!=(e=u.closeButton)?e:j}),[u.closeButton,j]),de=at.useMemo((()=>u.duration||E||4e3),[u.duration,E]),ue=at.useRef(0),he=at.useRef(0),me=at.useRef(0),fe=at.useRef(null),[pe,ge]=A.split("-"),xe=at.useMemo((()=>g.reduce(((e,t,n)=>n>=le?e:e+t.height),0)),[g,le]),ye=(()=>{const[e,t]=at.useState(document.hidden);return at.useEffect((()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),ve=u.invert||d,be="loading"===re;he.current=at.useMemo((()=>le*I+xe),[le,xe]),at.useEffect((()=>{Z.current=de}),[de]),at.useEffect((()=>{z(!0)}),[]),at.useEffect((()=>{const e=te.current;if(e){const t=e.getBoundingClientRect().height;return J(t),f((e=>[{toastId:u.id,height:t,position:u.position},...e])),()=>f((e=>e.filter((e=>e.toastId!==u.id))))}}),[f,u.id]),at.useLayoutEffect((()=>{if(!U)return;const e=te.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,J(n),f((e=>e.find((e=>e.toastId===u.id))?e.map((e=>e.toastId===u.id?{...e,height:n}:e)):[{toastId:u.id,height:n,position:u.position},...e]))}),[U,u.title,u.description,f,u.id]);const we=at.useCallback((()=>{B(!0),Y(he.current),f((e=>e.filter((e=>e.toastId!==u.id)))),setTimeout((()=>{b(u)}),200)}),[u,b,f,he]);at.useEffect((()=>{if(u.promise&&"loading"===re||u.duration===1/0||"loading"===u.type)return;let e;return v||m||ye?(()=>{if(me.current<ue.current){const e=(new Date).getTime()-ue.current;Z.current=Z.current-e}me.current=(new Date).getTime()})():Z.current!==1/0&&(ue.current=(new Date).getTime(),e=setTimeout((()=>{null==u.onAutoClose||u.onAutoClose.call(u,u),we()}),Z.current)),()=>clearTimeout(e)}),[v,m,u,re,ye,we]),at.useEffect((()=>{u.delete&&we()}),[we,u.delete]);const je=u.icon||(null==D?void 0:D[re])||(e=>{switch(e){case"success":return Nt;case"info":return Ct;case"warning":return kt;case"error":return St;default:return null}})(re);var Ne,ke,Ce,Se;return at.createElement("li",{tabIndex:0,ref:te,className:Ot(S,ae,null==P?void 0:P.toast,null==u||null==(t=u.classNames)?void 0:t.toast,null==P?void 0:P.default,null==P?void 0:P[re],null==u||null==(n=u.classNames)?void 0:n[re]),"data-sonner-toast":"","data-rich-colors":null!=(Ne=u.richColors)?Ne:w,"data-styled":!Boolean(u.jsx||u.unstyled||h),"data-mounted":U,"data-promise":Boolean(u.promise),"data-swiped":W,"data-removed":V,"data-visible":se,"data-y-position":pe,"data-x-position":ge,"data-index":x,"data-front":ne,"data-swiping":q,"data-dismissible":ie,"data-type":re,"data-invert":ve,"data-swipe-out":H,"data-swipe-direction":L,"data-expanded":Boolean(v||_&&U),style:{"--index":x,"--toasts-before":x,"--z-index":y.length-x,"--offset":`${V?Q:he.current}px`,"--initial-height":_?"auto":`${X}px`,...N,...u.style},onDragEnd:()=>{$(!1),O(null),fe.current=null},onPointerDown:e=>{!be&&ie&&(ee.current=new Date,Y(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&($(!0),fe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(H||!ie)return;fe.current=null;const s=Number((null==(e=te.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),r=Number((null==(t=te.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(n=ee.current)?void 0:n.getTime()),a="x"===M?s:r,o=Math.abs(a)/i;if(Math.abs(a)>=45||o>.11)return Y(he.current),null==u.onDismiss||u.onDismiss.call(u,u),F("x"===M?s>0?"right":"left":r>0?"down":"up"),we(),void K(!0);var l,c;null==(l=te.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=te.current)||c.style.setProperty("--swipe-amount-y","0px"),G(!1),$(!1),O(null)},onPointerMove:t=>{var n,s,r;if(!fe.current||!ie)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const i=t.clientY-fe.current.y,a=t.clientX-fe.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}(A);!M&&(Math.abs(a)>1||Math.abs(i)>1)&&O(Math.abs(a)>Math.abs(i)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===M){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&i<0||l.includes("bottom")&&i>0)c.y=i;else{const e=i*d(i);c.y=Math.abs(e)<Math.abs(i)?e:i}}else if("x"===M&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{const e=a*d(a);c.x=Math.abs(e)<Math.abs(a)?e:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&G(!0),null==(s=te.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(r=te.current)||r.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ce&&!u.jsx&&"loading"!==re?at.createElement("button",{"aria-label":R,"data-disabled":be,"data-close-button":!0,onClick:be||!ie?()=>{}:()=>{we(),null==u.onDismiss||u.onDismiss.call(u,u)},className:Ot(null==P?void 0:P.closeButton,null==u||null==(s=u.classNames)?void 0:s.closeButton)},null!=(ke=null==D?void 0:D.close)?ke:Tt):null,(re||u.icon||u.promise)&&null!==u.icon&&(null!==(null==D?void 0:D[re])||u.icon)?at.createElement("div",{"data-icon":"",className:Ot(null==P?void 0:P.icon,null==u||null==(r=u.classNames)?void 0:r.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||((null==D?void 0:D.loading)?at.createElement("div",{className:Ot(null==P?void 0:P.loader,null==u||null==(Se=u.classNames)?void 0:Se.loader,"sonner-loader"),"data-visible":"loading"===re},D.loading):at.createElement(jt,{className:Ot(null==P?void 0:P.loader,null==u||null==(Ce=u.classNames)?void 0:Ce.loader),visible:"loading"===re})):null,"loading"!==u.type?je:null):null,at.createElement("div",{"data-content":"",className:Ot(null==P?void 0:P.content,null==u||null==(i=u.classNames)?void 0:i.content)},at.createElement("div",{"data-title":"",className:Ot(null==P?void 0:P.title,null==u||null==(a=u.classNames)?void 0:a.title)},u.jsx?u.jsx:"function"==typeof u.title?u.title():u.title),u.description?at.createElement("div",{"data-description":"",className:Ot(T,oe,null==P?void 0:P.description,null==u||null==(o=u.classNames)?void 0:o.description)},"function"==typeof u.description?u.description():u.description):null),at.isValidElement(u.cancel)?u.cancel:u.cancel&&Dt(u.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||k,onClick:e=>{Dt(u.cancel)&&ie&&(null==u.cancel.onClick||u.cancel.onClick.call(u.cancel,e),we())},className:Ot(null==P?void 0:P.cancelButton,null==u||null==(l=u.classNames)?void 0:l.cancelButton)},u.cancel.label):null,at.isValidElement(u.action)?u.action:u.action&&Dt(u.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||C,onClick:e=>{Dt(u.action)&&(null==u.action.onClick||u.action.onClick.call(u.action,e),e.defaultPrevented||we())},className:Ot(null==P?void 0:P.actionButton,null==u||null==(c=u.classNames)?void 0:c.actionButton)},u.action.label):null)};function Ft(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ut(e,t){const n={};return[e,t].forEach(((e,t)=>{const s=1===t,r=s?"--mobile-offset":"--offset",i=s?"16px":"24px";function a(e){["top","right","bottom","left"].forEach((t=>{n[`${r}-${t}`]="number"==typeof e?`${e}px`:e}))}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach((t=>{void 0===e[t]?n[`${r}-${t}`]=i:n[`${r}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]})):a(i)})),n}const zt=at.forwardRef((function(e,t){const{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:h,style:m,visibleToasts:f=Rt,toastOptions:p,dir:g=Ft(),gap:x=Mt,icons:y,containerAriaLabel:v="Notifications"}=e,[b,w]=at.useState([]),j=at.useMemo((()=>Array.from(new Set([s].concat(b.filter((e=>e.position)).map((e=>e.position)))))),[b,s]),[N,k]=at.useState([]),[C,S]=at.useState(!1),[T,E]=at.useState(!1),[A,I]=at.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=at.useRef(null),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=at.useRef(null),R=at.useRef(!1),M=at.useCallback((e=>{w((t=>{var n;return(null==(n=t.find((t=>t.id===e.id)))?void 0:n.delete)||At.dismiss(e.id),t.filter((({id:t})=>t!==e.id))}))}),[]);return at.useEffect((()=>At.subscribe((e=>{e.dismiss?requestAnimationFrame((()=>{w((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t))))})):setTimeout((()=>{ot.flushSync((()=>{w((t=>{const n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[b]),at.useEffect((()=>{if("system"!==d)return void I(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",(({matches:e})=>{I(e?"dark":"light")}))}catch(t){e.addListener((({matches:e})=>{try{I(e?"dark":"light")}catch(Tv){}}))}}),[d]),at.useEffect((()=>{b.length<=1&&S(!1)}),[b]),at.useEffect((()=>{const e=e=>{var t;var n;r.every((t=>e[t]||e.code===t))&&(S(!0),null==(n=_.current)||n.focus());"Escape"!==e.code||document.activeElement!==_.current&&!(null==(t=_.current)?void 0:t.contains(document.activeElement))||S(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),at.useEffect((()=>{if(_.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,R.current=!1)}}),[_.current]),at.createElement("section",{ref:t,"aria-label":`${v} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map(((t,s)=>{var r;const[d,v]=t.split("-");return b.length?at.createElement("ol",{key:t,dir:"auto"===g?Ft():g,tabIndex:-1,ref:_,className:o,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":d,"data-lifted":C&&b.length>1&&!i,"data-x-position":v,style:{"--front-toast-height":`${(null==(r=N[0])?void 0:r.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...Ut(l,c)},onBlur:e=>{R.current&&!e.currentTarget.contains(e.relatedTarget)&&(R.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R.current||(R.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{T||S(!1)},onDragEnd:()=>S(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||E(!0)},onPointerUp:()=>E(!1)},b.filter((e=>!e.position&&0===s||e.position===t)).map(((s,r)=>{var o,l;return at.createElement(Lt,{key:s.id,icons:y,index:r,toast:s,defaultRichColors:u,duration:null!=(o=null==p?void 0:p.duration)?o:h,className:null==p?void 0:p.className,descriptionClassName:null==p?void 0:p.descriptionClassName,invert:n,visibleToasts:f,closeButton:null!=(l=null==p?void 0:p.closeButton)?l:a,interacting:T,position:t,style:null==p?void 0:p.style,unstyled:null==p?void 0:p.unstyled,classNames:null==p?void 0:p.classNames,cancelButtonStyle:null==p?void 0:p.cancelButtonStyle,actionButtonStyle:null==p?void 0:p.actionButtonStyle,closeButtonAriaLabel:null==p?void 0:p.closeButtonAriaLabel,removeToast:M,toasts:b.filter((e=>e.position==s.position)),heights:N.filter((e=>e.position==s.position)),setHeights:k,expandByDefault:i,gap:x,expanded:C,swipeDirections:e.swipeDirections})}))):null})))}));var Vt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bt="undefined"==typeof window||"Deno"in globalThis;function qt(){}function $t(e,t){return"function"==typeof e?e(t):e}function Ht(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=e;if(a)if(s){if(t.queryHash!==Wt(a,t.options))return!1}else if(!Qt(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!r||r===t.state.fetchStatus)&&!(i&&!i(t)))}function Kt(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Gt(t.options.mutationKey)!==Gt(i))return!1}else if(!Qt(t.options.mutationKey,i))return!1}return(!s||t.state.status===s)&&!(r&&!r(t))}function Wt(e,t){return((null==t?void 0:t.queryKeyHashFn)||Gt)(e)}function Gt(e){return JSON.stringify(e,((e,t)=>Jt(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function Qt(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((n=>Qt(e[n],t[n]))))}function Yt(e,t){if(e===t)return e;const n=Xt(e)&&Xt(t);if(n||Jt(e)&&Jt(t)){const s=n?e:Object.keys(e),r=s.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const r=n?c:i[c];(!n&&s.includes(r)||n)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,l++):(o[r]=Yt(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&l++)}return r===a&&l===r?e:o}return t}function Xt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jt(e){if(!Zt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Zt(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Zt(e){return"[object Object]"===Object.prototype.toString.call(e)}function en(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Yt(e,t):t}function tn(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function nn(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var sn=Symbol();function rn(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==sn?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var an=new(s=class extends Vt{constructor(){super(),W(this,e),W(this,t),W(this,n),G(this,n,(e=>{if(!Bt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){K(this,t)||this.setEventListener(K(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=K(this,t))||e.call(this),G(this,t,void 0))}setEventListener(e){var s;G(this,n,e),null==(s=K(this,t))||s.call(this),G(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){K(this,e)!==t&&(G(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof K(this,e)?K(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,s),on=new(o=class extends Vt{constructor(){super(),W(this,r,!0),W(this,i),W(this,a),G(this,a,(e=>{if(!Bt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){K(this,i)||this.setEventListener(K(this,a))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=K(this,i))||e.call(this),G(this,i,void 0))}setEventListener(e){var t;G(this,a,e),null==(t=K(this,i))||t.call(this),G(this,i,e(this.setOnline.bind(this)))}setOnline(e){K(this,r)!==e&&(G(this,r,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return K(this,r)}},r=new WeakMap,i=new WeakMap,a=new WeakMap,o);function ln(e){return Math.min(1e3*2**e,3e4)}function cn(e){return"online"!==(e??"online")||on.isOnline()}var dn=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function un(e){return e instanceof dn}function hn(e){let t,n=!1,s=0,r=!1;const i=function(){let e,t;const n=new Promise(((n,s)=>{e=n,t=s}));function s(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},n.reject=e=>{s({status:"rejected",reason:e}),t(e)},n}(),a=()=>an.isFocused()&&("always"===e.networkMode||on.isOnline())&&e.canRun(),o=()=>cn(e.networkMode)&&e.canRun(),l=n=>{var s;r||(r=!0,null==(s=e.onSuccess)||s.call(e,n),null==t||t(),i.resolve(n))},c=n=>{var s;r||(r=!0,null==(s=e.onError)||s.call(e,n),null==t||t(),i.reject(n))},d=()=>new Promise((n=>{var s;t=e=>{(r||a())&&n(e)},null==(s=e.onPause)||s.call(e)})).then((()=>{var n;t=void 0,r||null==(n=e.onContinue)||n.call(e)})),u=()=>{if(r)return;let t;const i=0===s?e.initialPromise:void 0;try{t=i??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{var i;if(r)return;const o=e.retry??(Bt?0:3),l=e.retryDelay??ln,h="function"==typeof l?l(s,t):l,m=!0===o||"number"==typeof o&&s<o||"function"==typeof o&&o(s,t);var f;!n&&m?(s++,null==(i=e.onFail)||i.call(e,s,t),(f=h,new Promise((e=>{setTimeout(e,f)}))).then((()=>a()?void 0:d())).then((()=>{n?c(t):u()}))):c(t)}))};return{promise:i,cancel:t=>{var n;r||(c(new dn(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?u():d().then(u),i)}}var mn=e=>setTimeout(e,0);var fn=function(){let e=[],t=0,n=e=>{e()},s=e=>{e()},r=mn;const i=s=>{t?e.push(s):r((()=>{n(s)}))};return{batch:i=>{let a;t++;try{a=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&r((()=>{s((()=>{t.forEach((e=>{n(e)}))}))}))})()}return a},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{r=e}}}(),pn=(c=class{constructor(){W(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&G(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bt?1/0:3e5))}clearGcTimeout(){K(this,l)&&(clearTimeout(K(this,l)),G(this,l,void 0))}},l=new WeakMap,c),gn=(v=class extends pn{constructor(e){super(),W(this,x),W(this,d),W(this,u),W(this,h),W(this,m),W(this,f),W(this,p),W(this,g),G(this,g,!1),G(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,m,e.client),G(this,h,K(this,m).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,s=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??K(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=K(this,f))?void 0:e.promise}setOptions(e){this.options={...K(this,p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||K(this,h).remove(this)}setData(e,t){const n=en(this.state.data,e,this.options);return Q(this,x,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){Q(this,x,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const s=null==(t=K(this,f))?void 0:t.promise;return null==(n=K(this,f))||n.cancel(e),s?s.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,d))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=K(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=K(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(K(this,f)&&(K(this,g)?K(this,f).cancel({revert:!0}):K(this,f).cancelRetry()),this.scheduleGc()),K(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,x,y).call(this,{type:"invalidate"})}fetch(e,t){var n,s,r;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(K(this,f))return K(this,f).continueRetry(),K(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const i=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(G(this,g,!0),i.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:K(this,m),state:this.state,fetchFn:()=>{const e=rn(this.options,t),n={client:K(this,m),queryKey:this.queryKey,meta:this.meta};return a(n),G(this,g,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};a(o),null==(n=this.options.behavior)||n.onFetch(o,this),G(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=o.fetchOptions)?void 0:s.meta)||Q(this,x,y).call(this,{type:"fetch",meta:null==(r=o.fetchOptions)?void 0:r.meta});const l=e=>{var t,n,s,r;un(e)&&e.silent||Q(this,x,y).call(this,{type:"error",error:e}),un(e)||(null==(n=(t=K(this,h).config).onError)||n.call(t,e,this),null==(r=(s=K(this,h).config).onSettled)||r.call(s,this.state.data,e,this)),this.scheduleGc()};return G(this,f,hn({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,s,r;if(void 0!==e){try{this.setData(e)}catch(i){return void l(i)}null==(n=(t=K(this,h).config).onSuccess)||n.call(t,e,this),null==(r=(s=K(this,h).config).onSettled)||r.call(s,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{Q(this,x,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Q(this,x,y).call(this,{type:"pause"})},onContinue:()=>{Q(this,x,y).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),K(this,f).start()}},d=new WeakMap,u=new WeakMap,h=new WeakMap,m=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,x=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,s=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cn(s.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return un(r)&&r.revert&&K(this,u)?{...K(this,u),fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,s})(this.state),fn.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),K(this,h).notify({query:this,type:"updated",action:e})}))},v);var xn=(w=class extends Vt{constructor(e={}){super(),W(this,b),this.config=e,G(this,b,new Map)}build(e,t,n){const s=t.queryKey,r=t.queryHash??Wt(s,t);let i=this.get(r);return i||(i=new gn({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){K(this,b).has(e.queryHash)||(K(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=K(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&K(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fn.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return K(this,b).get(e)}getAll(){return[...K(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Ht(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Ht(e,t))):t}notify(e){fn.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){fn.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){fn.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),yn=(T=class extends pn{constructor(e){super(),W(this,C),W(this,j),W(this,N),W(this,k),this.mutationId=e.mutationId,G(this,N,e.mutationCache),G(this,j,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,j).includes(e)||(K(this,j).push(e),this.clearGcTimeout(),K(this,N).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,j,K(this,j).filter((t=>t!==e))),this.scheduleGc(),K(this,N).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,j).length||("pending"===this.state.status?this.scheduleGc():K(this,N).remove(this))}continue(){var e;return(null==(e=K(this,k))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,s,r,i,a,o,l,c,d,u,h,m,f,p,g,x,y,v,b;const w=()=>{Q(this,C,S).call(this,{type:"continue"})};G(this,k,hn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Q(this,C,S).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Q(this,C,S).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,N).canRun(this)}));const j="pending"===this.state.status,T=!K(this,k).canStart();try{if(j)w();else{Q(this,C,S).call(this,{type:"pending",variables:e,isPaused:T}),await(null==(n=(t=K(this,N).config).onMutate)?void 0:n.call(t,e,this));const i=await(null==(r=(s=this.options).onMutate)?void 0:r.call(s,e));i!==this.state.context&&Q(this,C,S).call(this,{type:"pending",context:i,variables:e,isPaused:T})}const m=await K(this,k).start();return await(null==(a=(i=K(this,N).config).onSuccess)?void 0:a.call(i,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(d=(c=K(this,N).config).onSettled)?void 0:d.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(h=(u=this.options).onSettled)?void 0:h.call(u,m,null,e,this.state.context)),Q(this,C,S).call(this,{type:"success",data:m}),m}catch(E){try{throw await(null==(f=(m=K(this,N).config).onError)?void 0:f.call(m,E,e,this.state.context,this)),await(null==(g=(p=this.options).onError)?void 0:g.call(p,E,e,this.state.context)),await(null==(y=(x=K(this,N).config).onSettled)?void 0:y.call(x,void 0,E,this.state.variables,this.state.context,this)),await(null==(b=(v=this.options).onSettled)?void 0:b.call(v,void 0,E,e,this.state.context)),E}finally{Q(this,C,S).call(this,{type:"error",error:E})}}finally{K(this,N).runNext(this)}}},j=new WeakMap,N=new WeakMap,k=new WeakMap,C=new WeakSet,S=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),fn.batch((()=>{K(this,j).forEach((t=>{t.onMutationUpdate(e)})),K(this,N).notify({mutation:this,type:"updated",action:e})}))},T);var vn=(_=class extends Vt{constructor(e={}){super(),W(this,E),W(this,A),W(this,I),this.config=e,G(this,E,new Set),G(this,A,new Map),G(this,I,0)}build(e,t,n){const s=new yn({mutationCache:this,mutationId:++Y(this,I)._,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){K(this,E).add(e);const t=bn(e);if("string"==typeof t){const n=K(this,A).get(t);n?n.push(e):K(this,A).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,E).delete(e)){const t=bn(e);if("string"==typeof t){const n=K(this,A).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&K(this,A).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bn(e);if("string"==typeof t){const n=K(this,A).get(t),s=null==n?void 0:n.find((e=>"pending"===e.state.status));return!s||s===e}return!0}runNext(e){var t;const n=bn(e);if("string"==typeof n){const s=null==(t=K(this,A).get(n))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==s?void 0:s.continue())??Promise.resolve()}return Promise.resolve()}clear(){fn.batch((()=>{K(this,E).forEach((e=>{this.notify({type:"removed",mutation:e})})),K(this,E).clear(),K(this,A).clear()}))}getAll(){return Array.from(K(this,E))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Kt(t,e)))}findAll(e={}){return this.getAll().filter((t=>Kt(e,t)))}notify(e){fn.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return fn.batch((()=>Promise.all(e.map((e=>e.continue().catch(qt))))))}},E=new WeakMap,A=new WeakMap,I=new WeakMap,_);function bn(e){var t;return null==(t=e.options.scope)?void 0:t.id}function wn(e){return{onFetch:(t,n)=>{var s,r,i,a,o;const l=t.options,c=null==(i=null==(r=null==(s=t.fetchOptions)?void 0:s.meta)?void 0:r.fetchMore)?void 0:i.direction,d=(null==(a=t.state.data)?void 0:a.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const f=async()=>{let n=!1;const s=rn(t.options,t.fetchOptions),r=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const a={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var o;o=a,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await s(a),{maxPages:c}=t.options,d=i?nn:tn;return{pages:d(e.pages,l,c),pageParams:d(e.pageParams,r,c)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},n=(e?Nn:jn)(l,t);h=await r(t,n,e)}else{const t=e??d.length;do{const e=0===m?u[0]??l.initialPageParam:jn(l,h);if(m>0&&null==e)break;h=await r(h,e),m++}while(m<t)}return h};t.options.persister?t.fetchFn=()=>{var e,s;return null==(s=(e=t.options).persister)?void 0:s.call(e,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function jn(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Nn(e,{pages:t,pageParams:n}){var s;return t.length>0?null==(s=e.getPreviousPageParam)?void 0:s.call(e,t[0],t,n[0],n):void 0}var kn=(z=class{constructor(e={}){W(this,P),W(this,D),W(this,R),W(this,M),W(this,O),W(this,L),W(this,F),W(this,U),G(this,P,e.queryCache||new xn),G(this,D,e.mutationCache||new vn),G(this,R,e.defaultOptions||{}),G(this,M,new Map),G(this,O,new Map),G(this,L,0)}mount(){Y(this,L)._++,1===K(this,L)&&(G(this,F,an.subscribe((async e=>{e&&(await this.resumePausedMutations(),K(this,P).onFocus())}))),G(this,U,on.subscribe((async e=>{e&&(await this.resumePausedMutations(),K(this,P).onOnline())}))))}unmount(){var e,t;Y(this,L)._--,0===K(this,L)&&(null==(e=K(this,F))||e.call(this),G(this,F,void 0),null==(t=K(this,U))||t.call(this),G(this,U,void 0))}isFetching(e){return K(this,P).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,D).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=K(this,P).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=K(this,P).build(this,t),s=n.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($t(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return K(this,P).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=K(this,P).get(s.queryHash),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==r?void 0:r.state.data);if(void 0!==i)return K(this,P).build(this,s).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return fn.batch((()=>K(this,P).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=K(this,P).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=K(this,P);fn.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=K(this,P);return fn.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},s=fn.batch((()=>K(this,P).findAll(e).map((e=>e.cancel(n)))));return Promise.all(s).then(qt).catch(qt)}invalidateQueries(e,t={}){return fn.batch((()=>(K(this,P).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=fn.batch((()=>K(this,P).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(qt)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(s).then(qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=K(this,P).build(this,t);return n.isStaleByTime($t(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=wn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=wn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return on.isOnline()?K(this,D).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,P)}getMutationCache(){return K(this,D)}getDefaultOptions(){return K(this,R)}setDefaultOptions(e){G(this,R,e)}setQueryDefaults(e,t){K(this,M).set(Gt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,M).values()],n={};return t.forEach((t=>{Qt(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){K(this,O).set(Gt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,O).values()],n={};return t.forEach((t=>{Qt(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,R).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sn&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...K(this,R).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,P).clear(),K(this,D).clear()}},P=new WeakMap,D=new WeakMap,R=new WeakMap,M=new WeakMap,O=new WeakMap,L=new WeakMap,F=new WeakMap,U=new WeakMap,z),Cn=lt.createContext(void 0),Sn=({client:e,children:t})=>(lt.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),X.jsx(Cn.Provider,{value:e,children:t}));var Tn={};const En=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&s+1<e.length&&56320==(64512&e.charCodeAt(s+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++s)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},An={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const t=e[r],i=r+1<e.length,a=i?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,d=(3&t)<<4|a>>4;let u=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(u=64)),s.push(n[c],n[d],n[u],n[h])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(En(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[s++]=String.fromCharCode(55296+(i>>10)),t[s++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],i=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==i||null==a||null==o)throw new In;const l=t<<2|i>>4;if(s.push(l),64!==a){const e=i<<4&240|a>>2;if(s.push(e),64!==o){const e=a<<6&192|o;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class In extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _n=function(e){return function(e){const t=En(e);return An.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pn=function(e){try{return An.decodeString(e,!0)}catch(Tv){}return null};const Dn=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Rn=()=>{try{return Dn()||(()=>{if("undefined"==typeof process)return;const e=Tn.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Tv){return}const t=e&&Pn(e[1]);return t&&JSON.parse(t)})()}catch(Tv){return}},Mn=e=>{var t,n;return null===(n=null===(t=Rn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},On=e=>{const t=Mn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Ln=()=>{var e;return null===(e=Rn())||void 0===e?void 0:e.config},Fn=e=>{var t;return null===(t=Rn())||void 0===t?void 0:t[`_${e}`]};class Un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function zn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_n(JSON.stringify({alg:"none",type:"JWT"})),_n(JSON.stringify(i)),""].join(".")}function Vn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bn(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function qn(){return!function(){var e;const t=null===(e=Rn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Tv){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $n(){try{return"object"==typeof indexedDB}catch(Tv){return!1}}function Hn(){return new Promise(((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Kn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}}class Wn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Gn,((e,n)=>{const s=t[n];return null!=s?String(s):`<${n}?>`}))}(r,n):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Kn(s,a,n)}}const Gn=/\{\$([^}]+)}/g;function Qn(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const n=e[r],i=t[r];if(Yn(n)&&Yn(i)){if(!Qn(n,i))return!1}else if(n!==i)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Yn(e){return null!==e&&"object"==typeof e}function Xn(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Jn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,s]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}})),t}function Zn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class es{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let s;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");s=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===s.next&&(s.next=ts),void 0===s.error&&(s.error=ts),void 0===s.complete&&(s.complete=ts);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(Tv){}})),this.observers.push(s),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Tv){"undefined"!=typeof console&&console.error}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ts(){}function ns(e,t=1e3,n=2){const s=t*Math.pow(n,e),r=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+r)}function ss(e){return e&&e._delegate?e._delegate:e}class rs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const is="[DEFAULT]";class as{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Un;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Tv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),s=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Tv){if(s)return null;throw Tv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch(Tv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Tv){}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&i.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(s))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(s=e,s===is?void 0:s),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}var s;return n||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class os{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new as(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ls,cs;(cs=ls||(ls={}))[cs.DEBUG=0]="DEBUG",cs[cs.VERBOSE=1]="VERBOSE",cs[cs.INFO=2]="INFO",cs[cs.WARN=3]="WARN",cs[cs.ERROR=4]="ERROR",cs[cs.SILENT=5]="SILENT";const ds={debug:ls.DEBUG,verbose:ls.VERBOSE,info:ls.INFO,warn:ls.WARN,error:ls.ERROR,silent:ls.SILENT},us=ls.INFO,hs={[ls.DEBUG]:"log",[ls.VERBOSE]:"log",[ls.INFO]:"info",[ls.WARN]:"warn",[ls.ERROR]:"error"},ms=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!hs[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fs{constructor(e){this.name=e,this._logLevel=us,this._logHandler=ms,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ls))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ds[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ls.DEBUG,...e),this._logHandler(this,ls.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ls.VERBOSE,...e),this._logHandler(this,ls.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ls.INFO,...e),this._logHandler(this,ls.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ls.WARN,...e),this._logHandler(this,ls.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ls.ERROR,...e),this._logHandler(this,ls.ERROR,...e)}}let ps,gs;const xs=new WeakMap,ys=new WeakMap,vs=new WeakMap,bs=new WeakMap,ws=new WeakMap;let js={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ys.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ns(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gs||(gs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Ss(this),t),Cs(xs.get(this))}:function(...t){return Cs(e.apply(Ss(this),t))}:function(t,...n){const s=e.call(Ss(this),t,...n);return vs.set(s,t.sort?t.sort():[t]),Cs(s)}}function ks(e){return"function"==typeof e?Ns(e):(e instanceof IDBTransaction&&function(e){if(ys.has(e))return;const t=new Promise(((t,n)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",i),e.removeEventListener("abort",i)},r=()=>{t(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",i),e.addEventListener("abort",i)}));ys.set(e,t)}(e),t=e,(ps||(ps=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,js):e);var t}function Cs(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",i)},r=()=>{t(Cs(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&xs.set(t,e)})).catch((()=>{})),ws.set(t,e),t}(e);if(bs.has(e))return bs.get(e);const t=ks(e);return t!==e&&(bs.set(e,t),ws.set(t,e)),t}const Ss=e=>ws.get(e);function Ts(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(e,t),o=Cs(a);return s&&a.addEventListener("upgradeneeded",(e=>{s(Cs(a.result),e.oldVersion,e.newVersion,Cs(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Es=["get","getKey","getAll","getAllKeys","count"],As=["put","add","delete","clear"],Is=new Map;function _s(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Is.get(t))return Is.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=As.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!Es.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,r?"readwrite":"readonly");let a=i.store;return s&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),r&&i.done]))[0]};return Is.set(t,i),i}js=(e=>({...e,get:(t,n,s)=>_s(t,n)||e.get(t,n,s),has:(t,n)=>!!_s(t,n)||e.has(t,n)}))(js);class Ps{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ds="@firebase/app",Rs="0.11.5",Ms=new fs("@firebase/app"),Os="@firebase/app-compat",Ls="@firebase/analytics-compat",Fs="@firebase/analytics",Us="@firebase/app-check-compat",zs="@firebase/app-check",Vs="@firebase/auth",Bs="@firebase/auth-compat",qs="@firebase/database",$s="@firebase/data-connect",Hs="@firebase/database-compat",Ks="@firebase/functions",Ws="@firebase/functions-compat",Gs="@firebase/installations",Qs="@firebase/installations-compat",Ys="@firebase/messaging",Xs="@firebase/messaging-compat",Js="@firebase/performance",Zs="@firebase/performance-compat",er="@firebase/remote-config",tr="@firebase/remote-config-compat",nr="@firebase/storage",sr="@firebase/storage-compat",rr="@firebase/firestore",ir="@firebase/vertexai",ar="@firebase/firestore-compat",or="firebase",lr="[DEFAULT]",cr={[Ds]:"fire-core",[Os]:"fire-core-compat",[Fs]:"fire-analytics",[Ls]:"fire-analytics-compat",[zs]:"fire-app-check",[Us]:"fire-app-check-compat",[Vs]:"fire-auth",[Bs]:"fire-auth-compat",[qs]:"fire-rtdb",[$s]:"fire-data-connect",[Hs]:"fire-rtdb-compat",[Ks]:"fire-fn",[Ws]:"fire-fn-compat",[Gs]:"fire-iid",[Qs]:"fire-iid-compat",[Ys]:"fire-fcm",[Xs]:"fire-fcm-compat",[Js]:"fire-perf",[Zs]:"fire-perf-compat",[er]:"fire-rc",[tr]:"fire-rc-compat",[nr]:"fire-gcs",[sr]:"fire-gcs-compat",[rr]:"fire-fst",[ar]:"fire-fst-compat",[ir]:"fire-vertex","fire-js":"fire-js",[or]:"fire-js-all"},dr=new Map,ur=new Map,hr=new Map;function mr(e,t){try{e.container.addComponent(t)}catch(Tv){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Tv)}}function fr(e){const t=e.name;if(hr.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;hr.set(t,e);for(const n of dr.values())mr(n,e);for(const n of ur.values())mr(n,e);return!0}function pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gr(e){return null!=e&&void 0!==e.settings}const xr=new Wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const vr="11.6.1";function br(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const s=Object.assign({name:lr,automaticDataCollectionEnabled:!1},t),r=s.name;if("string"!=typeof r||!r)throw xr.create("bad-app-name",{appName:String(r)});if(n||(n=Ln()),!n)throw xr.create("no-options");const i=dr.get(r);if(i){if(Qn(n,i.options)&&Qn(s,i.config))return i;throw xr.create("duplicate-app",{appName:r})}const a=new os(r);for(const l of hr.values())a.addComponent(l);const o=new yr(n,s,a);return dr.set(r,o),o}function wr(e=lr){const t=dr.get(e);if(!t&&e===lr&&Ln())return br();if(!t)throw xr.create("no-app",{appName:e});return t}function jr(e,t,n){var s;let r=null!==(s=cr[e])&&void 0!==s?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ms.warn(e.join(" "))}fr(new rs(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const Nr="firebase-heartbeat-store";let kr=null;function Cr(){return kr||(kr=Ts("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Nr)}catch(Tv){}}}).catch((e=>{throw xr.create("idb-open",{originalErrorMessage:e.message})}))),kr}async function Sr(e,t){try{const n=(await Cr()).transaction(Nr,"readwrite"),s=n.objectStore(Nr);await s.put(t,Tr(e)),await n.done}catch(Tv){if(Tv instanceof Kn)Ms.warn(Tv.message);else{const t=xr.create("idb-set",{originalErrorMessage:null==Tv?void 0:Tv.message});Ms.warn(t.message)}}}function Tr(e){return`${e.name}!${e.options.appId}`}class Er{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ir(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ar();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some((e=>e.date===s)))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Tv){Ms.warn(Tv)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ar(),{heartbeatsToSend:n,unsentEntries:s}=function(e,t=1024){const n=[];let s=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),_r(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_r(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=_n(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(Tv){return Ms.warn(Tv),""}}}function Ar(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$n()&&Hn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Cr()).transaction(Nr),n=await t.objectStore(Nr).get(Tr(e));return await t.done,n}catch(Tv){if(Tv instanceof Kn)Ms.warn(Tv.message);else{const t=xr.create("idb-get",{originalErrorMessage:null==Tv?void 0:Tv.message});Ms.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _r(e){return _n(JSON.stringify({version:2,heartbeats:e})).length}var Pr;function Dr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Pr="",fr(new rs("platform-logger",(e=>new Ps(e)),"PRIVATE")),fr(new rs("heartbeat",(e=>new Er(e)),"PRIVATE")),jr(Ds,Rs,Pr),jr(Ds,Rs,"esm2017"),jr("fire-js","");const Rr=Dr,Mr=new Wn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Or=new fs("@firebase/auth");function Lr(e,...t){Or.logLevel<=ls.ERROR&&Or.error(`Auth (${vr}): ${e}`,...t)}function Fr(e,...t){throw Br(e,...t)}function Ur(e,...t){return Br(e,...t)}function zr(e,t,n){const s=Object.assign(Object.assign({},Rr()),{[t]:n});return new Wn("auth","Firebase",s).create(t,{appName:e.name})}function Vr(e){return zr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Br(e,...t){if("string"!=typeof e){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Mr.create(e,...t)}function qr(e,t,...n){if(!e)throw Br(t,...n)}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lr(t),new Error(t)}function Hr(e,t){e||$r(t)}function Kr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Gr(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Wr()&&"https:"!==Wr()&&!Bn()&&!("connection"in navigator)||navigator.onLine}class Qr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Gr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yr(e,t){Hr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Xr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ei=new Qr(3e4,6e4);function ti(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ni(e,t,n,s,r={}){return si(e,r,(async()=>{let r={},i={};s&&("GET"===t?i=s:r={body:JSON.stringify(s)});const a=Xn(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},r);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Xr.fetch()(await ii(e,e.config.apiHost,n,a),l)}))}async function si(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},Jr),t);try{const t=new oi(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await r.json();if("needConfirmation"in i)throw li(e,"account-exists-with-different-credential",i);if(r.ok&&!("errorMessage"in i))return i;{const t=r.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw li(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw li(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw li(e,"user-disabled",i);const o=s[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zr(e,o,a);Fr(e,o)}}catch(Tv){if(Tv instanceof Kn)throw Tv;Fr(e,"network-request-failed",{message:String(Tv)})}}async function ri(e,t,n,s,r={}){const i=await ni(e,t,n,s,r);return"mfaPendingCredential"in i&&Fr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function ii(e,t,n,s){const r=`${t}${n}?${s}`,i=e,a=i.config.emulator?Yr(e.config,r):`${e.config.apiScheme}://${r}`;if(Zr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function ai(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ur(this.auth,"network-request-failed"))),ei.get())}))}}function li(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Ur(e,t,s);return r.customData._tokenResponse=n,r}function ci(e){return void 0!==e&&void 0!==e.enterprise}class di{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ai(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ui(e,t){return ni(e,"POST","/v1/accounts:lookup",t)}function hi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Tv){}}function mi(e){return 1e3*Number(e)}function fi(e){const[t,n,s]=e.split(".");if(void 0===t||void 0===n||void 0===s)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pn(n);return e?JSON.parse(e):(Lr("Failed to decode base64 JWT payload"),null)}catch(Tv){return Lr("Caught error parsing JWT payload as JSON",null==Tv?void 0:Tv.toString()),null}}function pi(e){const t=fi(e);return qr(t,"internal-error"),qr(void 0!==t.exp,"internal-error"),qr(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function gi(e,t,n=!1){if(n)return t;try{return await t}catch(Tv){throw Tv instanceof Kn&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(Tv)&&e.auth.currentUser===e&&await e.auth.signOut(),Tv}}class xi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Tv){return void("auth/network-request-failed"===(null==Tv?void 0:Tv.code)&&this.schedule(!0))}this.schedule()}}class yi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vi(e){var t;const n=e.auth,s=await e.getIdToken(),r=await gi(e,ui(n,{idToken:s}));qr(null==r?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?bi(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const d=e.isAnonymous,u=!(e.email&&i.passwordHash||(null==o?void 0:o.length)),h=!!d&&u,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yi(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function bi(e){return e.map((e=>{var{providerId:t}=e,n=J(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qr(e.idToken,"internal-error"),qr(void 0!==e.idToken,"internal-error"),qr(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):pi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qr(0!==e.length,"internal-error");const t=pi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(qr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:r}=await async function(e,t){const n=await si(e,{},(async()=>{const n=Xn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,i=await ii(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xr.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,s,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:r}=t,i=new wi;return n&&(qr("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),s&&(qr("string"==typeof s,"internal-error",{appName:e}),i.accessToken=s),r&&(qr("number"==typeof r,"internal-error",{appName:e}),i.expirationTime=r),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wi,this.toJSON())}_performRefresh(){return $r("not implemented")}}function ji(e,t){qr("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,r=J(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new yi(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await gi(this,this.stsTokenManager.getToken(this.auth,e));return qr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ss(e),s=await n.getIdToken(t),r=fi(s);qr(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i="object"==typeof r.firebase?r.firebase:void 0,a=null==i?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:hi(mi(r.auth_time)),issuedAtTime:hi(mi(r.iat)),expirationTime:hi(mi(r.exp)),signInProvider:a||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ss(e);await vi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await gi(this,async function(e,t){return ni(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,i,a,o,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(s=t.email)&&void 0!==s?s:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,x=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:v,isAnonymous:b,providerData:w,stsTokenManager:j}=t;qr(y&&j,e,"internal-error");const N=wi.fromJSON(this.name,j);qr("string"==typeof y,e,"internal-error"),ji(d,e.name),ji(u,e.name),qr("boolean"==typeof v,e,"internal-error"),qr("boolean"==typeof b,e,"internal-error"),ji(h,e.name),ji(m,e.name),ji(f,e.name),ji(p,e.name),ji(g,e.name),ji(x,e.name);const k=new Ni({uid:y,auth:e,email:u,emailVerified:v,displayName:d,isAnonymous:b,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:N,createdAt:g,lastLoginAt:x});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,t,n=!1){const s=new wi;s.updateFromServerResponse(t);const r=new Ni({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await vi(r),r}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];qr(void 0!==s.localId,"internal-error");const r=void 0!==s.providerUserInfo?bi(s.providerUserInfo):[],i=!(s.email&&s.passwordHash||(null==r?void 0:r.length)),a=new wi;a.updateFromIdToken(n);const o=new Ni({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new yi(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash||(null==r?void 0:r.length))};return Object.assign(o,l),o}}const ki=new Map;function Ci(e){Hr(e instanceof Function,"Expected a class definition");let t=ki.get(e);return t?(Hr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ki.set(e,t),t)}class Si{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Si.type="NONE";const Ti=Si;function Ei(e,t,n){return`firebase:${e}:${t}:${n}`}class Ai{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:r}=this.auth;this.fullUserKey=Ei(this.userKey,s.apiKey,r),this.fullPersistenceKey=Ei("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await ui(this.auth,{idToken:e}).catch((()=>{}));return t?Ni._fromGetAccountInfoResponse(this.auth,t,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ai(Ci(Ti),e,n);const s=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=s[0]||Ci(Ti);const i=Ei(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"==typeof t){const s=await ui(e,{idToken:t}).catch((()=>{}));if(!s)break;n=await Ni._fromGetAccountInfoResponse(e,s,t)}else n=Ni._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=s.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(i)}catch(l){}}))),new Ai(r,e,n)):new Ai(r,e,n)}}function Ii(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_i(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Oi(t))return"Blackberry";if(Li(t))return"Webos";if(Pi(t))return"Safari";if((t.includes("chrome/")||Di(t))&&!t.includes("edge/"))return"Chrome";if(Mi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function _i(e=Vn()){return/firefox\//i.test(e)}function Pi(e=Vn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Di(e=Vn()){return/crios\//i.test(e)}function Ri(e=Vn()){return/iemobile/i.test(e)}function Mi(e=Vn()){return/android/i.test(e)}function Oi(e=Vn()){return/blackberry/i.test(e)}function Li(e=Vn()){return/webos/i.test(e)}function Fi(e=Vn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ui(){return function(){const e=Vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function zi(e=Vn()){return Fi(e)||Mi(e)||Li(e)||Oi(e)||/windows phone/i.test(e)||Ri(e)}function Vi(e,t=[]){let n;switch(e){case"Browser":n=Ii(Vn());break;case"Worker":n=`${Ii(Vn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${s}`}class Bi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,s)=>{try{n(e(t))}catch(Tv){s(Tv)}}));n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Tv){t.reverse();for(const s of t)try{s()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==Tv?void 0:Tv.message})}}}class qi{constructor(e){var t,n,s,r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(s=o.containsLowercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class $i{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue((async()=>{var n,s,r;if(!this._deleted&&(this.persistenceManager=await Ai.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(s=this._popupRedirectResolver)||void 0===s?void 0:s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Tv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ui(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null==a?void 0:a.user)||(s=a.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(Tv){s=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Tv)))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Tv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vi(e)}catch(Tv){if("auth/network-request-failed"!==(null==Tv?void 0:Tv.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Vr(this));const t=e?ss(e):null;return t&&qr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return gr(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Vr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return ni(e,"GET","/v2/passwordPolicy",ti(e,t))}(this),t=new qi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ni(e,"POST","/v2/accounts:revokeToken",ti(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;qr(t,this,"argument-error"),this.redirectPersistenceManager=await Ai.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qr(a,this,"internal-error"),a.then((()=>{i||r(this.currentUser)})),"function"==typeof t){const r=e.addObserver(t,n,s);return()=>{i=!0,r()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Or.logLevel<=ls.WARN&&Or.warn(`Auth (${vr}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Hi(e){return ss(e)}class Ki{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new es(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return qr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gi(e){return Wi.loadJS(e)}class Qi{constructor(){this.enterprise=new Yi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Yi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Xi="NO_RECAPTCHA";class Ji{constructor(e){this.type="recaptcha-enterprise",this.auth=Hi(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return ni(e,"GET","/v2/recaptchaConfig",ti(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((s=>{if(void 0!==s.recaptchaKey){const n=new di(s);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function s(t,n,s){const r=window.grecaptcha;ci(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Xi)}))})):s(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Qi).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{n(this.auth).then((n=>{if(!t&&ci(window.grecaptcha))s(n,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Wi.recaptchaEnterpriseScript;0!==t.length&&(t+=n),Gi(t).then((()=>{s(n,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zi(e,t,n,s=!1,r=!1){const i=new Ji(e);let a;if(r)a=Xi;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ea(e,t,n,s,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Zi(e,t,n,"getOobCode"===n);return s(e,r)}return s(e,t).catch((async r=>{if("auth/missing-recaptcha-token"===r.code){const r=await Zi(e,t,n,"getOobCode"===n);return s(e,r)}return Promise.reject(r)}))}function ta(e,t,n){const s=Hi(e);qr(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const r=na(t),{host:i,port:a}=function(e){const t=na(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const e=r[1];return{host:e,port:sa(s.substr(e.length+1))}}{const[e,t]=s.split(":");return{host:e,port:sa(t)}}}(t),o={url:`${r}//${i}${null===a?"":`:${a}`}/`},l=Object.freeze({host:i,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!s._canInitEmulator)return qr(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void qr(Qn(o,s.config.emulator)&&Qn(l,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=o,s.emulatorConfig=l,s.settings.appVerificationDisabledForTesting=!0,function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function na(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ra{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function ia(e,t){return ni(e,"POST","/v1/accounts:signUp",t)}async function aa(e,t){return ri(e,"POST","/v1/accounts:signInWithPassword",ti(e,t))}async function oa(e,t){return async function(e,t){return ni(e,"POST","/v1/accounts:sendOobCode",ti(e,t))}(e,t)}class la extends ra{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new la(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new la(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ea(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",aa);case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ti(e,t))}(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ea(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ia);case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ti(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ca(e,t){return ri(e,"POST","/v1/accounts:signInWithIdp",ti(e,t))}class da extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,r=J(t,["providerId","signInMethod"]);if(!n||!s)return null;const i=new da(n,s);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return ca(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ca(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ca(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xn(t)}return e}}class ua{constructor(e){var t,n,s,r,i,a;const o=Jn(Zn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=o.mode)&&void 0!==s?s:null);qr(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Jn(Zn(e)).link,n=t?Jn(Zn(t)).deep_link_id:null,s=Jn(Zn(e)).deep_link_id;return(s?Jn(Zn(s)).link:null)||s||n||t||e}(e);try{return new ua(t)}catch(n){return null}}}class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,t){return la._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ua.parseLink(t);return qr(n,"argument-error"),la._fromEmailAndCode(e,n.code,n.tenantId)}}ha.PROVIDER_ID="password",ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ma{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fa extends ma{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pa extends fa{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch(t){return null}}}pa.FACEBOOK_SIGN_IN_METHOD="facebook.com",pa.PROVIDER_ID="facebook.com";class ga extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ga.credential(t,n)}catch(s){return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com",ga.PROVIDER_ID="google.com";class xa extends fa{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch(t){return null}}}xa.GITHUB_SIGN_IN_METHOD="github.com",xa.PROVIDER_ID="github.com";class ya extends fa{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ya.credential(t,n)}catch(s){return null}}}async function va(e,t){return ri(e,"POST","/v1/accounts:signUp",ti(e,t))}ya.TWITTER_SIGN_IN_METHOD="twitter.com",ya.PROVIDER_ID="twitter.com";class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const r=await Ni._fromIdTokenResponse(e,n,s),i=wa(n);return new ba({user:r,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=wa(n);return new ba({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function wa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ja extends Kn{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,ja.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new ja(e,t,n,s)}}function Na(e,t,n,s){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ja._fromErrorAndOperation(e,n,t,s);throw n}))}async function ka(e,t,n=!1){if(gr(e.app))return Promise.reject(Vr(e));const s="signIn",r=await Na(e,s,t),i=await ba._fromIdTokenResponse(e,s,r);return n||await e._updateCurrentUser(i.user),i}async function Ca(e){const t=Hi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Sa(e,t,n){return gr(e.app)?Promise.reject(Vr(e)):async function(e,t){return ka(Hi(e),t)}(ss(e),ha.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ca(e),t}))}async function Ta(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const s=ss(e),r={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},i=await gi(s,async function(e,t){return ni(e,"POST","/v1/accounts:update",t)}(s.auth,r));s.displayName=i.displayName||null,s.photoURL=i.photoUrl||null;const a=s.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(i)}function Ea(e,t){const n=ss(e);return gr(n.auth.app)?Promise.reject(Vr(n.auth)):async function(e,t){const{auth:n}=e,s=await e.getIdToken(),r={idToken:s,returnSecureToken:!0};t&&(r.email=t);const i=await gi(e,async function(e,t){return ni(e,"POST","/v1/accounts:update",t)}(n,r));await e._updateTokensIfNecessary(i,!0)}(n,t)}const Aa="__sak";class Ia{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _a extends Ia{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Ui()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,10):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_a.type="LOCAL";const Pa=_a;class Da extends Ia{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Da.type="SESSION";const Ra=Da;class Ma{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ma(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:r}=t.data,i=this.handlersMap[s];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(i).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Oa(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(10*Math.random());return e+n}Ma.receivers=[];class La{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,i;return new Promise(((a,o)=>{const l=Oa("",20);s.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:s,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Fa(){return window}function Ua(){return void 0!==Fa().WorkerGlobalScope&&"function"==typeof Fa().importScripts}const za="firebaseLocalStorageDb",Va="firebaseLocalStorage",Ba="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $a(e,t){return e.transaction([Va],t?"readwrite":"readonly").objectStore(Va)}function Ha(){const e=indexedDB.open(za,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Va,{keyPath:Ba})}catch(Tv){n(Tv)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Va)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(za);return new qa(e).toPromise()}(),t(await Ha()))}))}))}async function Ka(e,t,n){const s=$a(e,!0).put({[Ba]:t,value:n});return new qa(s).toPromise()}function Wa(e,t){const n=$a(e,!0).delete(t);return new qa(n).toPromise()}class Ga{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ha()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Tv){if(t++>3)throw Tv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ua()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ma._getInstance(Ua()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new La(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ha();return await Ka(e,Aa,"1"),await Wa(e,Aa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ka(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=$a(e,!1).get(t),s=await new qa(n).toPromise();return void 0===s?null:s.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Wa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$a(e,!1).getAll();return new qa(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:s,value:r}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ga.type="LOCAL";const Qa=Ga;function Ya(e,t){return t?Ci(t):(qr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}new Qr(3e4,6e4);class Xa extends ra{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ja(e){return ka(e.auth,new Xa(e),e.bypassAuthState)}function Za(e){const{auth:t,user:n}=e;return qr(n,t,"internal-error"),async function(e,t,n=!1){const{auth:s}=e;if(gr(s.app))return Promise.reject(Vr(s));const r="reauthenticate";try{const i=await gi(e,Na(s,r,t,e),n);qr(i.idToken,s,"internal-error");const a=fi(i.idToken);qr(a,s,"internal-error");const{sub:o}=a;return qr(e.uid===o,s,"user-mismatch"),ba._forOperation(e,r,i)}catch(Tv){throw"auth/user-not-found"===(null==Tv?void 0:Tv.code)&&Fr(s,"user-mismatch"),Tv}}(n,new Xa(e),e.bypassAuthState)}async function eo(e){const{auth:t,user:n}=e;return qr(n,t,"internal-error"),async function(e,t,n=!1){const s=await gi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ba._forOperation(e,"link",s)}(n,new Xa(e),e.bypassAuthState)}class to{constructor(e,t,n,s,r=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Tv){this.reject(Tv)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Tv){this.reject(Tv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ja;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return Za;default:Fr(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const no=new Qr(2e3,1e4);async function so(e,t,n){if(gr(e.app))return Promise.reject(Ur(e,"operation-not-supported-in-this-environment"));const s=Hi(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Fr(e,"argument-error"),zr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,ma);const r=Ya(s,n);return new ro(s,"signInViaPopup",t,r).executeNotNull()}class ro extends to{constructor(e,t,n,s,r){super(e,t,s,r),this.provider=n,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qr(e,this.auth,"internal-error"),e}async onExecution(){Hr(1===this.filter.length,"Popup operations only handle one event");const e=Oa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ur(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,no.get())};e()}}ro.currentPopupAction=null;const io="pendingRedirect",ao=new Map;class oo extends to{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ao.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Ei(io,e.config.apiKey,e.name)}(t),s=function(e){return Ci(e._redirectPersistence)}(e);if(!(await s._isAvailable()))return!1;const r="true"===await s._get(n);return await s._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Tv){e=()=>Promise.reject(Tv)}ao.set(this.auth._key(),e)}return this.bypassAuthState||ao.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lo(e,t){ao.set(e._key(),t)}async function co(e,t,n=!1){if(gr(e.app))return Promise.reject(Vr(e));const s=Hi(e),r=Ya(s,t),i=new oo(s,r,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,t)),a}class uo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mo(e)){const s=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ho(e))}saveEventToCache(e){this.cachedEventUids.add(ho(e)),this.lastProcessedEventTime=Date.now()}}function ho(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function mo({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const fo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,po=/^https?/;async function go(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ni(e,"GET","/v1/projects",t)}(e);for(const s of t)try{if(xo(s))return}catch(n){}Fr(e,"unauthorized-domain")}function xo(e){const t=Kr(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===s?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===s}if(!po.test(n))return!1;if(fo.test(e))return s===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const yo=new Qr(3e4,6e4);function vo(){const e=Fa().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function bo(e){return new Promise(((t,n)=>{var s,r,i;function a(){vo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vo(),n(Ur(e,"network-request-failed"))},timeout:yo.get()})}if(null===(r=null===(s=Fa().gapi)||void 0===s?void 0:s.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Fa().gapi)||void 0===i?void 0:i.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Fa()[t]=()=>{gapi.load?a():n(Ur(e,"network-request-failed"))},Gi(`${Wi.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw wo=null,e}))}let wo=null;const jo=new Qr(5e3,15e3),No={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ko=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Co(e){const t=e.config;qr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:vr},r=ko.get(e.config.apiHost);r&&(s.eid=r);const i=e._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Xn(s).slice(1)}`}async function So(e){const t=await function(e){return wo=wo||bo(e),wo}(e),n=Fa().gapi;return qr(n,e,"internal-error"),t.open({where:document.body,url:Co(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:No,dontclear:!0},(t=>new Promise((async(n,s)=>{await t.restyle({setHideOnLeave:!1});const r=Ur(e,"network-request-failed"),i=Fa().setTimeout((()=>{s(r)}),jo.get());function a(){Fa().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{s(r)}))}))))}const To={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Tv){}}}function Ao(e,t,n,s=500,r=600){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const l=Object.assign(Object.assign({},To),{width:s.toString(),height:r.toString(),top:i,left:a}),c=Vn().toLowerCase();n&&(o=Di(c)?"_blank":n),_i(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Vn()){var t;return Fi(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}(t||"",o),new Eo(null);const u=window.open(t||"",o,d);qr(u,e,"popup-blocked");try{u.focus()}catch(Tv){}return new Eo(u)}const Io="__/auth/handler",_o="emulator/auth/handler",Po=encodeURIComponent("fac");async function Do(e,t,n,s,r,i){qr(e.config.authDomain,e,"auth-domain-config-required"),qr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:vr,eventId:r};if(t instanceof ma){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof fa){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${Po}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Io}`;return Yr(e,_o)}(e)}?${Xn(o).slice(1)}${c}`}const Ro="webStorageSupport";const Mo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=co,this._overrideRedirectResult=lo}async _openPopup(e,t,n,s){var r;Hr(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Ao(e,await Do(e,t,n,Kr(),s),Oa())}async _openRedirect(e,t,n,s){await this._originValidation(e);return function(e){Fa().location.href=e}(await Do(e,t,n,Kr(),s)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await So(e),n=new uo(e);return t.register("authEvent",(t=>{qr(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ro,{type:Ro},(n=>{var s;const r=null===(s=null==n?void 0:n[0])||void 0===s?void 0:s[Ro];void 0!==r&&t(!!r),Fr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=go(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zi()||Pi()||Fi()}};var Oo="@firebase/auth",Lo="1.10.1";class Fo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Uo=Fn("authIdTokenMaxAge")||300;let zo=null;var Vo,Bo;Vo={loadJS:e=>new Promise(((t,n)=>{const s=document.createElement("script");var r,i;s.setAttribute("src",e),s.onload=t,s.onerror=e=>{const t=Ur("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(s)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wi=Vo,Bo="Browser",fr(new rs("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;qr(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:i,authDomain:a,clientPlatform:Bo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(Bo)},l=new $i(n,s,r,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ci);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),fr(new rs("auth-internal",(e=>{const t=Hi(e.getProvider("auth").getImmediate());return new Fo(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Oo,Lo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bo)),jr(Oo,Lo,"esm2017");var qo,$o,Ho="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var s=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)s[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var i=e.g[3],a=t+(i^n&(r^i))+s[0]+3614090360&4294967295;a=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^i&(n^r))+s[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^r^i)+s[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(n|~i))+s[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(r^(n|~i))+s[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=i+((a=r+(t^(i|~n))+s[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+i&4294967295}function s(e,t){this.h=t;for(var n=[],s=!0,r=e.length-1;0<=r;r--){var i=0|e[r];s&&i==t||(n[r]=i,s=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var s=t-this.blockSize,r=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=s;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){n(this,r),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};var r={};function i(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new s([0|e],0>e?-1:0)})):new s([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var o=i(0),l=i(1),c=i(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new p(o,o);if(u(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(u(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,s=t;0>=s.l(e);)n=x(n),s=x(s);var r=y(n,1),i=y(s,1);for(s=y(s,2),n=y(n,2);!d(s);){var c=i.add(s);0>=c.l(e)&&(r=r.add(n),i=c),s=y(s,1),n=y(n,1)}return t=m(e,r.j(t)),new p(r,t)}for(r=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),c=(i=a(n)).j(t);u(c)||0<c.l(e);)c=(i=a(n-=s)).j(t);d(i)&&(i=l),r=r.add(i),e=m(e,c)}return new p(r,e)}function x(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(u(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.i(n);e+=(0<=s?s:4294967296+s)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,s="";;){var r=g(n,t).g,i=((0<(n=m(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=r))return i+s;for(;6>i.length;)i="0"+i;s=i+s}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=m(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return o;if(u(this))return u(e)?h(this).j(h(e)):h(h(this).j(e));if(u(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var l=this.i(r)>>>16,m=65535&this.i(r),p=e.i(i)>>>16,g=65535&e.i(i);n[2*r+2*i]+=m*g,f(n,2*r+2*i),n[2*r+2*i+1]+=l*g,f(n,2*r+2*i+1),n[2*r+2*i+1]+=m*p,f(n,2*r+2*i+1),n[2*r+2*i+2]+=l*p,f(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,$o=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=a,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=a(Math.pow(n,8)),r=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),r=r.j(l).add(a(c))):r=(r=r.j(s)).add(a(c))}return r},qo=s}).apply(void 0!==Ho?Ho:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ko,Wo,Go,Qo,Yo,Xo,Jo,Zo,el="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof el&&el];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,s){if(s)e:{var r=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in r))break e;r=r[a]}(s=s(i=r[e=e[e.length-1]]))!=i&&null!=s&&t(r,e,{configurable:!0,writable:!0,value:s})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var s=s||{},r=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,s),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,s=t.length||0;e.length=n+s;for(let r=0;r<s;r++)e[n+r]=t[r]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var x=!(-1==p().indexOf("Gecko")||-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge")||-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE")||-1!=p().indexOf("Edge"));function y(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,s;for(let r=1;r<arguments.length;r++){for(n in s=arguments[r],s)e[n]=s[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){r.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,E=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=r.Promise.resolve(void 0);T=()=>{e.then(_)}};var _=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){N(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(x){e:{try{g(t.nodeName);var r=!0;break e}catch(i){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}u(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=r,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var s,r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==s)return r}return-1}V.prototype.add=function(e,t,n,s,r){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,s,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!s,r)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,s,r);return null}return n=Z(n),e&&e[L]?e.K(t,n,!!a(s)&&!!s.capture,r):function(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=a(r)?!!r.capture:!!r,l=X(e);if(l||(e[$]=l=new V(e)),n=l.add(t,n,s,o,i),n.proxy)return n;if(s=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)R||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(Q(t.toString()),s);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(s)}return n}(e,t,n,!1,s,r)}function W(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)W(e,t[i],n,s,r);else s=a(s)?!!s.capture:!!s,n=Z(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,s,r))&&(z(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,s,r)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(Q(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=X(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):z(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,s=e.ha||e.src;e.fa&&G(e),e=n.call(s,t)}return e}function X(e){return(e=e[$])instanceof V?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function te(e,t){var n,s=e.F;if(s)for(n=[];s;s=s.F)n.push(s);if(e=e.M,s=t.type||t,"string"==typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var r=t;w(t=new D(s,e),r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];r=ne(a,s,!0,t)&&r}if(r=ne(a=t.g=e,s,!0,t)&&r,r=ne(a,s,!1,t)&&r,n)for(i=0;i<n.length;i++)r=ne(a=t.g=n[i],s,!1,t)&&r}function ne(e,t,n,s){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),r=!1!==o.call(l,s)&&r}}return r&&!s.defaultPrevented}function se(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function re(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,re(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ee,P),ee.prototype[L]=!0,ee.prototype.removeEventListener=function(e,t,n,s){W(this,e,t,n,s)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)z(n[s]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)},ee.prototype.L=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};class ie extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){P.call(this),this.h=e,this.g={}}u(ae,P);var oe=[];function le(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=r.JSON.stringify,de=r.JSON.parse,ue=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function he(){}function me(e){return e.h||(e.h=e.i())}function fe(){}he.prototype.h=null;var pe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){D.call(this,"d")}function xe(){D.call(this,"c")}u(ge,D),u(xe,D);var ye={},ve=null;function be(){return ve=ve||new ee}function we(e){D.call(this,ye.La,e)}function je(e){const t=be();te(t,new we(t))}function Ne(e,t){D.call(this,ye.STAT_EVENT,e),this.stat=t}function ke(e){const t=be();te(t,new Ne(t,e))}function Ce(e,t){D.call(this,ye.Ma,e),this.size=t}function Se(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ee(e,t,n,s){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<r.length;a++)r[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(s?" "+s:"")}))}ye.La="serverreachability",u(we,D),ye.STAT_EVENT="statevent",u(Ne,D),ye.Ma="timingevent",u(Ce,D),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function De(e,t,n,s){this.j=e,this.i=t,this.l=n,this.R=s||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}u(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Me={},Oe={};function Le(e,t,n){e.L=1,e.v=ct(rt(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),Ve(e),e.A=rt(e.v);var n=e.A,s=e.R;Array.isArray(s)||(s=[String(s)]),jt(n.i,"t",s),e.C=0,n=e.j.J,e.h=new Re,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,s=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(oe[0]=r.toString()),r=oe);for(var i=0;i<r.length;i++){var a=K(n,r[i],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),je(),function(e,t,n,s,r,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");a=2<=u.length&&"type"==u[1]?a+(d+"=")+c+"&":a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,s=t.indexOf("\n",n);return-1==s?Oe:(n=Number(t.substring(n,s)),isNaN(n)?Me:(s+=1)+n>t.length?Oe:(t=t.slice(s,s+n),e.C=s+n,t))}function Ve(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Se(c(e.ba,e),t)}function qe(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function $e(e){0==e.j.G||e.J||rn(e.j,e)}function He(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var s=n.Da.g.parse(t)}catch(d){s=null}if(Array.isArray(s)&&3==s.length){var r=s;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Wt(n)}en(n),ke(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Se(c(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(d){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const d=c[5];null!=d&&"number"==typeof d&&0<d&&(s=1.5*d,n.L=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=s.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Je(i,i.h),i.h=null))}if(s.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(s.ya=e,lt(s.I,s.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((s=n).qa=cn(s,s.J?s.ia:null,s.W),a.K){Ze(s.h,a);var o=a,l=s.L;l&&(o.I=l),o.B&&(qe(o),Ve(o)),s.g=a}else Zt(s);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}je()}catch(d){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Bt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||je(),qe(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var s=qt(this.g);e="";var i=s.length,a=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),$e(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:!(a&&t==i-1)});s.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,s,r,i,a){e.info((function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var d=l;break t}}d=null}if(!(n=d)){this.o=!1,this.s=3,ke(12),He(this),$e(this);break e}Ee(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Oe){4==h&&(this.s=4,ke(14),n=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ee(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ee(this.i,this.l,e,null),Ke(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(u),u.M=!0,ke(11))}}else Ee(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),$e(this)}else Ee(this.i,this.l,o,null),Ke(this,o);4==h&&He(this),this.o&&!this.J&&(4==h?rn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<e.length;s++){if(f(e[s]))continue;var n=j(e[s]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=t[r]||[];t[r]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),He(this),$e(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,He(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(je(),ke(17)),He(this),this.s=2,$e(this)):Be(this,this.S-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(i(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}(e),s=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}for(s in t=[],n=0,e)t[n++]=e[s];return t}(e),r=s.length,a=0;a<r;a++)t.call(void 0,s[a],n&&n[a],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new yt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,it(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),at(this,t[4]),this.l=dt(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new yt(null,this.h))}function rt(e){return new st(e)}function it(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof yt?(e.i=t,function(e,t){t&&!e.j&&(vt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bt(this,t),jt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ut(t,gt)),e.i=new yt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ut(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ut(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ut(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ut(n,"/"==n.charAt(0)?pt:ft,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ut(n,xt)),e.join("")};var mt=/[#\/\?@]/g,ft=/[#\?:]/g,pt=/[#\?]/g,gt=/[#\?@]/g,xt=/#/g;function yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bt(e,t){vt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wt(e,t){return vt(e),t=Nt(e,t),e.g.has(t)}function jt(e,t,n){bt(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),h(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,s,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),s(n)}catch(i){}}function Ct(){this.g=new ue}function St(e,t,n){const s=n||"";try{tt(e,(function(e,n){let r=e;a(e)&&(r=ce(e)),t.push(s+n+"="+encodeURIComponent(r))}))}catch(Tv){throw t.push(s+"type="+encodeURIComponent("_badmap")),Tv}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Et(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,_t(e)}function _t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Pt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Rt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=yt.prototype).add=function(e,t){vt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){vt(this),this.g.forEach((function(n,s){n.forEach((function(n){e.call(t,n,s,this)}),this)}),this)},e.na=function(){vt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const r=e[s];for(let e=0;e<r.length;e++)n.push(t[s])}return n},e.V=function(e){vt(this);let t=[];if("string"==typeof e)wt(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return vt(this),this.i=null,wt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const i=encodeURIComponent(String(s)),a=this.V(s);for(s=0;s<a.length;s++){var r=i;""!==a[s]&&(r+="="+encodeURIComponent(String(a[s]))),e.push(r)}}return this.i=e.join("&")},u(Tt,he),Tt.prototype.g=function(){return new Et(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),u(Et,ee),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,_t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):_t(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Rt,ee);var Mt=/^https?$/i,Ot=["POST","PUT"];function Lt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),zt(e)}function Ft(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))se(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===s){var a=String(e.D).match(nt)[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol.slice(0,-1)),i=!Mt.test(a?a.toLowerCase():"")}n=i}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<Bt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ft(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const n=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=s}catch(Tv){}}}function Vt(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$t("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$t("baseRetryDelayMs",5e3,e),this.cb=$t("retryDelaySeedMs",1e4,e),this.Wa=$t("forwardChannelMaxRetries",2,e),this.wa=$t("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Gt(e),3==e.G){var t=e.U++,n=rt(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Xt(e,n),(t=new De(e,e.j,t)).L=2,t.v=ct(rt(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(s){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}ln(e)}function Wt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Gt(e){Wt(e),e.u&&(r.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),E||(T(),E=!0),A.add(t,e),e.B=0}}function Yt(e,t){var n;n=t?t.l:e.U++;const s=rt(e.I);lt(s,"SID",e.K),lt(s,"RID",n),lt(s,"AID",e.T),Xt(e,s),e.m&&e.o&&Dt(s,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Jt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),Le(n,s,t)}function Xt(e,t){e.H&&y(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Jt(e,t,n){n=Math.min(e.i.length,n);var s=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=r[o].g;const l=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),a=!1;else try{St(l,e,"req"+n+"_")}catch(i){s&&s(l)}}if(a){s=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,s}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),E||(T(),E=!0),A.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Se(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=rt(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Xt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(rt(t)),n.m=null,n.P=!0,Fe(n,e)}function sn(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function rn(e,t){var n=null;if(e.g==t){sn(e),tn(e),e.g=null;var s=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),s=1}if(0!=e.G)if(t.o)if(1==s){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;te(s=be(),new Ce(s,n)),Qt(e)}else Zt(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==s&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Se(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==s&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),s=e.Xa;const t=!s;s=new st(s||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||it(s,"https"),ct(s),t?function(e,t){const n=new Te;if(r.Image){const s=new Image;s.onload=d(kt,n,"TestLoadImage: loaded",!0,t,s),s.onerror=d(kt,n,"TestLoadImage: error",!1,t,s),s.onabort=d(kt,n,"TestLoadImage: abort",!1,t,s),s.ontimeout=d(kt,n,"TestLoadImage: timeout",!1,t,s),r.setTimeout((function(){s.ontimeout&&s.ontimeout()}),1e4),s.src=e}else t(!1)}(s.toString(),n):function(e,t){new Te;const n=new AbortController,s=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(s),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(s),kt(0,0,!1,t)}))}(s.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),ln(e),Gt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var s=n instanceof st?rt(n):new st(n);if(""!=s.g)t&&(s.g=t+"."+s.g),at(s,s.s);else{var i=r.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new st(null);s&&it(a,s),t&&(a.g=t),i&&at(a,i),n&&(a.l=n),s=a}return n=e.D,t=e.ya,n&&t&&lt(s,n,t),lt(s,"VER",e.la),Xt(e,s),s}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Tt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function un(){}function hn(){}function mn(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function fn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pn(){xe.call(this),this.status=1}function gn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Lt(this,a)}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const e of s.keys())n.set(e,s.get(e))}s=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ot,t,void 0))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Lt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,n,s){ke(0),this.W=e,this.H=t||{},n&&void 0!==s&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.I=cn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new De(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(r.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var s=this.i[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jt(this,r,t),lt(n=rt(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Xt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Pt(i)))+"&"+t:this.m&&Dt(n,this.m,i)),Je(this.h,r),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),r.T=!0,Le(r,n,null)):Le(r,n,t),this.G=2}}else 3==this.G&&(e?Yt(this,e):0==this.i.length||Qe(this.h)||Yt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Se(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Wt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Wt(this),en(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=un.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new mn(e,t)},u(mn,ee),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},u(fn,ge),u(pn,xe),u(gn,un),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new fn(e))},gn.prototype.sa=function(e){te(this.g,new pn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Zo=function(){return new hn},Jo=function(){return be()},Xo=ye,Yo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Qo=Ie,_e.COMPLETE="complete",Go=_e,fe.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Wo=fe,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Ko=Rt}).apply(void 0!==el?el:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const tl="@firebase/firestore",nl="4.7.11";let sl=class{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sl.UNAUTHENTICATED=new sl(null),sl.GOOGLE_CREDENTIALS=new sl("google-credentials-uid"),sl.FIRST_PARTY=new sl("first-party-uid"),sl.MOCK_USER=new sl("mock-user");let rl="11.6.1";const il=new fs("@firebase/firestore");function al(){return il.logLevel}function ol(e,...t){if(il.logLevel<=ls.DEBUG){const n=t.map(dl);il.debug(`Firestore (${rl}): ${e}`,...n)}}function ll(e,...t){if(il.logLevel<=ls.ERROR){const n=t.map(dl);il.error(`Firestore (${rl}): ${e}`,...n)}}function cl(e,...t){if(il.logLevel<=ls.WARN){const n=t.map(dl);il.warn(`Firestore (${rl}): ${e}`,...n)}}function dl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function ul(e,t,n){let s="Unexpected state";"string"==typeof t?s=t:n=t,hl(e,s,n)}function hl(e,t,n){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{s+=" CONTEXT: "+JSON.stringify(n)}catch(r){s+=" CONTEXT: "+n}throw ll(s),new Error(s)}function ml(e,t,n,s){let r="Unexpected state";"string"==typeof n?r=n:s=n,e||hl(t,r,s)}function fl(e,t){return e}const pl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gl extends Kn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sl.UNAUTHENTICATED)))}shutdown(){}}class bl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wl{constructor(e){this.t=e,this.currentUser=sl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ml(void 0===this.o,42304);let n=this.i;const s=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new xl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new xl,e.enqueueRetryable((()=>s(this.currentUser)))};const i=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await s(this.currentUser)}))},a=e=>{ol("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ol("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new xl)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ol("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ml("string"==typeof t.accessToken,31837,{l:t}),new yl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ml(null===e||"string"==typeof e,2055,{h:e}),new sl(e)}}class jl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=sl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new jl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ml(void 0===this.o,3512);const n=e=>{null!=e.error&&ol("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,ol("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const s=e=>{ol("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>s(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?s(e):ol("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kl(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ml("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new kl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}function Tl(){return new TextEncoder}class El{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Sl(40);for(let s=0;s<n.length;++s)t.length<20&&n[s]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[s]%62))}return t}}function Al(e,t){return e<t?-1:e>t?1:0}function Il(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),r=t.codePointAt(n);if(s!==r){if(s<128&&r<128)return Al(s,r);{const i=Tl(),a=Pl(i.encode(_l(e,n)),i.encode(_l(t,n)));return 0!==a?a:Al(s,r)}}n+=s>65535?2:1}return Al(e.length,t.length)}function _l(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Pl(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Al(e[n],t[n]);return Al(e.length,t.length)}function Dl(e,t,n){return e.length===t.length&&e.every(((e,s)=>n(e,t[s])))}const Rl=-62135596800,Ml=1e6;class Ol{static now(){return Ol.fromMillis(Date.now())}static fromDate(e){return Ol.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ml);return new Ol(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gl(pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gl(pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rl)throw new gl(pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gl(pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ml}_compareTo(e){return this.seconds===e.seconds?Al(this.nanoseconds,e.nanoseconds):Al(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ll{static fromTimestamp(e){return new Ll(e)}static min(){return new Ll(new Ol(0,0))}static max(){return new Ll(new Ol(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl="__name__";class Ul{constructor(e,t,n){void 0===t?t=0:t>e.length&&ul(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ul(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=Ul.compareSegments(e.get(s),t.get(s));if(0!==n)return n}return Al(e.length,t.length)}static compareSegments(e,t){const n=Ul.isNumericId(e),s=Ul.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Ul.extractNumericId(e).compare(Ul.extractNumericId(t)):Il(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qo.fromString(e.substring(4,e.length-2))}}class zl extends Ul{construct(e,t,n){return new zl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new gl(pl.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new zl(t)}static emptyPath(){return new zl([])}}const Vl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bl extends Ul{construct(e,t,n){return new Bl(e,t,n)}static isValidIdentifier(e){return Vl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Fl}static keyField(){return new Bl([Fl])}static fromServerFormat(e){const t=[];let n="",s=0;const r=()=>{if(0===n.length)throw new gl(pl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;s<e.length;){const t=e[s];if("\\"===t){if(s+1===e.length)throw new gl(pl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[s+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gl(pl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,s+=2}else"`"===t?(i=!i,s++):"."!==t||i?(n+=t,s++):(r(),s++)}if(r(),i)throw new gl(pl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bl(t)}static emptyPath(){return new Bl([])}}class ql{constructor(e){this.path=e}static fromPath(e){return new ql(zl.fromString(e))}static fromName(e){return new ql(zl.fromString(e).popFirst(5))}static empty(){return new ql(zl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ql(new zl(e.slice()))}}function $l(e){return new Hl(e.readTime,e.key,-1)}class Hl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hl(Ll.min(),ql.empty(),-1)}static max(){return new Hl(Ll.max(),ql.empty(),-1)}}function Kl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ql.comparator(e.documentKey,t.documentKey),0!==n?n:Al(e.largestBatchId,t.largestBatchId))}class Wl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gl(e){if(e.code!==pl.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;ol("LocalStore","Unexpectedly lost primary lease")}class Ql{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ul(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ql(((n,s)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,s)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ql?t:Ql.resolve(t)}catch(t){return Ql.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ql.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ql.reject(t)}static resolve(e){return new Ql(((t,n)=>{t(e)}))}static reject(e){return new Ql(((t,n)=>{n(e)}))}static waitFor(e){return new Ql(((t,n)=>{let s=0,r=0,i=!1;e.forEach((e=>{++s,e.next((()=>{++r,i&&r===s&&t()}),(e=>n(e)))})),i=!0,r===s&&t()}))}static or(e){let t=Ql.resolve(!1);for(const n of e)t=t.next((e=>e?Ql.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,s)=>{n.push(t.call(this,e,s))})),this.waitFor(n)}static mapArray(e,t){return new Ql(((n,s)=>{const r=e.length,i=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===r&&n(i)}),(e=>s(e)))}}))}static doWhile(e,t){return new Ql(((n,s)=>{const r=()=>{!0===e()?t().next((()=>{r()}),s):n()};r()}))}}function Yl(e){return"IndexedDbTransactionError"===e.name}class Xl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xl.le=-1;function Jl(e){return null==e}function Zl(e){return 0===e&&1/e==-1/0}function ec(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function tc(e){return e+""}function nc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ic{constructor(e,t){this.comparator=e,this.root=t||oc.EMPTY}insert(e,t){return new ic(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oc.BLACK,null,null))}remove(e){return new ic(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oc{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=null!=n?n:oc.RED,this.left=null!=s?s:oc.EMPTY,this.right=null!=r?r:oc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new oc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):0===r?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return oc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return oc.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ul(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ul(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ul(27949);return e+(this.isRed()?0:1)}}oc.EMPTY=null,oc.RED=!0,oc.BLACK=!1,oc.EMPTY=new class{constructor(){this.size=0}get key(){throw ul(57766)}get value(){throw ul(16141)}get color(){throw ul(16727)}get left(){throw ul(29726)}get right(){throw ul(36894)}copy(e,t,n,s,r){return this}insert(e,t,n){return new oc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lc{constructor(e){this.comparator=e,this.data=new ic(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cc(this.data.getIterator())}getIteratorFrom(e){return new cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof lc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(e,s))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lc(this.comparator);return t.data=e,t}}class cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dc{constructor(e){this.fields=e,e.sort(Bl.comparator)}static empty(){return new dc([])}unionWith(e){let t=new lc(Bl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class uc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new uc("Invalid base64 string: "+t):t}}(e);return new hc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Al(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hc.EMPTY_BYTE_STRING=new hc("");const mc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fc(e){if(ml(!!e,39018),"string"==typeof e){let t=0;const n=mc.exec(e);if(ml(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pc(e.seconds),nanos:pc(e.nanos)}}function pc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gc(e){return"string"==typeof e?hc.fromBase64String(e):hc.fromUint8Array(e)}const xc="server_timestamp",yc="__type__",vc="__previous_value__",bc="__local_write_time__";function wc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[yc])||void 0===n?void 0:n.stringValue)===xc}function jc(e){const t=e.mapValue.fields[vc];return wc(t)?jc(t):t}function Nc(e){const t=fc(e.mapValue.fields[bc].timestampValue);return new Ol(t.seconds,t.nanos)}class kc{constructor(e,t,n,s,r,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Cc="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||Cc}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}const Tc="__type__",Ec="__max__",Ac={},Ic="__vector__",_c="value";function Pc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wc(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ec}(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Tc])||void 0===n?void 0:n.stringValue)===Ic}(e)?10:11:ul(28295,{value:e})}function Dc(e,t){if(e===t)return!0;const n=Pc(e);if(n!==Pc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nc(e).isEqual(Nc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fc(e.timestampValue),s=fc(t.timestampValue);return n.seconds===s.seconds&&n.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return s=t,gc(e.bytesValue).isEqual(gc(s.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pc(e.geoPointValue.latitude)===pc(t.geoPointValue.latitude)&&pc(e.geoPointValue.longitude)===pc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pc(e.integerValue)===pc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=pc(e.doubleValue),s=pc(t.doubleValue);return n===s?Zl(n)===Zl(s):isNaN(n)&&isNaN(s)}return!1}(e,t);case 9:return Dl(e.arrayValue.values||[],t.arrayValue.values||[],Dc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},s=t.mapValue.fields||{};if(nc(n)!==nc(s))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===s[r]||!Dc(n[r],s[r])))return!1;return!0}(e,t);default:return ul(52216,{left:e})}var s}function Rc(e,t){return void 0!==(e.values||[]).find((e=>Dc(e,t)))}function Mc(e,t){if(e===t)return 0;const n=Pc(e),s=Pc(t);if(n!==s)return Al(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Al(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=pc(e.integerValue||e.doubleValue),s=pc(t.integerValue||t.doubleValue);return n<s?-1:n>s?1:n===s?0:isNaN(n)?isNaN(s)?0:-1:1}(e,t);case 3:return Oc(e.timestampValue,t.timestampValue);case 4:return Oc(Nc(e),Nc(t));case 5:return Il(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gc(e),s=gc(t);return n.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),s=t.split("/");for(let r=0;r<n.length&&r<s.length;r++){const e=Al(n[r],s[r]);if(0!==e)return e}return Al(n.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Al(pc(e.latitude),pc(t.latitude));return 0!==n?n:Al(pc(e.longitude),pc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Lc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,s,r,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[_c])||void 0===n?void 0:n.arrayValue,c=null===(s=o[_c])||void 0===s?void 0:s.arrayValue,d=Al((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==d?d:Lc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ac&&t===Ac)return 0;if(e===Ac)return 1;if(t===Ac)return-1;const n=e.fields||{},s=Object.keys(n),r=t.fields||{},i=Object.keys(r);s.sort(),i.sort();for(let a=0;a<s.length&&a<i.length;++a){const e=Il(s[a],i[a]);if(0!==e)return e;const t=Mc(n[s[a]],r[i[a]]);if(0!==t)return t}return Al(s.length,i.length)}(e.mapValue,t.mapValue);default:throw ul(23264,{Pe:n})}}function Oc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Al(e,t);const n=fc(e),s=fc(t),r=Al(n.seconds,s.seconds);return 0!==r?r:Al(n.nanos,s.nanos)}function Lc(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const e=Mc(n[r],s[r]);if(e)return e}return Al(n.length,s.length)}function Fc(e){return Uc(e)}function Uc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gc(e.bytesValue).toBase64():"referenceValue"in e?function(e){return ql.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const s of e.values||[])n?n=!1:t+=",",t+=Uc(s);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const r of t)s?s=!1:n+=",",n+=`${r}:${Uc(e.fields[r])}`;return n+"}"}(e.mapValue):ul(61005,{value:e})}function zc(e){switch(Pc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jc(e);return t?16+zc(t):16;case 5:return 2*e.stringValue.length;case 6:return gc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce(((e,t)=>e+zc(t)),0);case 10:case 11:return function(e){let t=0;return sc(e.fields,((e,n)=>{t+=e.length+zc(n)})),t}(e.mapValue);default:throw ul(13486,{value:e})}}function Vc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bc(e){return!!e&&"integerValue"in e}function qc(e){return!!e&&"arrayValue"in e}function $c(e){return!!e&&"nullValue"in e}function Hc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kc(e){return!!e&&"mapValue"in e}function Wc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Gc{constructor(e){this.value=e}static empty(){return new Gc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=Bl.emptyPath(),n={},s=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,s),n={},s=[],t=r.popLast()}e?n[r.lastSegment()]=Wc(e):s.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){const t=this.field(e.popLast());Kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Kc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){sc(t,((t,n)=>e[t]=n));for(const s of n)delete e[s]}clone(){return new Gc(Wc(this.value))}}function Qc(e){const t=[];return sc(e.fields,((e,n)=>{const s=new Bl([e]);if(Kc(n)){const e=Qc(n.mapValue).fields;if(0===e.length)t.push(s);else for(const n of e)t.push(s.child(n))}else t.push(s)})),new dc(t)}class Yc{constructor(e,t,n,s,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Yc(e,0,Ll.min(),Ll.min(),Ll.min(),Gc.empty(),0)}static newFoundDocument(e,t,n,s){return new Yc(e,1,t,Ll.min(),n,s,0)}static newNoDocument(e,t){return new Yc(e,2,t,Ll.min(),Ll.min(),Gc.empty(),0)}static newUnknownDocument(e,t){return new Yc(e,3,t,Ll.min(),Ll.min(),Gc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ll.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ll.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(e,t){this.position=e,this.inclusive=t}}function Jc(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(s=i.field.isKeyField()?ql.comparator(ql.fromName(a.referenceValue),n.key):Mc(a,n.data.field(i.field)),"desc"===i.dir&&(s*=-1),0!==s)break}return s}function Zc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dc(e.position[n],t.position[n]))return!1;return!0}class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function td(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}let nd=class{};class sd extends nd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new dd(e,t,n):"array-contains"===t?new fd(e,n):"in"===t?new pd(e,n):"not-in"===t?new gd(e,n):"array-contains-any"===t?new xd(e,n):new sd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ud(e,n):new hd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Mc(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.matchesComparison(Mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ul(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rd extends nd{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new rd(e,t)}matches(e){return id(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function id(e){return"and"===e.op}function ad(e){return function(e){for(const t of e.filters)if(t instanceof rd)return!1;return!0}(e)&&id(e)}function od(e){if(e instanceof sd)return e.field.canonicalString()+e.op.toString()+Fc(e.value);if(ad(e))return e.filters.map((e=>od(e))).join(",");{const t=e.filters.map((e=>od(e))).join(",");return`${e.op}(${t})`}}function ld(e,t){return e instanceof sd?(n=e,(s=t)instanceof sd&&n.op===s.op&&n.field.isEqual(s.field)&&Dc(n.value,s.value)):e instanceof rd?function(e,t){return t instanceof rd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,s)=>e&&ld(n,t.filters[s])),!0)}(e,t):void ul(19439);var n,s}function cd(e){return e instanceof sd?`${(t=e).field.canonicalString()} ${t.op} ${Fc(t.value)}`:e instanceof rd?function(e){return e.op.toString()+" {"+e.getFilters().map(cd).join(" ,")+"}"}(e):"Filter";var t}class dd extends sd{constructor(e,t,n){super(e,t,n),this.key=ql.fromName(n.referenceValue)}matches(e){const t=ql.comparator(e.key,this.key);return this.matchesComparison(t)}}class ud extends sd{constructor(e,t){super(e,"in",t),this.keys=md("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hd extends sd{constructor(e,t){super(e,"not-in",t),this.keys=md("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function md(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ql.fromName(e.referenceValue)))}class fd extends sd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qc(t)&&Rc(t.arrayValue,this.value)}}class pd extends sd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rc(this.value.arrayValue,t)}}class gd extends sd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Rc(this.value.arrayValue,t)}}class xd extends sd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Rc(this.value.arrayValue,e)))}}class yd{constructor(e,t=null,n=[],s=[],r=null,i=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=i,this.endAt=a,this.Ie=null}}function vd(e,t=null,n=[],s=[],r=null,i=null,a=null){return new yd(e,t,n,s,r,i,a)}function bd(e){const t=fl(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>od(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),Jl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Fc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Fc(e))).join(",")),t.Ie=e}return t.Ie}function wd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!td(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ld(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zc(e.startAt,t.startAt)&&Zc(e.endAt,t.endAt)}function jd(e){return ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Nd{constructor(e,t=null,n=[],s=[],r=null,i="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=i,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kd(e){return new Nd(e)}function Cd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sd(e){return null!==e.collectionGroup}function Td(e){const t=fl(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new lc(Bl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new ed(s,n))})),e.has(Bl.keyField().canonicalString())||t.Ee.push(new ed(Bl.keyField(),n))}return t.Ee}function Ed(e){const t=fl(e);return t.de||(t.de=function(e,t){if("F"===e.limitType)return vd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ed(e.field,t)}));const n=e.endAt?new Xc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Xc(e.startAt.position,e.startAt.inclusive):null;return vd(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}(t,Td(e))),t.de}function Ad(e,t){const n=e.filters.concat([t]);return new Nd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Id(e,t,n){return new Nd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _d(e,t){return wd(Ed(e),Ed(t))&&e.limitType===t.limitType}function Pd(e){return`${bd(Ed(e))}|lt:${e.limitType}`}function Dd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>cd(e))).join(", ")}]`),Jl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Fc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Fc(e))).join(",")),`Target(${t})`}(Ed(e))}; limitType=${e.limitType})`}function Rd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ql.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Td(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(s=t,!((n=e).startAt&&!function(e,t,n){const s=Jc(e,t,n);return e.inclusive?s<=0:s<0}(n.startAt,Td(n),s)||n.endAt&&!function(e,t,n){const s=Jc(e,t,n);return e.inclusive?s>=0:s>0}(n.endAt,Td(n),s)));var n,s}function Md(e){return(t,n)=>{let s=!1;for(const r of Td(e)){const e=Od(r,t,n);if(0!==e)return e;s=s||r.field.isKeyField()}return 0}}function Od(e,t,n){const s=e.field.isKeyField()?ql.comparator(t.key,n.key):function(e,t,n){const s=t.data.field(e),r=n.data.field(e);return null!==s&&null!==r?Mc(s,r):ul(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return ul(19790,{direction:e.dir})}}class Ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[s,r]of n)if(this.equalsFn(s,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return 1===n.length?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,((t,n)=>{for(const[s,r]of n)e(s,r)}))}isEmpty(){return rc(this.inner)}size(){return this.innerSize}}const Fd=new ic(ql.comparator);function Ud(){return Fd}const zd=new ic(ql.comparator);function Vd(...e){let t=zd;for(const n of e)t=t.insert(n.key,n);return t}function Bd(e){let t=zd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function qd(){return Hd()}function $d(){return Hd()}function Hd(){return new Ld((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Kd=new ic(ql.comparator),Wd=new lc(ql.comparator);function Gd(...e){let t=Wd;for(const n of e)t=t.add(n);return t}const Qd=new lc(Al);function Yd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(t)?"-0":t}}function Xd(e){return{integerValue:""+e}}function Jd(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Zl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Xd(t):Yd(e,t)}class Zd{constructor(){this._=void 0}}function eu(e,t,n){return e instanceof su?function(e,t){const n={fields:{[yc]:{stringValue:xc},[bc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wc(t)&&(t=jc(t)),t&&(n.fields[vc]=t),{mapValue:n}}(n,t):e instanceof ru?iu(e,t):e instanceof au?ou(e,t):function(e,t){const n=nu(e,t),s=cu(n)+cu(e.Re);return Bc(n)&&Bc(e.Re)?Xd(s):Yd(e.serializer,s)}(e,t)}function tu(e,t,n){return e instanceof ru?iu(e,t):e instanceof au?ou(e,t):n}function nu(e,t){return e instanceof lu?Bc(n=t)||(s=n)&&"doubleValue"in s?t:{integerValue:0}:null;var n,s}class su extends Zd{}class ru extends Zd{constructor(e){super(),this.elements=e}}function iu(e,t){const n=du(t);for(const s of e.elements)n.some((e=>Dc(e,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends Zd{constructor(e){super(),this.elements=e}}function ou(e,t){let n=du(t);for(const s of e.elements)n=n.filter((e=>!Dc(e,s)));return{arrayValue:{values:n}}}class lu extends Zd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function cu(e){return pc(e.integerValue||e.doubleValue)}function du(e){return qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class uu{constructor(e,t){this.field=e,this.transform=t}}class hu{constructor(e,t){this.version=e,this.transformResults=t}}class mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mu}static exists(e){return new mu(void 0,e)}static updateTime(e){return new mu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pu{}function gu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Su(e.key,mu.none()):new wu(e.key,e.data,mu.none());{const n=e.data,s=Gc.empty();let r=new lc(Bl.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?s.delete(e):s.set(e,t),r=r.add(e)}return new ju(e.key,s,new dc(r.toArray()),mu.none())}}function xu(e,t,n){var s;e instanceof wu?function(e,t,n){const s=e.value.clone(),r=ku(e.fieldTransforms,t,n.transformResults);s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):e instanceof ju?function(e,t,n){if(!fu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const s=ku(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Nu(e)),r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):(s=n,t.convertToNoDocument(s.version).setHasCommittedMutations())}function yu(e,t,n,s){return e instanceof wu?function(e,t,n,s){if(!fu(e.precondition,t))return n;const r=e.value.clone(),i=Cu(e.fieldTransforms,s,t);return r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,s):e instanceof ju?function(e,t,n,s){if(!fu(e.precondition,t))return n;const r=Cu(e.fieldTransforms,s,t),i=t.data;return i.setAll(Nu(e)),i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,s):(r=t,i=n,fu(e.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):i);var r,i}function vu(e,t){let n=null;for(const s of e.fieldTransforms){const e=t.data.field(s.field),r=nu(s.transform,e||null);null!=r&&(null===n&&(n=Gc.empty()),n.set(s.field,r))}return n||null}function bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,s=t.fieldTransforms,!!(void 0===n&&void 0===s||n&&s&&Dl(n,s,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,s=t.transform,n instanceof ru&&s instanceof ru||n instanceof au&&s instanceof au?Dl(n.elements,s.elements,Dc):n instanceof lu&&s instanceof lu?Dc(n.Re,s.Re):n instanceof su&&s instanceof su);var n,s}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,s}class wu extends pu{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ju extends pu{constructor(e,t,n,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Nu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function ku(e,t,n){const s=new Map;ml(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,o=t.data.field(i.field);s.set(i.field,tu(a,o,n[r]))}return s}function Cu(e,t,n){const s=new Map;for(const r of e){const e=r.transform,i=n.data.field(r.field);s.set(r.field,eu(e,i,t))}return s}class Su extends pu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tu extends pu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eu{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const t=this.mutations[s];t.key.isEqual(e.key)&&xu(t,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$d();return this.mutations.forEach((s=>{const r=e.get(s.key),i=r.overlayedDocument;let a=this.applyToLocalView(i,r.mutatedFields);a=t.has(s.key)?null:a;const o=gu(i,a);null!==o&&n.set(s.key,o),i.isValidDocument()||i.convertToNoDocument(Ll.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gd())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((e,t)=>bu(e,t)))&&Dl(this.baseMutations,e.baseMutations,((e,t)=>bu(e,t)))}}class Au{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){ml(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let s=function(){return Kd}();const r=e.mutations;for(let i=0;i<r.length;i++)s=s.insert(r[i].key,n[i].version);return new Au(e,t,n,s)}}class Iu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _u{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pu,Du;function Ru(e){if(void 0===e)return ll("GRPC error has no .code"),pl.UNKNOWN;switch(e){case Pu.OK:return pl.OK;case Pu.CANCELLED:return pl.CANCELLED;case Pu.UNKNOWN:return pl.UNKNOWN;case Pu.DEADLINE_EXCEEDED:return pl.DEADLINE_EXCEEDED;case Pu.RESOURCE_EXHAUSTED:return pl.RESOURCE_EXHAUSTED;case Pu.INTERNAL:return pl.INTERNAL;case Pu.UNAVAILABLE:return pl.UNAVAILABLE;case Pu.UNAUTHENTICATED:return pl.UNAUTHENTICATED;case Pu.INVALID_ARGUMENT:return pl.INVALID_ARGUMENT;case Pu.NOT_FOUND:return pl.NOT_FOUND;case Pu.ALREADY_EXISTS:return pl.ALREADY_EXISTS;case Pu.PERMISSION_DENIED:return pl.PERMISSION_DENIED;case Pu.FAILED_PRECONDITION:return pl.FAILED_PRECONDITION;case Pu.ABORTED:return pl.ABORTED;case Pu.OUT_OF_RANGE:return pl.OUT_OF_RANGE;case Pu.UNIMPLEMENTED:return pl.UNIMPLEMENTED;case Pu.DATA_LOSS:return pl.DATA_LOSS;default:return ul(39323,{code:e})}}(Du=Pu||(Pu={}))[Du.OK=0]="OK",Du[Du.CANCELLED=1]="CANCELLED",Du[Du.UNKNOWN=2]="UNKNOWN",Du[Du.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Du[Du.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Du[Du.NOT_FOUND=5]="NOT_FOUND",Du[Du.ALREADY_EXISTS=6]="ALREADY_EXISTS",Du[Du.PERMISSION_DENIED=7]="PERMISSION_DENIED",Du[Du.UNAUTHENTICATED=16]="UNAUTHENTICATED",Du[Du.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Du[Du.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Du[Du.ABORTED=10]="ABORTED",Du[Du.OUT_OF_RANGE=11]="OUT_OF_RANGE",Du[Du.UNIMPLEMENTED=12]="UNIMPLEMENTED",Du[Du.INTERNAL=13]="INTERNAL",Du[Du.UNAVAILABLE=14]="UNAVAILABLE",Du[Du.DATA_LOSS=15]="DATA_LOSS";const Mu=new qo([4294967295,4294967295],0);function Ou(e){const t=Tl().encode(e),n=new $o;return n.update(t),new Uint8Array(n.digest())}function Lu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new qo([n,s],0),new qo([r,i],0)]}class Fu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(n<0)throw new Uu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Uu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=qo.fromNumber(this.pe)}we(e,t,n){let s=e.add(t.multiply(qo.fromNumber(n)));return 1===s.compare(Mu)&&(s=new qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Ou(e),[n,s]=Lu(t);for(let r=0;r<this.hashCount;r++){const e=this.we(n,s,r);if(!this.be(e))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),i=new Fu(r,s,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=Ou(e),[n,s]=Lu(t);for(let r=0;r<this.hashCount;r++){const e=this.we(n,s,r);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zu{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zu(Ll.min(),s,new ic(Al),Ud(),Gd())}}class Vu{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vu(n,t,Gd(),Gd(),Gd())}}class Bu{constructor(e,t,n,s){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=s}}class qu{constructor(e,t){this.targetId=e,this.Ce=t}}class $u{constructor(e,t,n=hc.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Hu{constructor(){this.Fe=0,this.Me=Gu(),this.xe=hc.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Gd(),t=Gd(),n=Gd();return this.Me.forEach(((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:ul(38017,{changeType:r})}})),new Vu(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Gu()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ml(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ku{constructor(e){this.ze=e,this.je=new Map,this.He=Ud(),this.Je=Wu(),this.Ye=Wu(),this.Ze=new ic(Al)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:ul(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,s=this._t(t);if(s){const r=s.target;if(jd(r))if(0===n){const e=new ql(r.path);this.tt(t,e,Yc.newNoDocument(e,Ll.min()))}else ml(1===n,20013,{expectedCount:n});else{const s=this.ut(t);if(s!==n){const n=this.ct(e),r=n?this.lt(n,e,s):1;if(0!==r){this.st(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t;let i,a;try{i=gc(n).toUint8Array()}catch(o){if(o instanceof uc)return cl("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Fu(i,s,r)}catch(o){return cl(o instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let s=0;return n.forEach((n=>{const r=this.ze.Pt(),i=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.tt(t,n,null),s++)})),s}It(e){const t=new Map;this.je.forEach(((n,s)=>{const r=this._t(s);if(r){if(n.current&&jd(r.target)){const t=new ql(r.target.path);this.Et(t).has(s)||this.dt(s,t)||this.tt(s,t,Yc.newNoDocument(t,e))}n.Le&&(t.set(s,n.qe()),n.Qe())}}));let n=Gd();this.Ye.forEach(((e,t)=>{let s=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(s=!1,!1)})),s&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const s=new zu(e,t,this.Ze,this.He,n);return this.He=Ud(),this.Je=Wu(),this.Ye=Wu(),this.Ze=new ic(Al),s}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Hu,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new lc(Al),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new lc(Al),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||ol("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Hu),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Wu(){return new ic(ql.comparator)}function Gu(){return new ic(ql.comparator)}const Qu=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Yu=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Xu=(()=>({and:"AND",or:"OR"}))();class Ju{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zu(e,t){return e.useProto3Json||Jl(t)?t:{value:t}}function eh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function th(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nh(e,t){return eh(e,t.toTimestamp())}function sh(e){return ml(!!e,49232),Ll.fromTimestamp(function(e){const t=fc(e);return new Ol(t.seconds,t.nanos)}(e))}function rh(e,t){return ih(e,t).canonicalString()}function ih(e,t){const n=(s=e,new zl(["projects",s.projectId,"databases",s.database])).child("documents");var s;return void 0===t?n:n.child(t)}function ah(e){const t=zl.fromString(e);return ml(kh(t),10190,{key:t.toString()}),t}function oh(e,t){return rh(e.databaseId,t.path)}function lh(e,t){const n=ah(t);if(n.get(1)!==e.databaseId.projectId)throw new gl(pl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gl(pl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ql(uh(n))}function ch(e,t){return rh(e.databaseId,t)}function dh(e){return new zl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uh(e){return ml(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function hh(e,t,n){return{name:oh(e,t),fields:n.value.mapValue.fields}}function mh(e,t){return{documents:[ch(e,t.path)]}}function fh(e,t){const n={structuredQuery:{}},s=t.path;let r;null!==t.collectionGroup?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ch(e,r);const i=function(e){if(0!==e.length)return jh(rd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>{return{field:bh((t=e).field),direction:xh(t.dir)};var t}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Zu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:r};var l}function ph(e){let t=function(e){const t=ah(e);return 4===t.length?zl.emptyPath():uh(t)}(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ml(1===s,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=gh(e);return t instanceof rd&&ad(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>{return new ed(wh((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Jl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Xc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Xc(n,t)}(n.endAt)),function(e,t,n,s,r,i,a,o){return new Nd(e,t,n,s,r,i,a,o)}(t,r,a,i,o,"F",l,c)}function gh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wh(e.unaryFilter.field);return sd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wh(e.unaryFilter.field);return sd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wh(e.unaryFilter.field);return sd.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=wh(e.unaryFilter.field);return sd.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ul(61313);default:return ul(60726)}}(e):void 0!==e.fieldFilter?(t=e,sd.create(wh(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ul(58110);default:return ul(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return rd.create(e.compositeFilter.filters.map((e=>gh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ul(1026)}}(e.compositeFilter.op))}(e):ul(30097,{filter:e});var t}function xh(e){return Qu[e]}function yh(e){return Yu[e]}function vh(e){return Xu[e]}function bh(e){return{fieldPath:e.canonicalString()}}function wh(e){return Bl.fromServerFormat(e.fieldPath)}function jh(e){return e instanceof sd?function(e){if("=="===e.op){if(Hc(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NAN"}};if($c(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hc(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NAN"}};if($c(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(e.field),op:yh(e.op),value:e.value}}}(e):e instanceof rd?function(e){const t=e.getFilters().map((e=>jh(e)));return 1===t.length?t[0]:{compositeFilter:{op:vh(e.op),filters:t}}}(e):ul(54877,{filter:e})}function Nh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function kh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ch{constructor(e,t,n,s,r=Ll.min(),i=Ll.min(),a=hc.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sh{constructor(e){this.wt=e}}function Th(e){const t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Id(t,t.limit,"L"):t}class Eh{constructor(){this.yn=new Ah}addToCollectionParentIndex(e,t){return this.yn.add(t),Ql.resolve()}getCollectionParents(e,t){return Ql.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Ql.resolve()}deleteFieldIndex(e,t){return Ql.resolve()}deleteAllFieldIndexes(e){return Ql.resolve()}createTargetIndexes(e,t){return Ql.resolve()}getDocumentsMatchingTarget(e,t){return Ql.resolve(null)}getIndexType(e,t){return Ql.resolve(0)}getFieldIndexes(e,t){return Ql.resolve([])}getNextCollectionGroupToUpdate(e){return Ql.resolve(null)}getMinOffset(e,t){return Ql.resolve(Hl.min())}getMinOffsetFromCollectionGroup(e,t){return Ql.resolve(Hl.min())}updateCollectionGroup(e,t,n){return Ql.resolve()}updateIndexEntries(e,t){return Ql.resolve()}}class Ah{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new lc(zl.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new lc(zl.comparator)).toArray()}}const Ih={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_h=41943040;class Ph{static withCacheSize(e){return new Ph(e,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ph.DEFAULT_COLLECTION_PERCENTILE=10,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ph.DEFAULT=new Ph(_h,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ph.DISABLED=new Ph(-1,0,0);class Dh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Dh(0)}static ir(){return new Dh(-1)}}const Rh="LruGarbageCollector";function Mh([e,t],[n,s]){const r=Al(e,n);return 0===r?Al(t,s):r}class Oh{constructor(e){this.cr=e,this.buffer=new lc(Mh),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Mh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){ol(Rh,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Yl(e)?ol(Rh,"Ignoring IndexedDB error during garbage collection: ",e):await Gl(e)}await this.Ir(3e5)}))}}class Fh{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ql.resolve(Xl.le);const n=new Oh(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ol("LruGarbageCollector","Garbage collection skipped; disabled"),Ql.resolve(Ih)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ol("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ih):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,s,r,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ol("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),s=this.params.maximumSequenceNumbersToCollect):s=t,i=Date.now(),this.nthSequenceNumber(e,s)))).next((s=>(n=s,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),al()<=ls.DEBUG&&ol("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${s} in `+(a-i)+`ms\n\tRemoved ${r} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),Ql.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:e}))))}}class Uh{constructor(){this.changes=new Ld((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ql.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vh{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&yu(n.mutation,e,dc.empty(),Ol.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Gd()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Gd()){const s=qd();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((e=>{let t=Vd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=qd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Gd())))}populateOverlays(e,t,n){const s=[];return n.forEach((e=>{t.has(e)||s.push(e)})),this.documentOverlayCache.getOverlays(e,s).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,s){let r=Ud();const i=Hd(),a=Hd();return t.forEach(((e,t)=>{const a=n.get(t.key);s.has(t.key)&&(void 0===a||a.mutation instanceof ju)?r=r.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),yu(a.mutation,t,a.mutation.getFieldMask(),Ol.now())):i.set(t.key,dc.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new zh(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Hd();let s=new ic(((e,t)=>e-t)),r=Gd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||dc.empty();a=r.applyToLocalView(i,a),n.set(e,a);const o=(s.get(r.batchId)||Gd()).add(e);s=s.insert(r.batchId,o)}))})).next((()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const s=a.getNext(),o=s.key,l=s.value,c=$d();l.forEach((e=>{if(!r.has(e)){const s=gu(t.get(e),n.get(e));null!==s&&c.set(e,s),r=r.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ql.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,s){return r=t,ql.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s);var r}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((r=>{const i=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):Ql.resolve(qd());let a=-1,o=r;return i.next((t=>Ql.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?Ql.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,o,t,Gd()))).next((e=>({batchId:a,changes:Bd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ql(t)).next((e=>{let t=Vd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const r=t.collectionGroup;let i=Vd();return this.indexManager.getCollectionParents(e,r).next((a=>Ql.forEach(a,(a=>{const o=(l=t,c=a.child(r),new Nd(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,s).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s)))).next((e=>{r.forEach(((t,n)=>{const s=n.getKey();null===e.get(s)&&(e=e.insert(s,Yc.newInvalidDocument(s)))}));let n=Vd();return e.forEach(((e,s)=>{const i=r.get(e);void 0!==i&&yu(i.mutation,s,dc.empty(),Ol.now()),Rd(t,s)&&(n=n.insert(e,s))})),n}))}}class Bh{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Ql.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,{id:(n=t).id,version:n.version,createTime:sh(n.createTime)}),Ql.resolve();var n}getNamedQuery(e,t){return Ql.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,{name:(n=t).name,query:Th(n.bundledQuery),readTime:sh(n.readTime)}),Ql.resolve();var n}}class qh{constructor(){this.overlays=new ic(ql.comparator),this.Or=new Map}getOverlay(e,t){return Ql.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qd();return Ql.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,s)=>{this.St(e,t,s)})),Ql.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Or.get(n);return void 0!==s&&(s.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),Ql.resolve()}getOverlaysForCollection(e,t,n){const s=qd(),r=t.length+1,i=new ql(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===r&&e.largestBatchId>n&&s.set(e.getKey(),e)}return Ql.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new ic(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=qd(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=qd(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=s)););return Ql.resolve(a)}St(e,t,n){const s=this.overlays.get(n.key);if(null!==s){const e=this.Or.get(s.largestBatchId).delete(n.key);this.Or.set(s.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Iu(t,n));let r=this.Or.get(t);void 0===r&&(r=Gd(),this.Or.set(t,r)),this.Or.set(t,r.add(n.key))}}class $h{constructor(){this.sessionToken=hc.EMPTY_BYTE_STRING}getSessionToken(e){return Ql.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ql.resolve()}}class Hh{constructor(){this.Nr=new lc(Kh.Br),this.Lr=new lc(Kh.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Kh(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Kh(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new ql(new zl([])),n=new Kh(t,e),s=new Kh(t,e+1),r=[];return this.Lr.forEachInRange([n,s],(e=>{this.Qr(e),r.push(e.key)})),r}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ql(new zl([])),n=new Kh(t,e),s=new Kh(t,e+1);let r=Gd();return this.Lr.forEachInRange([n,s],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Kh(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Kh{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ql.comparator(e.key,t.key)||Al(e.Gr,t.Gr)}static kr(e,t){return Al(e.Gr,t.Gr)||ql.comparator(e.key,t.key)}}class Wh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new lc(Kh.Br)}checkEmpty(e){return Ql.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,s){const r=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Eu(r,t,n,s);this.mutationQueue.push(i);for(const a of s)this.zr=this.zr.add(new Kh(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ql.resolve(i)}lookupMutationBatch(e,t){return Ql.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Hr(n),r=s<0?0:s;return Ql.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ql.resolve(0===this.mutationQueue.length?-1:this.Jn-1)}getAllMutationBatches(e){return Ql.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kh(t,0),s=new Kh(t,Number.POSITIVE_INFINITY),r=[];return this.zr.forEachInRange([n,s],(e=>{const t=this.jr(e.Gr);r.push(t)})),Ql.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lc(Al);return t.forEach((e=>{const t=new Kh(e,0),s=new Kh(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,s],(e=>{n=n.add(e.Gr)}))})),Ql.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let r=n;ql.isDocumentKey(r)||(r=r.child(""));const i=new Kh(new ql(r),0);let a=new lc(Al);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===s&&(a=a.add(e.Gr)),!0)}),i),Ql.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ml(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return Ql.forEach(t.mutations,(s=>{const r=new Kh(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Kh(t,0),s=this.zr.firstAfterOrEqual(n);return Ql.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ql.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gh{constructor(e){this.Zr=e,this.docs=new ic(ql.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),r=s?s.size:0,i=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ql.resolve(n?n.document.mutableCopy():Yc.newInvalidDocument(t))}getEntries(e,t){let n=Ud();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yc.newInvalidDocument(e))})),Ql.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=Ud();const i=t.path,a=new ql(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Kl($l(a),n)<=0||(s.has(a.key)||Rd(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return Ql.resolve(r)}getAllFromCollectionGroup(e,t,n,s){ul(9500)}Xr(e,t){return Ql.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Qh(this)}getSize(e){return Ql.resolve(this.size)}}class Qh extends Uh{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(n)})),Ql.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Yh{constructor(e){this.persistence=e,this.ei=new Ld((e=>bd(e)),wd),this.lastRemoteSnapshotVersion=Ll.min(),this.highestTargetId=0,this.ti=0,this.ni=new Hh,this.targetCount=0,this.ri=Dh.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),Ql.resolve()}getLastRemoteSnapshotVersion(e){return Ql.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ql.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ql.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),Ql.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Dh(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Ql.resolve()}updateTargetData(e,t){return this.ar(t),Ql.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Ql.resolve()}removeTargets(e,t,n){let s=0;const r=[];return this.ei.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ei.delete(i),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),Ql.waitFor(r).next((()=>s))}getTargetCount(e){return Ql.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return Ql.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),Ql.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach((t=>{r.push(s.markPotentiallyOrphaned(e,t))})),Ql.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Ql.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return Ql.resolve(n)}containsKey(e,t){return Ql.resolve(this.ni.containsKey(t))}}class Xh{constructor(e,t){this.ii={},this.overlays={},this.si=new Xl(0),this.oi=!1,this.oi=!0,this._i=new $h,this.referenceDelegate=e(this),this.ai=new Yh(this),this.indexManager=new Eh,this.remoteDocumentCache=new Gh((e=>this.referenceDelegate.ui(e))),this.serializer=new Sh(t),this.ci=new Bh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Wh(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){ol("MemoryPersistence","Starting transaction:",e);const s=new Jh(this.si.next());return this.referenceDelegate.li(),n(s).next((e=>this.referenceDelegate.hi(s).next((()=>e)))).toPromise().then((e=>(s.raiseOnCommittedEvent(),e)))}Pi(e,t){return Ql.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class Jh extends Wl{constructor(e){super(),this.currentSequenceNumber=e}}class Zh{constructor(e){this.persistence=e,this.Ti=new Hh,this.Ii=null}static Ei(e){return new Zh(e)}get di(){if(this.Ii)return this.Ii;throw ul(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),Ql.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),Ql.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ql.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ql.forEach(this.di,(n=>{const s=ql.fromPath(n);return this.Ai(e,s).next((e=>{e||t.removeEntry(s,Ll.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return Ql.or([()=>Ql.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class em{constructor(e,t){this.persistence=e,this.Ri=new Ld((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tc(t)),t=ec(e.get(n),t);return tc(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new Fh(e,t)}(this,t)}static Ei(e,t){return new em(e,t)}li(){}hi(e){return Ql.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return Ql.forEach(this.Ri,((n,s)=>this.gr(e,n,s).next((e=>e?Ql.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Xr(e,(s=>this.gr(e,s,t).next((e=>{e||(n++,r.removeEntry(s,Ll.min()))})))).next((()=>r.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Ql.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Ql.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Ql.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Ql.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zc(e.data.value)),t}gr(e,t,n){return Ql.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return Ql.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tm{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=s}static Ps(e,t){let n=Gd(),s=Gd();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new tm(e,t.fromCache,n,s)}}class nm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sm{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=qn()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Vn())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,s){const r={result:null};return this.Rs(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.Vs(e,t,s,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new nm;return this.fs(e,t,n).next((s=>{if(r.result=s,this.Is)return this.gs(e,t,n,s.size)}))})).next((()=>r.result))}gs(e,t,n,s){return n.documentReadCount<this.Es?(al()<=ls.DEBUG&&ol("QueryEngine","SDK will not create cache indexes for query:",Dd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ql.resolve()):(al()<=ls.DEBUG&&ol("QueryEngine","Query:",Dd(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ds*s?(al()<=ls.DEBUG&&ol("QueryEngine","The SDK decides to create cache indexes for query:",Dd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ed(t))):Ql.resolve())}Rs(e,t){if(Cd(t))return Ql.resolve(null);let n=Ed(t);return this.indexManager.getIndexType(e,n).next((s=>0===s?null:(null!==t.limit&&1===s&&(t=Id(t,null,"F"),n=Ed(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const r=Gd(...s);return this.As.getDocuments(e,r).next((s=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ps(t,s);return this.ys(t,i,r,n.readTime)?this.Rs(e,Id(t,null,"F")):this.ws(e,i,t,n)}))))})))))}Vs(e,t,n,s){return Cd(t)||s.isEqual(Ll.min())?Ql.resolve(null):this.As.getDocuments(e,n).next((r=>{const i=this.ps(t,r);return this.ys(t,i,n,s)?Ql.resolve(null):(al()<=ls.DEBUG&&ol("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dd(t)),this.ws(e,i,t,function(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=Ll.fromTimestamp(1e9===s?new Ol(n+1,0):new Ol(n,s));return new Hl(r,ql.empty(),t)}(s,-1)).next((e=>e)))}))}ps(e,t){let n=new lc(Md(e));return t.forEach(((t,s)=>{Rd(e,s)&&(n=n.add(s))})),n}ys(e,t,n,s){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}fs(e,t,n){return al()<=ls.DEBUG&&ol("QueryEngine","Using full collection scan to execute query:",Dd(t)),this.As.getDocumentsMatchingQuery(e,t,Hl.min(),n)}ws(e,t,n,s){return this.As.getDocumentsMatchingQuery(e,n,s).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const rm="LocalStore";class im{constructor(e,t,n,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new ic(Al),this.Ds=new Ld((e=>bd(e)),wd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vh(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}async function am(e,t){const n=fl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.mutationQueue.getAllMutationBatches(e).next((r=>(s=r,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],i=[];let a=Gd();for(const e of s){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ms:e,removedBatchIds:r,addedBatchIds:i})))}))}))}function om(e){const t=fl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function lm(e,t){const n=fl(e),s=t.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const a=[];t.targetChanges.forEach(((i,o)=>{const l=r.get(o);if(!l)return;a.push(n.ai.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.ai.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(hc.EMPTY_BYTE_STRING,Ll.min()).withLastLimboFreeSnapshotVersion(Ll.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,s)),r=r.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.ai.updateTargetData(e,c))}));let o=Ud(),l=Gd();if(t.documentUpdates.forEach((s=>{t.resolvedLimboDocuments.has(s)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,s))})),a.push(function(e,t,n){let s=Gd(),r=Gd();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=Ud();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),i.isNoDocument()&&i.version.isEqual(Ll.min())?(t.removeEntry(n,i.readTime),s=s.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),s=s.insert(n,i)):ol(rm,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{xs:s,Os:r}}))}(e,i,t.documentUpdates).next((e=>{o=e.xs,l=e.Os}))),!s.isEqual(Ll.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,s)));a.push(t)}return Ql.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ss=r,e)))}function cm(e,t){const n=fl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function dm(e,t,n){const s=fl(e),r=s.Ss.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(e=>s.persistence.referenceDelegate.removeTarget(e,r)))}catch(a){if(!Yl(a))throw a;ol(rm,`Failed to update sequence numbers for target ${t}: ${a}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(r.target)}function um(e,t,n){const s=fl(e);let r=Ll.min(),i=Gd();return s.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const s=fl(e),r=s.Ds.get(n);return void 0!==r?Ql.resolve(s.Ss.get(r)):s.ai.getTargetData(t,n)}(s,e,Ed(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>s.bs.getDocumentsMatchingQuery(e,t,n?r:Ll.min(),n?i:Gd()))).next((e=>(function(e,t,n){let s=e.vs.get(t)||Ll.min();n.forEach(((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)})),e.vs.set(t,s)}(s,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ns:i})))))}class hm{constructor(){this.activeTargetIds=Qd}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mm{constructor(){this.So=new hm,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new hm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fm{vo(e){}shutdown(){}}const pm="ConnectivityMonitor";class gm{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ol(pm,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ol(pm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xm=null;function ym(){return null===xm?xm=268435456+Math.round(2147483648*Math.random()):xm++,"0x"+xm.toString(16)}const vm="RestConnection",bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wm{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${s}`,this.qo=this.databaseId.database===Cc?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Qo(e,t,n,s,r){const i=ym(),a=this.$o(e,t.toUriEncodedString());ol(vm,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(o,s,r),this.Ko(e,a,o,n).then((t=>(ol(vm,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw cl(vm,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t}))}Wo(e,t,n,s,r,i){return this.Qo(e,t,n,s,r)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=bm[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class jm{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Nm="WebChannelConnection";class km extends wm{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,s){const r=ym();return new Promise(((i,a)=>{const o=new Ko;o.setWithCredentials(!0),o.listenOnce(Go.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qo.NO_ERROR:const t=o.getResponseJson();ol(Nm,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(t)),i(t);break;case Qo.TIMEOUT:ol(Nm,`RPC '${e}' ${r} timed out`),a(new gl(pl.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const n=o.getStatus();if(ol(Nm,`RPC '${e}' ${r} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pl).indexOf(t)>=0?t:pl.UNKNOWN}(t.status);a(new gl(e,t.message))}else a(new gl(pl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gl(pl.UNAVAILABLE,"Connection failed."));break;default:ul(9055,{s_:e,streamId:r,o_:o.getLastErrorCode(),__:o.getLastError()})}}finally{ol(Nm,`RPC '${e}' ${r} completed.`)}}));const l=JSON.stringify(s);ol(Nm,`RPC '${e}' ${r} sending request:`,s),o.send(t,"POST",l,n,15)}))}a_(e,t,n){const s=ym(),r=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zo(),a=Jo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Uo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");ol(Nm,`Creating RPC '${e}' stream ${s}: ${c}`,o);const d=i.createWebChannel(c,o);let u=!1,h=!1;const m=new jm({Go:t=>{h?ol(Nm,`Not sending because RPC '${e}' stream ${s} is closed:`,t):(u||(ol(Nm,`Opening RPC '${e}' stream ${s} transport.`),d.open(),u=!0),ol(Nm,`RPC '${e}' stream ${s} sending:`,t),d.send(t))},zo:()=>d.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(d,Wo.EventType.OPEN,(()=>{h||(ol(Nm,`RPC '${e}' stream ${s} transport opened.`),m.t_())})),f(d,Wo.EventType.CLOSE,(()=>{h||(h=!0,ol(Nm,`RPC '${e}' stream ${s} transport closed`),m.r_())})),f(d,Wo.EventType.ERROR,(t=>{h||(h=!0,cl(Nm,`RPC '${e}' stream ${s} transport errored. Name:`,t.name,"Message:",t.message),m.r_(new gl(pl.UNAVAILABLE,"The operation could not be completed")))})),f(d,Wo.EventType.MESSAGE,(t=>{var n;if(!h){const r=t.data[0];ml(!!r,16349);const i=r,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){ol(Nm,`RPC '${e}' stream ${s} received error:`,a);const t=a.status;let n=function(e){const t=Pu[e];if(void 0!==t)return Ru(t)}(t),r=a.message;void 0===n&&(n=pl.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),h=!0,m.r_(new gl(n,r)),d.close()}else ol(Nm,`RPC '${e}' stream ${s} received:`,r),m.i_(r)}})),f(a,Xo.STAT_EVENT,(t=>{t.stat===Yo.PROXY?ol(Nm,`RPC '${e}' stream ${s} detected buffering proxy`):t.stat===Yo.NOPROXY&&ol(Nm,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{m.n_()}),0),m}}function Cm(){return"undefined"!=typeof document?document:null}function Sm(e){return new Ju(e,!0)}class Tm{constructor(e,t,n=1e3,s=1.5,r=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=s,this.l_=r,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-n);s>0&&ol("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Em="PersistentStream";class Am{constructor(e,t,n,s,r,i,a,o){this.bi=e,this.R_=n,this.V_=s,this.connection=r,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Tm(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===pl.RESOURCE_EXHAUSTED?(ll(t.toString()),ll("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===pl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.m_===t&&this.B_(e,n)}),(t=>{e((()=>{const e=new gl(pl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return ol(Em,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(ol(Em,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Im extends Am{constructor(e,t,n,s,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r="NO_CHANGE"===(s=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===s?1:"REMOVE"===s?2:"CURRENT"===s?3:"RESET"===s?4:ul(39313,{state:s}),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ml(void 0===t||"string"==typeof t,58123),hc.fromBase64String(t||"")):(ml(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),hc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?pl.UNKNOWN:Ru(e.code);return new gl(t,e.message||"")}(o);n=new $u(r,i,a,l||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=lh(e,s.document.name),i=sh(s.document.updateTime),a=s.document.createTime?sh(s.document.createTime):Ll.min(),o=new Gc({mapValue:{fields:s.document.fields}}),l=Yc.newFoundDocument(r,i,a,o),c=s.targetIds||[],d=s.removedTargetIds||[];n=new Bu(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=lh(e,s.document),i=s.readTime?sh(s.readTime):Ll.min(),a=Yc.newNoDocument(r,i),o=s.removedTargetIds||[];n=new Bu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=lh(e,s.document),i=s.removedTargetIds||[];n=new Bu([],i,r,null)}else{if(!("filter"in t))return ul(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:s=0,unchangedNames:r}=e,i=new _u(s,r),a=e.targetId;n=new qu(a,i)}}var s;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ll.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ll.min():t.readTime?sh(t.readTime):Ll.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=dh(this.serializer),t.addTarget=function(e,t){let n;const s=t.target;if(n=jd(s)?{documents:mh(e,s)}:{query:fh(e,s).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=th(e,t.resumeToken);const s=Zu(e,t.expectedCount);null!==s&&(n.expectedCount=s)}else if(t.snapshotVersion.compareTo(Ll.min())>0){n.readTime=eh(e,t.snapshotVersion.toTimestamp());const s=Zu(e,t.expectedCount);null!==s&&(n.expectedCount=s)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ul(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=dh(this.serializer),t.removeTarget=e,this.F_(t)}}class _m extends Am{constructor(e,t,n,s,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ml(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ml(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){ml(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(ml(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?sh(e.updateTime):sh(t);return n.isEqual(Ll.min())&&(n=sh(t)),new hu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sh(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=dh(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof wu)n={update:hh(e,t.key,t.value)};else if(t instanceof Su)n={delete:oh(e,t.key)};else if(t instanceof ju)n={update:hh(e,t.key,t.data),updateMask:Nh(t.fieldMask)};else{if(!(t instanceof Tu))return ul(16599,{ft:t.type});n={verify:oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof su)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ru)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof au)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lu)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw ul(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=(s=e,void 0!==(r=t.precondition).updateTime?{updateTime:nh(s,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ul(27497))),n;var s,r}(this.serializer,e)))};this.F_(t)}}class Pm{}class Dm extends Pm{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new gl(pl.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Qo(e,ih(t,n),s,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===pl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gl(pl.UNKNOWN,e.toString())}))}Wo(e,t,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,ih(t,n),s,i,a,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===pl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gl(pl.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Rm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ll(t),this.ea=!1):ol("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Mm="RemoteStore";class Om{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=r,this.ca.vo((e=>{n.enqueueAndForget((async()=>{Hm(this)&&(ol(Mm,"Restarting streams for network reachability change."),await async function(e){const t=fl(e);t.aa.add(4),await Fm(t),t.la.set("Unknown"),t.aa.delete(4),await Lm(t)}(this))}))})),this.la=new Rm(n,s)}}async function Lm(e){if(Hm(e))for(const t of e.ua)await t(!0)}async function Fm(e){for(const t of e.ua)await t(!1)}function Um(e,t){const n=fl(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),$m(n)?qm(n):df(n).b_()&&Vm(n,t))}function zm(e,t){const n=fl(e),s=df(n);n._a.delete(t),s.b_()&&Bm(n,t),0===n._a.size&&(s.b_()?s.v_():Hm(n)&&n.la.set("Unknown"))}function Vm(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ll.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}df(e).U_(t)}function Bm(e,t){e.ha.Ke(t),df(e).K_(t)}function qm(e){e.ha=new Ku({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),df(e).start(),e.la.ta()}function $m(e){return Hm(e)&&!df(e).w_()&&e._a.size>0}function Hm(e){return 0===fl(e).aa.size}function Km(e){e.ha=void 0}async function Wm(e){e.la.set("Online")}async function Gm(e){e._a.forEach(((t,n)=>{Vm(e,t)}))}async function Qm(e,t){Km(e),$m(e)?(e.la.ia(t),qm(e)):e.la.set("Unknown")}async function Ym(e,t,n){if(e.la.set("Online"),t instanceof $u&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const s of t.targetIds)e._a.has(s)&&(await e.remoteSyncer.rejectListen(s,n),e._a.delete(s),e.ha.removeTarget(s))}(e,t)}catch(s){ol(Mm,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Xm(e,s)}else if(t instanceof Bu?e.ha.Xe(t):t instanceof qu?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Ll.min()))try{const t=await om(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,s)=>{if(n.resumeToken.approximateByteSize()>0){const r=e._a.get(s);r&&e._a.set(s,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const s=e._a.get(t);if(!s)return;e._a.set(t,s.withResumeToken(hc.EMPTY_BYTE_STRING,s.snapshotVersion)),Bm(e,t);const r=new Ch(s.target,t,n,s.sequenceNumber);Vm(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(r){ol(Mm,"Failed to raise snapshot:",r),await Xm(e,r)}}async function Xm(e,t,n){if(!Yl(t))throw t;e.aa.add(1),await Fm(e),e.la.set("Offline"),n||(n=()=>om(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ol(Mm,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await Lm(e)}))}function Jm(e,t){return t().catch((n=>Xm(e,n,t)))}async function Zm(e){const t=fl(e),n=uf(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:-1;for(;ef(t);)try{const e=await cm(t.localStore,s);if(null===e){0===t.oa.length&&n.v_();break}s=e.batchId,tf(t,e)}catch(r){await Xm(t,r)}nf(t)&&sf(t)}function ef(e){return Hm(e)&&e.oa.length<10}function tf(e,t){e.oa.push(t);const n=uf(e);n.b_()&&n.W_&&n.G_(t.mutations)}function nf(e){return Hm(e)&&!uf(e).w_()&&e.oa.length>0}function sf(e){uf(e).start()}async function rf(e){uf(e).H_()}async function af(e){const t=uf(e);for(const n of e.oa)t.G_(n.mutations)}async function of(e,t,n){const s=e.oa.shift(),r=Au.from(s,t,n);await Jm(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Zm(e)}async function lf(e,t){t&&uf(e).W_&&await async function(e,t){if(function(e){switch(e){case pl.OK:return ul(64938);case pl.CANCELLED:case pl.UNKNOWN:case pl.DEADLINE_EXCEEDED:case pl.RESOURCE_EXHAUSTED:case pl.INTERNAL:case pl.UNAVAILABLE:case pl.UNAUTHENTICATED:return!1;case pl.INVALID_ARGUMENT:case pl.NOT_FOUND:case pl.ALREADY_EXISTS:case pl.PERMISSION_DENIED:case pl.FAILED_PRECONDITION:case pl.ABORTED:case pl.OUT_OF_RANGE:case pl.UNIMPLEMENTED:case pl.DATA_LOSS:return!0;default:return ul(15467,{code:e})}}(n=t.code)&&n!==pl.ABORTED){const n=e.oa.shift();uf(e).D_(),await Jm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Zm(e)}var n}(e,t),nf(e)&&sf(e)}async function cf(e,t){const n=fl(e);n.asyncQueue.verifyOperationInProgress(),ol(Mm,"RemoteStore received new credentials");const s=Hm(n);n.aa.add(3),await Fm(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await Lm(n)}function df(e){return e.Pa||(e.Pa=function(e,t,n){const s=fl(e);return s.Y_(),new Im(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{jo:Wm.bind(null,e),Jo:Gm.bind(null,e),Zo:Qm.bind(null,e),Q_:Ym.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),$m(e)?qm(e):e.la.set("Unknown")):(await e.Pa.stop(),Km(e))}))),e.Pa}function uf(e){return e.Ta||(e.Ta=function(e,t,n){const s=fl(e);return s.Y_(),new _m(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:rf.bind(null,e),Zo:lf.bind(null,e),z_:af.bind(null,e),j_:of.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await Zm(e)):(await e.Ta.stop(),e.oa.length>0&&(ol(Mm,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class hf{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){const i=Date.now()+n,a=new hf(e,t,i,s,r);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gl(pl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mf(e,t){if(ll("AsyncQueue",`${t}: ${e}`),Yl(e))return new gl(pl.UNAVAILABLE,`${t}: ${e}`);throw e}class ff{static emptySet(e){return new ff(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ql.comparator(t.key,n.key):(e,t)=>ql.comparator(e.key,t.key),this.keyedMap=Vd(),this.sortedSet=new ic(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(!e.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pf{constructor(){this.Ia=new ic(ql.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ul(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gf{constructor(e,t,n,s,r,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,s,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new gf(e,t,ff.emptySet(t),i,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class xf{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class yf{constructor(){this.queries=vf(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=fl(e),s=n.queries;n.queries=vf(),s.forEach(((e,n)=>{for(const s of n.Ra)s.onError(t)}))}(this,new gl(pl.ABORTED,"Firestore shutting down"))}}function vf(){return new Ld((e=>Pd(e)),_d)}async function bf(e,t){const n=fl(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.Va()&&t.ma()&&(s=2):(i=new xf,s=t.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const e=mf(a,`Initialization of query '${Dd(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,i),i.Ra.push(t),t.ga(n.onlineState),i.Aa&&t.pa(i.Aa)&&kf(n)}async function wf(e,t){const n=fl(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const e=i.Ra.indexOf(t);e>=0&&(i.Ra.splice(e,1),0===i.Ra.length?r=t.ma()?0:1:!i.Va()&&t.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jf(e,t){const n=fl(e);let s=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(r)&&(s=!0);t.Aa=r}}s&&kf(n)}function Nf(e,t,n){const s=fl(e),r=s.queries.get(t);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(t)}function kf(e){e.fa.forEach((e=>{e.next()}))}var Cf,Sf;(Sf=Cf||(Cf={})).ya="default",Sf.Cache="cache";class Tf{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Cf.Cache}}class Ef{constructor(e){this.key=e}}class Af{constructor(e){this.key=e}}class If{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Gd(),this.mutatedKeys=Gd(),this.Ua=Md(e),this.Ka=new ff(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new pf,s=t?t.Ka:this.Ka;let r=t?t.mutatedKeys:this.mutatedKeys,i=s,a=!1;const o="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,l="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((e,t)=>{const c=s.get(e),d=Rd(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),m=!0):this.ja(c,d)||(n.track({type:2,doc:d}),m=!0,(o&&this.Ua(d,o)>0||l&&this.Ua(d,l)<0)&&(a=!0)):!c&&d?(n.track({type:0,doc:d}),m=!0):c&&!d&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(d?(i=i.add(d),r=h?r.add(e):r.delete(e)):(i=i.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ka:i,za:n,ys:a,mutatedKeys:r}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const r=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const i=e.za.da();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ul(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),s=null!=s&&s;const a=t&&!s?this.Ja():[],o=0===this.$a.size&&this.current&&!s?1:0,l=o!==this.Qa;return this.Qa=o,0!==i.length||l?{snapshot:new gf(this.query,e.Ka,r,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new pf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Gd(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new Af(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Ef(n))})),t}Xa(e){this.qa=e.Ns,this.$a=Gd();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return gf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const _f="SyncEngine";class Pf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Df{constructor(e){this.key=e,this.tu=!1}}class Rf{constructor(e,t,n,s,r,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=i,this.nu={},this.ru=new Ld((e=>Pd(e)),_d),this.iu=new Map,this.su=new Set,this.ou=new ic(ql.comparator),this._u=new Map,this.au=new Hh,this.uu={},this.cu=new Map,this.lu=Dh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function Mf(e,t,n=!0){const s=np(e);let r;const i=s.ru.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await Lf(s,t,n,!0),r}async function Of(e,t){const n=np(e);await Lf(n,t,!0,!1)}async function Lf(e,t,n,s){const r=await function(e,t){const n=fl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let s;return n.ai.getTargetData(e,t).next((r=>r?(s=r,Ql.resolve(s)):n.ai.allocateTargetId(e).next((r=>(s=new Ch(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,s).next((()=>s)))))))})).then((e=>{const s=n.Ss.get(e.targetId);return(null===s||e.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}(e.localStore,Ed(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return s&&(o=await async function(e,t,n,s,r){e.Pu=(t,n,s)=>async function(e,t,n,s){let r=t.view.Ga(n);r.ys&&(r=await um(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ga(e,r))));const i=s&&s.targetChanges.get(t.targetId),a=s&&null!=s.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,i,a);return Yf(e,t.targetId,o.Ya),o.snapshot}(e,t,n,s);const i=await um(e.localStore,t,!0),a=new If(t,i.Ns),o=a.Ga(i.documents),l=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);Yf(e,n,c.Ya);const d=new Pf(t,n,a);return e.ru.set(t,d),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}(e,t,i,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&Um(e.remoteStore,r),o}async function Ff(e,t,n){const s=fl(e),r=s.ru.get(t),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter((e=>!_d(e,t)))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await dm(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&zm(s.remoteStore,r.targetId),Gf(s,r.targetId)})).catch(Gl)):(Gf(s,r.targetId),await dm(s.localStore,r.targetId,!0))}async function Uf(e,t){const n=fl(e),s=n.ru.get(t),r=n.iu.get(s.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zm(n.remoteStore,s.targetId))}async function zf(e,t,n){const s=function(e){const t=fl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$f.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hf.bind(null,t),t}(e);try{const e=await function(e,t){const n=fl(e),s=Ol.now(),r=t.reduce(((e,t)=>e.add(t.key)),Gd());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ud(),l=Gd();return n.Cs.getEntries(e,r).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((r=>{i=r;const a=[];for(const e of t){const t=vu(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new ju(e.key,t,Qc(t.value.mapValue),mu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,a,t)})).next((t=>{a=t;const s=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)}))})).then((()=>({batchId:a.batchId,changes:Bd(i)})))}(s.localStore,t);s.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let s=e.uu[e.currentUser.toKey()];s||(s=new ic(Al)),s=s.insert(t,n),e.uu[e.currentUser.toKey()]=s}(s,e.batchId,n),await Zf(s,e.changes),await Zm(s.remoteStore)}catch(r){const e=mf(r,"Failed to persist write");n.reject(e)}}async function Vf(e,t){const n=fl(e);try{const e=await lm(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const s=n._u.get(t);s&&(ml(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?s.tu=!0:e.modifiedDocuments.size>0?ml(s.tu,14607):e.removedDocuments.size>0&&(ml(s.tu,42227),s.tu=!1))})),await Zf(n,e,t)}catch(s){await Gl(s)}}function Bf(e,t,n){const s=fl(e);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const e=[];s.ru.forEach(((n,s)=>{const r=s.view.ga(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=fl(e);n.onlineState=t;let s=!1;n.queries.forEach(((e,n)=>{for(const r of n.Ra)r.ga(t)&&(s=!0)})),s&&kf(n)}(s.eventManager,t),e.length&&s.nu.Q_(e),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qf(e,t,n){const s=fl(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s._u.get(t),i=r&&r.key;if(i){let e=new ic(ql.comparator);e=e.insert(i,Yc.newNoDocument(i,Ll.min()));const n=Gd().add(i),r=new zu(Ll.min(),new Map,new ic(Al),e,n);await Vf(s,r),s.ou=s.ou.remove(i),s._u.delete(t),Jf(s)}else await dm(s.localStore,t,!1).then((()=>Gf(s,t,n))).catch(Gl)}async function $f(e,t){const n=fl(e),s=t.batch.batchId;try{const e=await function(e,t){const n=fl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const s=t.batch.keys(),r=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,s){const r=n.batch,i=r.keys();let a=Ql.resolve();return i.forEach((e=>{a=a.next((()=>s.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);ml(null!==i,48541),t.version.compareTo(i)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),s.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(n.localStore,t);Wf(n,s,null),Kf(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zf(n,e)}catch(r){await Gl(r)}}async function Hf(e,t,n){const s=fl(e);try{const e=await function(e,t){const n=fl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let s;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ml(null!==t,37113),s=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,s))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(s.localStore,t);Wf(s,t,n),Kf(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zf(s,e)}catch(r){await Gl(r)}}function Kf(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function Wf(e,t,n){const s=fl(e);let r=s.uu[s.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),s.uu[s.currentUser.toKey()]=r}}function Gf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.iu.get(t))e.ru.delete(s),n&&e.nu.Tu(s,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||Qf(e,t)}))}function Qf(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(zm(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Jf(e))}function Yf(e,t,n){for(const s of n)s instanceof Ef?(e.au.addReference(s.key,t),Xf(e,s)):s instanceof Af?(ol(_f,"Document no longer in limbo: "+s.key),e.au.removeReference(s.key,t),e.au.containsKey(s.key)||Qf(e,s.key)):ul(19791,{Iu:s})}function Xf(e,t){const n=t.key,s=n.path.canonicalString();e.ou.get(n)||e.su.has(s)||(ol(_f,"New document in limbo: "+n),e.su.add(s),Jf(e))}function Jf(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new ql(zl.fromString(t)),s=e.lu.next();e._u.set(s,new Df(n)),e.ou=e.ou.insert(n,s),Um(e.remoteStore,new Ch(Ed(kd(n.path)),s,"TargetPurposeLimboResolution",Xl.le))}}async function Zf(e,t,n){const s=fl(e),r=[],i=[],a=[];s.ru.isEmpty()||(s.ru.forEach(((e,o)=>{a.push(s.Pu(o,t,n).then((e=>{var t;if((e||n)&&s.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;s.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=tm.Ps(o.targetId,e);i.push(t)}})))})),await Promise.all(a),s.nu.Q_(r),await async function(e,t){const n=fl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ql.forEach(t,(t=>Ql.forEach(t.ls,(s=>n.persistence.referenceDelegate.addReference(e,t.targetId,s))).next((()=>Ql.forEach(t.hs,(s=>n.persistence.referenceDelegate.removeReference(e,t.targetId,s)))))))))}catch(s){if(!Yl(s))throw s;ol(rm,"Failed to update sequence numbers: "+s)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),s=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(s);n.Ss=n.Ss.insert(e,r)}}}(s.localStore,i))}async function ep(e,t){const n=fl(e);if(!n.currentUser.isEqual(t)){ol(_f,"User change. New user:",t.toKey());const e=await am(n.localStore,t);n.currentUser=t,r="'waitForPendingWrites' promise is rejected due to a user change.",(s=n).cu.forEach((e=>{e.forEach((e=>{e.reject(new gl(pl.CANCELLED,r))}))})),s.cu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zf(n,e.Ms)}var s,r}function tp(e,t){const n=fl(e),s=n._u.get(t);if(s&&s.tu)return Gd().add(s.key);{let e=Gd();const s=n.iu.get(t);if(!s)return e;for(const t of s){const s=n.ru.get(t);e=e.unionWith(s.view.Wa)}return e}}function np(e){const t=fl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qf.bind(null,t),t.nu.Q_=jf.bind(null,t.eventManager),t.nu.Tu=Nf.bind(null,t.eventManager),t}class sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return function(e,t,n,s){return new im(e,t,n,s)}(this.persistence,new sm,e.initialUser,this.serializer)}Ru(e){return new Xh(Zh.Ei,this.serializer)}Au(e){return new mm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sp.provider={build:()=>new sp};class rp extends sp{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ml(this.persistence.referenceDelegate instanceof em,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Lh(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Ph.withCacheSize(this.cacheSizeBytes):Ph.DEFAULT;return new Xh((e=>em.Ei(e,t)),this.serializer)}}class ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Bf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ep.bind(null,this.syncEngine),await async function(e,t){const n=fl(e);t?(n.aa.delete(2),await Lm(n)):t||(n.aa.add(2),await Fm(n),n.la.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yf}createDatastore(e){const t=Sm(e.databaseInfo.databaseId),n=(s=e.databaseInfo,new km(s));var s;return function(e,t,n,s){return new Dm(e,t,n,s)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,s=e.asyncQueue,r=e=>Bf(this.syncEngine,e,0),i=gm.C()?new gm:new fm,new Om(t,n,s,r,i);var t,n,s,r,i}createSyncEngine(e,t){return function(e,t,n,s,r,i,a){const o=new Rf(e,t,n,s,r,i);return a&&(o.hu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=fl(e);ol(Mm,"RemoteStore shutting down."),t.aa.add(5),await Fm(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ip.provider={build:()=>new ip};class ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ll("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const op="FirestoreClient";class lp{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=sl.UNAUTHENTICATED,this.clientId=El.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async e=>{ol(op,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ol(op,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=mf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cp(e,t){e.asyncQueue.verifyOperationInProgress(),ol(op,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async e=>{s.isEqual(e)||(await am(t.localStore,e),s=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function dp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ol(op,"Using user provided OfflineComponentProvider");try{await cp(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!("FirebaseError"===(n=r).name?n.code===pl.FAILED_PRECONDITION||n.code===pl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw r;cl("Error using user provided cache. Falling back to memory cache: "+r),await cp(e,new sp)}}else ol(op,"Using default OfflineComponentProvider"),await cp(e,new rp(void 0));var n;return e._offlineComponents}(e);ol(op,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>cf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>cf(t.remoteStore,n))),e._onlineComponents=t}async function up(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ol(op,"Using user provided OnlineComponentProvider"),await dp(e,e._uninitializedComponentsProvider._online)):(ol(op,"Using default OnlineComponentProvider"),await dp(e,new ip))),e._onlineComponents}async function hp(e){const t=await up(e),n=t.eventManager;return n.onListen=Mf.bind(null,t.syncEngine),n.onUnlisten=Ff.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Of.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Uf.bind(null,t.syncEngine),n}function mp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const fp=new Map;function pp(e,t,n){if(!n)throw new gl(pl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gp(e){if(!ql.isDocumentKey(e))throw new gl(pl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xp(e){if(ql.isDocumentKey(e))throw new gl(pl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":ul(12329,{type:typeof e})}function vp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gl(pl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(e);throw new gl(pl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const bp="firestore.googleapis.com",wp=!0;class jp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gl(pl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bp,this.ssl=wp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:wp;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=_h;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gl(pl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,s){if(!0===t&&!0===s)throw new gl(pl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gl(pl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new gl(pl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new gl(pl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Np{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gl(pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gl(pl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vl;switch(e.type){case"firstParty":return new Nl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gl(pl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fp.get(e);t&&(ol("ComponentProvider","Removing Datastore"),fp.delete(e),t.terminate())}(this),Promise.resolve()}}class kp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kp(this.firestore,e,this._query)}}class Cp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cp(this.firestore,e,this._key)}}class Sp extends kp{constructor(e,t,n){super(e,t,kd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cp(this.firestore,null,new ql(e))}withConverter(e){return new Sp(this.firestore,e,this._path)}}function Tp(e,t,...n){if(e=ss(e),pp("collection","path",t),e instanceof Np){const s=zl.fromString(t,...n);return xp(s),new Sp(e,null,s)}{if(!(e instanceof Cp||e instanceof Sp))throw new gl(pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(zl.fromString(t,...n));return xp(s),new Sp(e.firestore,null,s)}}function Ep(e,t,...n){if(e=ss(e),1===arguments.length&&(t=El.newId()),pp("doc","path",t),e instanceof Np){const s=zl.fromString(t,...n);return gp(s),new Cp(e,null,new ql(s))}{if(!(e instanceof Cp||e instanceof Sp))throw new gl(pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(zl.fromString(t,...n));return gp(s),new Cp(e.firestore,e instanceof Sp?e.converter:null,new ql(s))}}const Ap="AsyncQueue";class Ip{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Tm(this,"async_queue_retry"),this.ju=()=>{const e=Cm();e&&ol(Ap,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Cm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Cm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new xl;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(Tv){if(!Yl(Tv))throw Tv;ol(Ap,"Operation failed with retryable error: "+Tv)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,ll("INTERNAL UNHANDLED ERROR: ",_p(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=hf.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(s),s}Ju(){this.Ku&&ul(47125,{ec:_p(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function _p(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Pp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const s of t)if(s in n&&"function"==typeof n[s])return!0;return!1}(e,["next","error","complete"])}class Dp extends Np{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Ip,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ip(e),this._firestoreClient=void 0,await e}}}function Rp(e){if(e._terminated)throw new gl(pl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,s;const r=e._freezeSettings(),i=(a=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=r,new kc(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,mp(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(s=r.localCache)||void 0===s?void 0:s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new lp(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class Mp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mp(hc.fromBase64String(e))}catch(t){throw new gl(pl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mp(hc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Op{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gl(pl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lp{constructor(e){this._methodName=e}}class Fp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gl(pl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gl(pl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Al(this._lat,e._lat)||Al(this._long,e._long)}}class Up{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const zp=/^__.*__$/;class Vp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class Bp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ul(40011,{oc:e})}}class $p{constructor(e,t,n,s,r,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,void 0===r&&this._c(),this.fieldTransforms=r||[],this.fieldMask=i||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ac({path:n,cc:!1});return s.lc(e),s}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ac({path:n,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return sg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(qp(this.oc)&&zp.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Hp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Sm(e)}dc(e,t,n,s=!1){return new $p({oc:e,methodName:t,Ec:n,path:Bl.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(e){const t=e._freezeSettings(),n=Sm(e._databaseId);return new Hp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wp(e,t,n,s,r,i={}){const a=e.dc(i.merge||i.mergeFields?2:0,t,n,r);Zp("Data must be an object, but it was:",a,s);const o=Xp(s,a);let l,c;if(i.merge)l=new dc(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const s of i.mergeFields){const r=eg(t,s,n);if(!a.contains(r))throw new gl(pl.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);rg(e,r)||e.push(r)}l=new dc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Vp(new Gc(o),l,c)}class Gp extends Lp{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gp}}class Qp extends Lp{_toFieldTransform(e){return new uu(e.path,new su)}isEqual(e){return e instanceof Qp}}function Yp(e,t){if(Jp(e=ss(e)))return Zp("Unsupported field value:",t,e),Xp(e,t);if(e instanceof Lp)return function(e,t){if(!qp(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let s=0;for(const r of e){let e=Yp(r,t.Pc(s));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),s++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ss(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ol.fromDate(e);return{timestampValue:eh(t.serializer,n)}}if(e instanceof Ol){const n=new Ol(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eh(t.serializer,n)}}if(e instanceof Fp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mp)return{bytesValue:th(t.serializer,e._byteString)};if(e instanceof Cp){const n=t.databaseId,s=e.firestore._databaseId;if(!s.isEqual(n))throw t.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Up)return n=e,s=t,{mapValue:{fields:{[Tc]:{stringValue:Ic},[_c]:{arrayValue:{values:n.toArray().map((e=>{if("number"!=typeof e)throw s.Tc("VectorValues must only contain numeric values.");return Yd(s.serializer,e)}))}}}}};var n,s;throw t.Tc(`Unsupported field value: ${yp(e)}`)}(e,t)}function Xp(e,t){const n={};return rc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sc(e,((e,s)=>{const r=Yp(s,t.uc(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function Jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ol||e instanceof Fp||e instanceof Mp||e instanceof Cp||e instanceof Lp||e instanceof Up)}function Zp(e,t,n){if(!Jp(n)||("object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s))){const s=yp(n);throw"an object"===s?t.Tc(e+" a custom object"):t.Tc(e+" "+s)}var s}function eg(e,t,n){if((t=ss(t))instanceof Op)return t._internalPath;if("string"==typeof t)return ng(e,t);throw sg("Field path arguments must be of type string or ",e,!1,void 0,n)}const tg=new RegExp("[~\\*/\\[\\]]");function ng(e,t,n){if(t.search(tg)>=0)throw sg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Op(...t.split("."))._internalPath}catch(jv){throw sg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sg(e,t,n,s,r){const i=s&&!s.isEmpty(),a=void 0!==r;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${s}`),a&&(l+=` in document ${r}`),l+=")"),new gl(pl.INVALID_ARGUMENT,o+e+l)}function rg(e,t){return e.some((e=>e.isEqual(t)))}class ig{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Cp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(og("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ag extends ig{data(){return super.data()}}function og(e,t){return"string"==typeof t?ng(e,t):t instanceof Op?t._internalPath:t._delegate._internalPath}function lg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gl(pl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class dg extends cg{}function ug(e,t,...n){let s=[];t instanceof cg&&s.push(t),s=s.concat(n),function(e){const t=e.filter((e=>e instanceof fg)).length,n=e.filter((e=>e instanceof hg)).length;if(t>1||t>0&&n>0)throw new gl(pl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)e=r._apply(e);return e}class hg extends dg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hg(e,t,n)}_apply(e){const t=this._parse(e);return wg(e._query,t),new kp(e.firestore,e.converter,Ad(e._query,t))}_parse(e){const t=Kp(e.firestore),n=function(e,t,n,s,r,i,a){let o;if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new gl(pl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){bg(a,i);const t=[];for(const n of a)t.push(vg(s,e,n));o={arrayValue:{values:t}}}else o=vg(s,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||bg(a,i),o=function(e,t,n,s=!1){return Yp(n,e.dc(s?4:3,t))}(n,t,a,"in"===i||"not-in"===i);return sd.create(r,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function mg(e,t,n){const s=t,r=og("where",e);return hg._create(r,s,n)}class fg extends cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:rd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const s=t.getFlattenedFilters();for(const r of s)wg(n,r),n=Ad(n,r)}(e._query,t),new kp(e.firestore,e.converter,Ad(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pg extends dg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gl(pl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gl(pl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(t,n)}(e._query,this._field,this._direction);return new kp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Nd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function gg(e,t="asc"){const n=t,s=og("orderBy",e);return pg._create(s,n)}class xg extends dg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new xg(e,t,n)}_apply(e){return new kp(e.firestore,e.converter,Id(e._query,this._limit,this._limitType))}}function yg(e){return function(e,t){if(t<=0)throw new gl(pl.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),xg._create("limit",e,"F")}function vg(e,t,n){if("string"==typeof(n=ss(n))){if(""===n)throw new gl(pl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sd(t)&&-1!==n.indexOf("/"))throw new gl(pl.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(zl.fromString(n));if(!ql.isDocumentKey(s))throw new gl(pl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vc(e,new ql(s))}if(n instanceof Cp)return Vc(e,n._key);throw new gl(pl.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(n)}.`)}function bg(e,t){if(!Array.isArray(e)||0===e.length)throw new gl(pl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gl(pl.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gl(pl.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class jg{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ul(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return sc(e,((e,s)=>{n[e]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,s;const r=null===(s=null===(n=null===(t=e.fields)||void 0===t?void 0:t[_c].arrayValue)||void 0===n?void 0:n.values)||void 0===s?void 0:s.map((e=>pc(e.doubleValue)));return new Up(r)}convertGeoPoint(e){return new Fp(pc(e.latitude),pc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const t=fc(e);return new Ol(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=zl.fromString(e);ml(kh(n),9688,{name:e});const s=new Sc(n.get(1),n.get(3)),r=new ql(n.popFirst(5));return s.isEqual(t)||ll(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function Ng(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class kg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cg extends ig{constructor(e,t,n,s,r,i){super(e,t,n,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(og("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sg extends Cg{data(e={}){return super.data(e)}}class Tg{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new kg(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Sg(this._firestore,this._userDataWriter,n.key,n,new kg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gl(pl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const s=new Sg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new kg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:s,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const s=new Sg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,i=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Eg(t.type),doc:s,oldIndex:r,newIndex:i}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Eg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ul(61501,{type:e})}}function Ag(e){e=vp(e,Cp);const t=vp(e.firestore,Dp);return function(e,t,n={}){const s=new xl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,s,r){const i=new ap({next:o=>{i.yu(),t.enqueueAndForget((()=>wf(e,a)));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new gl(pl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&s&&"server"===s.source?r.reject(new gl(pl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new Tf(kd(n.path),i,{includeMetadataChanges:!0,Fa:!0});return bf(e,a)}(await hp(e),e.asyncQueue,t,n,s))),s.promise}(Rp(t),e._key).then((n=>Lg(t,e,n)))}class Ig extends jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cp(this.firestore,null,t)}}function _g(e){e=vp(e,kp);const t=vp(e.firestore,Dp),n=Rp(t),s=new Ig(t);return lg(e._query),function(e,t,n={}){const s=new xl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,s,r){const i=new ap({next:n=>{i.yu(),t.enqueueAndForget((()=>wf(e,a))),n.fromCache&&"server"===s.source?r.reject(new gl(pl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new Tf(n,i,{includeMetadataChanges:!0,Fa:!0});return bf(e,a)}(await hp(e),e.asyncQueue,t,n,s))),s.promise}(n,e._query).then((n=>new Tg(t,s,e,n)))}function Pg(e,t,n){e=vp(e,Cp);const s=vp(e.firestore,Dp),r=Ng(e.converter,t);return Og(s,[Wp(Kp(s),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,mu.none())])}function Dg(e,t,n,...s){e=vp(e,Cp);const r=vp(e.firestore,Dp),i=Kp(r);let a;return a="string"==typeof(t=ss(t))||t instanceof Op?function(e,t,n,s,r,i){const a=e.dc(1,t,n),o=[eg(t,s,n)],l=[r];if(i.length%2!=0)throw new gl(pl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(eg(t,i[h])),l.push(i[h+1]);const c=[],d=Gc.empty();for(let h=o.length-1;h>=0;--h)if(!rg(c,o[h])){const e=o[h];let t=l[h];t=ss(t);const n=a.hc(e);if(t instanceof Gp)c.push(e);else{const s=Yp(t,n);null!=s&&(c.push(e),d.set(e,s))}}const u=new dc(c);return new Bp(d,u,a.fieldTransforms)}(i,"updateDoc",e._key,t,n,s):function(e,t,n,s){const r=e.dc(1,t,n);Zp("Data must be an object, but it was:",r,s);const i=[],a=Gc.empty();sc(s,((e,s)=>{const o=ng(t,e,n);s=ss(s);const l=r.hc(o);if(s instanceof Gp)i.push(o);else{const e=Yp(s,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new dc(i);return new Bp(a,o,r.fieldTransforms)}(i,"updateDoc",e._key,t),Og(r,[a.toMutation(e._key,mu.exists(!0))])}function Rg(e){return Og(vp(e.firestore,Dp),[new Su(e._key,mu.none())])}function Mg(e,t){const n=vp(e.firestore,Dp),s=Ep(e),r=Ng(e.converter,t);return Og(n,[Wp(Kp(e.firestore),"addDoc",s._key,r,null!==e.converter,{}).toMutation(s._key,mu.exists(!1))]).then((()=>s))}function Og(e,t){return function(e,t){const n=new xl;return e.asyncQueue.enqueueAndForget((async()=>zf(await function(e){return up(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Rp(e),t)}function Lg(e,t,n){const s=n.docs.get(t._key),r=new Ig(e);return new Cg(e,r,t._key,s,new kg(n.hasPendingWrites,n.fromCache),t.converter)}function Fg(){return new Qp("serverTimestamp")}!function(e,t=!0){rl=vr,fr(new rs("firestore",((e,{instanceIdentifier:n,options:s})=>{const r=e.getProvider("app").getImmediate(),i=new Dp(new wl(e.getProvider("auth-internal")),new Cl(r,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gl(pl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(e.options.projectId,t)}(r,n),r);return s=Object.assign({useFetchStreams:t},s),i._setSettings(s),i}),"PUBLIC").setMultipleInstances(!0)),jr(tl,nl,e),jr(tl,nl,"esm2017")}();jr("firebase","11.6.1","app");const Ug="firebasestorage.googleapis.com",zg="storageBucket";class Vg extends Kn{constructor(e,t,n=0){super(Kg(e),`Firebase Storage: ${t} (${Kg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bg,qg,$g,Hg;function Kg(e){return"storage/"+e}function Wg(){return new Vg(Bg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Gg(e){return new Vg(Bg.INVALID_ARGUMENT,e)}function Qg(){return new Vg(Bg.APP_DELETED,"The Firebase app was deleted.")}function Yg(e,t){return new Vg(Bg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Xg(e){throw new Vg(Bg.INTERNAL_ERROR,"Internal error: "+e)}(qg=Bg||(Bg={})).UNKNOWN="unknown",qg.OBJECT_NOT_FOUND="object-not-found",qg.BUCKET_NOT_FOUND="bucket-not-found",qg.PROJECT_NOT_FOUND="project-not-found",qg.QUOTA_EXCEEDED="quota-exceeded",qg.UNAUTHENTICATED="unauthenticated",qg.UNAUTHORIZED="unauthorized",qg.UNAUTHORIZED_APP="unauthorized-app",qg.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",qg.INVALID_CHECKSUM="invalid-checksum",qg.CANCELED="canceled",qg.INVALID_EVENT_NAME="invalid-event-name",qg.INVALID_URL="invalid-url",qg.INVALID_DEFAULT_BUCKET="invalid-default-bucket",qg.NO_DEFAULT_BUCKET="no-default-bucket",qg.CANNOT_SLICE_BLOB="cannot-slice-blob",qg.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",qg.NO_DOWNLOAD_URL="no-download-url",qg.INVALID_ARGUMENT="invalid-argument",qg.INVALID_ARGUMENT_COUNT="invalid-argument-count",qg.APP_DELETED="app-deleted",qg.INVALID_ROOT_OPERATION="invalid-root-operation",qg.INVALID_FORMAT="invalid-format",qg.INTERNAL_ERROR="internal-error",qg.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Jg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Jg.makeFromUrl(e,t)}catch(Tv){return new Jg(e,"")}if(""===n.path)return n;throw s=e,new Vg(Bg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.");var s}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+s+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Ug?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],s=t.regex.exec(e);if(s){const e=s[t.indices.bucket];let r=s[t.indices.path];r||(r=""),n=new Jg(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new Vg(Bg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Zg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ex(e){return"string"==typeof e||e instanceof String}function tx(e){return nx()&&e instanceof Blob}function nx(){return"undefined"!=typeof Blob}function sx(e,t,n,s){if(s<t)throw Gg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Gg(`Invalid value for '${e}'. Expected ${n} or less.`)}function rx(e,t,n){let s=t;return null==n&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function ix(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){n=n+(t(s)+"="+t(e[s]))+"&"}return n=n.slice(0,-1),n}(Hg=$g||($g={}))[Hg.NO_ERROR=0]="NO_ERROR",Hg[Hg.NETWORK_ERROR=1]="NETWORK_ERROR",Hg[Hg.ABORT=2]="ABORT";class ax{constructor(e,t,n,s,r,i,a,o,l,c,d,u=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new ox(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const s=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(s),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(s),this.pendingConnection_=null;const t=n.getErrorCode()===$g.NO_ERROR,r=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||s||r}(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===$g.ABORT;return void e(!1,new ox(!1,null,t))}const i=-1!==this.successCodes_.indexOf(r);e(!0,new ox(i,n))}))},t=(e,t)=>{const n=this.resolve_,s=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Tv){s(Tv)}else if(null!==r){const e=Wg();e.serverResponse=r.getErrorText(),this.errorCallback_?s(this.errorCallback_(r,e)):s(e)}else if(t.canceled){s(this.appDelete_?Qg():new Vg(Bg.CANCELED,"User canceled the upload/download."))}else{s(new Vg(Bg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new ox(!1,null,!0)):this.backoffId_=function(e,t,n){let s=1,r=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function d(...e){c||(c=!0,t.apply(null,e))}function u(t){r=setTimeout((()=>{r=null,e(m,l())}),t)}function h(){i&&clearTimeout(i)}function m(e,...t){if(c)return void h();if(e)return h(),void d.call(null,e,...t);if(l()||a)return h(),void d.call(null,e,...t);let n;s<64&&(s*=2),1===o?(o=2,n=0):n=1e3*(s+Math.random()),u(n)}let f=!1;function p(e){f||(f=!0,h(),c||(null!==r?(e||(o=2),clearTimeout(r),u(0)):e||(o=1)))}return u(0),i=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ox{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function lx(...e){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(nx())return new Blob(e);throw new Vg(Bg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function cx(e){if("undefined"==typeof atob)throw t="base-64",new Vg(Bg.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const dx="raw",ux="base64",hx="base64url",mx="data_url";class fx{constructor(e,t){this.data=e,this.contentType=t||null}}function px(e,t){switch(e){case dx:return new fx(gx(t));case ux:case hx:return new fx(xx(e,t));case mx:return new fx(function(e){const t=new yx(e);return t.base64?xx(ux,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Tv){throw Yg(mx,"Malformed data URL.")}return gx(t)}(t.rest)}(t),new yx(t).contentType)}throw Wg()}function gx(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|63&s);else if(55296==(64512&s)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){s=65536|(1023&s)<<10|1023&e.charCodeAt(++n),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}else t.push(239,191,189)}else 56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function xx(e,t){switch(e){case ux:{const n=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(n||s){throw Yg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case hx:{const n=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(n||s){throw Yg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cx(t)}catch(Tv){if(Tv.message.includes("polyfill"))throw Tv;throw Yg(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class yx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yg(mx,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class vx{constructor(e,t){let n=0,s="";tx(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(tx(this.data_)){const i=this.data_,a=(s=e,r=t,(n=i).webkitSlice?n.webkitSlice(s,r):n.mozSlice?n.mozSlice(s,r):n.slice?n.slice(s,r):null);return null===a?null:new vx(a)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new vx(n,!0)}var n,s,r}static getBlob(...e){if(nx()){const t=e.map((e=>e instanceof vx?e.data_:e));return new vx(lx.apply(null,t))}{const t=e.map((e=>ex(e)?px(dx,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const s=new Uint8Array(n);let r=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)s[r++]=e[t]})),new vx(s,!0)}}uploadData(){return this.data_}}function bx(e){let t;try{t=JSON.parse(e)}catch(Tv){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function wx(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jx(e,t){return t}class Nx{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||jx}}let kx=null;function Cx(){if(kx)return kx;const e=[];e.push(new Nx("bucket")),e.push(new Nx("generation")),e.push(new Nx("metageneration")),e.push(new Nx("name","fullPath",!0));const t=new Nx("name");t.xform=function(e,t){return function(e){return!ex(e)||e.length<2?e:wx(e)}(t)},e.push(t);const n=new Nx("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Nx("timeCreated")),e.push(new Nx("updated")),e.push(new Nx("md5Hash",null,!0)),e.push(new Nx("cacheControl",null,!0)),e.push(new Nx("contentDisposition",null,!0)),e.push(new Nx("contentEncoding",null,!0)),e.push(new Nx("contentLanguage",null,!0)),e.push(new Nx("contentType",null,!0)),e.push(new Nx("metadata","customMetadata",!0)),kx=e,kx}function Sx(e,t,n){const s={type:"file"},r=n.length;for(let i=0;i<r;i++){const e=n[i];s[e.local]=e.xform(s,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,s=e.fullPath,r=new Jg(n,s);return t._makeStorageReference(r)}})}(s,e),s}function Tx(e,t,n){const s=bx(t);if(null===s)return null;return Sx(e,s,n)}class Ex{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ax(e){if(!e)throw Wg()}function Ix(e,t){return function(n,s){const r=Tx(e,s,t);return Ax(null!==r),function(e,t,n,s){const r=bx(t);if(null===r)return null;if(!ex(r.downloadTokens))return null;const i=r.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map((t=>{const r=e.bucket,i=e.fullPath;return rx("/b/"+a(r)+"/o/"+a(i),n,s)+ix({alt:"media",token:t})}))[0]}(r,s,e.host,e._protocol)}}function _x(e){return function(t,n){let s;var r,i;return 401===t.getStatus()?s=t.getErrorText().includes("Firebase App Check token is invalid")?new Vg(Bg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Vg(Bg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,s=new Vg(Bg.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,s=new Vg(Bg.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}}function Px(e){const t=_x(e);return function(n,s){let r=t(n,s);var i;return 404===n.getStatus()&&(i=e.path,r=new Vg(Bg.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),r.serverResponse=s.serverResponse,r}}function Dx(e,t,n,s,r){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=function(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}(t,s,r),c=function(e,t){const n={},s=t.length;for(let r=0;r<s;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}(l,n),d="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=vx.getBlob(d,s,u);if(null===h)throw new Vg(Bg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const m={name:l.fullPath},f=rx(i,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Ex(f,"POST",function(e,t){return function(n,s){const r=Tx(e,s,t);return Ax(null!==r),r}}(e,n),p);return g.urlParams=m,g.headers=a,g.body=h.uploadData(),g.errorHandler=_x(t),g}class Rx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$g.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=$g.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=$g.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,s){if(this.sent_)throw Xg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Tv){return-1}}getResponse(){if(!this.sent_)throw Xg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Mx extends Rx{initXhr(){this.xhr_.responseType="text"}}function Ox(){return new Mx}class Lx{constructor(e,t){this._service=e,this._location=t instanceof Jg?t:Jg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lx(e,t)}get root(){const e=new Jg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wx(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Jg(this._location.bucket,e);return new Lx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Vg(Bg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Fx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const s=rx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Ex(s,"GET",Ix(e,n),r);return i.errorHandler=Px(t),i}(e.storage,e._location,Cx());return e.storage.makeRequestWithTokens(t,Ox).then((e=>{if(null===e)throw new Vg(Bg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ux(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=rx(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,r=new Ex(n,"DELETE",(function(e,t){}),s);return r.successCodes=[200,204],r.errorHandler=Px(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ox)}function zx(e,t){if(e instanceof qx){const n=e;if(null==n._bucket)throw new Vg(Bg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zg+"' property when initializing the app?");const s=new Lx(n,n._bucket);return null!=t?zx(s,t):s}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),s=new Jg(e._location.bucket,n);return new Lx(e.storage,s)}(e,t):e}function Vx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof qx)return new Lx(e,t);throw Gg("To use ref(service, url), the first argument must be a Storage instance.")}return zx(e,t)}function Bx(e,t){const n=null==t?void 0:t[zg];return null==n?null:Jg.makeFromBucketSpec(n,e)}class qx{constructor(e,t,n,s,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=Ug,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Jg.makeFromBucketSpec(s,this._host):Bx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Jg.makeFromBucketSpec(this._url,e):this._bucket=Bx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lx(this,e)}_makeRequest(e,t,n,s,r=!0){if(this._deleted)return new Zg(Qg());{const i=function(e,t,n,s,r,i,a=!0){const o=ix(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,s),new ax(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a)}(e,this._appId,n,s,t,this._firebaseVersion,r);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const $x="@firebase/storage",Hx="0.13.7",Kx="storage";function Wx(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const s=Dx(e.storage,e._location,Cx(),new vx(t,!0),n);return e.storage.makeRequestWithTokens(s,Ox).then((t=>({metadata:t,ref:e})))}(e=ss(e),t,n)}function Gx(e){return Fx(e=ss(e))}function Qx(e){return Ux(e=ss(e))}function Yx(e,t){return Vx(e=ss(e),t)}function Xx(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new qx(n,s,r,t,vr)}fr(new rs(Kx,Xx,"PUBLIC").setMultipleInstances(!0)),jr($x,Hx,""),jr($x,Hx,"esm2017");const Jx="@firebase/installations",Zx="0.6.13",ey=1e4,ty=`w:${Zx}`,ny="FIS_v2",sy=36e5,ry=new Wn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function iy(e){return e instanceof Kn&&e.code.includes("request-failed")}function ay({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function oy(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ly(e,t){const n=(await t.json()).error;return ry.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function cy({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function dy(e,{refreshToken:t}){const n=cy(e);return n.append("Authorization",function(e){return`${ny} ${e}`}(t)),n}async function uy(e){const t=await e();return t.status>=500&&t.status<600?e():t}function hy(e){return new Promise((t=>{setTimeout(t,e)}))}const my=/^[cdef][\w-]{21}$/;function fy(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return my.test(t)?t:""}catch(e){return""}}function py(e){return`${e.appName}!${e.appId}`}const gy=new Map;function xy(e,t){const n=py(e);yy(n,t),function(e,t){const n=function(){!vy&&"BroadcastChannel"in self&&(vy=new BroadcastChannel("[Firebase] FID Change"),vy.onmessage=e=>{yy(e.data.key,e.data.fid)});return vy}();n&&n.postMessage({key:e,fid:t});0===gy.size&&vy&&(vy.close(),vy=null)}(n,t)}function yy(e,t){const n=gy.get(e);if(n)for(const s of n)s(t)}let vy=null;const by="firebase-installations-store";let wy=null;function jy(){return wy||(wy=Ts("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(by)}})),wy}async function Ny(e,t){const n=py(e),s=(await jy()).transaction(by,"readwrite"),r=s.objectStore(by),i=await r.get(n);return await r.put(t,n),await s.done,i&&i.fid===t.fid||xy(e,t.fid),t}async function ky(e){const t=py(e),n=(await jy()).transaction(by,"readwrite");await n.objectStore(by).delete(t),await n.done}async function Cy(e,t){const n=py(e),s=(await jy()).transaction(by,"readwrite"),r=s.objectStore(by),i=await r.get(n),a=t(i);return void 0===a?await r.delete(n):await r.put(a,n),await s.done,!a||i&&i.fid===a.fid||xy(e,a.fid),a}async function Sy(e){let t;const n=await Cy(e.appConfig,(n=>{const s=function(e){const t=e||{fid:fy(),registrationStatus:0};return Ay(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ry.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=ay(e),r=cy(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={fid:n,authVersion:ny,appId:e.appId,sdkVersion:ty},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await uy((()=>fetch(s,o)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:oy(e.authToken)}}throw await ly("Create Installation",l)}(e,t);return Ny(e.appConfig,n)}catch(Tv){throw iy(Tv)&&409===Tv.customData.serverCode?await ky(e.appConfig):await Ny(e.appConfig,{fid:t.fid,registrationStatus:0}),Tv}}(e,n);return{installationEntry:n,registrationPromise:s}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ty(e)}:{installationEntry:t}}(e,s);return t=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Ty(e){let t=await Ey(e.appConfig);for(;1===t.registrationStatus;)await hy(100),t=await Ey(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Sy(e);return n||t}return t}function Ey(e){return Cy(e,(e=>{if(!e)throw ry.create("installation-not-found");return Ay(e)}))}function Ay(e){return 1===(t=e).registrationStatus&&t.registrationTime+ey<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Iy({appConfig:e,heartbeatServiceProvider:t},n){const s=function(e,{fid:t}){return`${ay(e)}/${t}/authTokens:generate`}(e,n),r=dy(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={installation:{sdkVersion:ty,appId:e.appId}},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await uy((()=>fetch(s,o)));if(l.ok){return oy(await l.json())}throw await ly("Generate Auth Token",l)}async function _y(e,t=!1){let n;const s=await Cy(e.appConfig,(s=>{if(!Dy(s))throw ry.create("not-registered");const r=s.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+sy}(e)}(r))return s;if(1===r.requestStatus)return n=async function(e,t){let n=await Py(e.appConfig);for(;1===n.authToken.requestStatus;)await hy(100),n=await Py(e.appConfig);const s=n.authToken;return 0===s.requestStatus?_y(e,t):s}(e,t),s;{if(!navigator.onLine)throw ry.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(s);return n=async function(e,t){try{const n=await Iy(e,t),s=Object.assign(Object.assign({},t),{authToken:n});return await Ny(e.appConfig,s),n}catch(Tv){if(!iy(Tv)||401!==Tv.customData.serverCode&&404!==Tv.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ny(e.appConfig,n)}else await ky(e.appConfig);throw Tv}}(e,t),t}}));return n?await n:s.authToken}function Py(e){return Cy(e,(e=>{if(!Dy(e))throw ry.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ey<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Dy(e){return void 0!==e&&2===e.registrationStatus}async function Ry(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Sy(e);t&&await t}(n);return(await _y(n,t)).token}function My(e){return ry.create("missing-app-config-values",{valueName:e})}const Oy="installations",Ly=e=>{const t=pr(e.getProvider("app").getImmediate(),Oy).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:s}=await Sy(t);return s?s.catch(console.error):_y(t).catch(console.error),n.fid}(t),getToken:e=>Ry(t,e)}};fr(new rs(Oy,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw My("App Configuration");if(!e.name)throw My("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw My(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pr(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),fr(new rs("installations-internal",Ly,"PRIVATE")),jr(Jx,Zx),jr(Jx,Zx,"esm2017");const Fy="analytics",Uy="https://www.googletagmanager.com/gtag/js",zy=new fs("@firebase/analytics"),Vy=new Wn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function By(e){if(!e.startsWith(Uy)){const t=Vy.create("invalid-gtag-resource",{gtagURL:e});return zy.warn(t.message),""}return e}function qy(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function $y(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:By}),s=document.createElement("script"),r=`${Uy}?l=${e}&id=${t}`;s.src=n?null==n?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function Hy(e,t,n,s){return async function(r,...i){try{if("event"===r){const[s,r]=i;await async function(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const s=await qy(n);for(const n of e){const e=s.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){i=[];break}i.push(r)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(Tv){zy.error(Tv)}}(e,t,n,s,r)}else if("config"===r){const[r,a]=i;await async function(e,t,n,s,r,i){const a=s[r];try{if(a)await t[a];else{const e=(await qy(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(Tv){zy.error(Tv)}e("config",r,i)}(e,t,n,s,r,a)}else if("consent"===r){const[t,n]=i;e("consent",t,n)}else if("get"===r){const[t,n,s]=i;e("get",t,n,s)}else if("set"===r){const[t]=i;e("set",t)}else e(r,...i)}catch(Tv){zy.error(Tv)}}}const Ky=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wy(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Gy(e,t=Ky,n){const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw Vy.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Vy.create("no-api-key")}const a=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Yy;return setTimeout((async()=>{o.abort()}),6e4),Qy({appId:s,apiKey:r,measurementId:i},a,o,t)}async function Qy(e,{throttleEndTimeMillis:t,backoffCount:n},s,r=Ky){var i;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise(((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(i),s(Vy.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(s,t)}catch(Tv){if(o)return zy.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==Tv?void 0:Tv.message}]`),{appId:a,measurementId:o};throw Tv}try{const t=await async function(e){var t;const{appId:n,apiKey:s}=e,r={method:"GET",headers:Wy(s)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Vy.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return r.deleteThrottleMetadata(a),t}catch(Tv){const l=Tv;if(!function(e){if(!(e instanceof Kn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(r.deleteThrottleMetadata(a),o)return zy.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:o};throw Tv}const c=503===Number(null===(i=null==l?void 0:l.customData)||void 0===i?void 0:i.httpStatus)?ns(n,r.intervalMillis,30):ns(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(a,d),zy.debug(`Calling attemptFetch again in ${c} millis`),Qy(e,d,s,r)}}class Yy{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function Xy(e,t,n,s,r,i,a){var o;const l=Gy(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&zy.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>zy.error(e))),t.push(l);const c=async function(){if(!$n())return zy.warn(Vy.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Hn()}catch(Tv){return zy.warn(Vy.create("indexeddb-unavailable",{errorInfo:null==Tv?void 0:Tv.toString()}).message),!1}return!0}().then((e=>e?s.getId():void 0)),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Uy)&&n.src.includes(e))return n;return null})(i)||$y(i,d.measurementId),r("js",new Date);const h=null!==(o=null==a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),r("config",d.measurementId,h),d.measurementId}class Jy{constructor(e){this.app=e}_delete(){return delete Zy[this.app.options.appId],Promise.resolve()}}let Zy={},ev=[];const tv={};let nv,sv,rv="dataLayer",iv=!1;function av(){const e=[];if(Bn()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Vy.create("invalid-analytics-context",{errorInfo:t});zy.warn(n.message)}}function ov(e,t,n){av();const s=e.options.appId;if(!s)throw Vy.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Vy.create("no-api-key");zy.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zy[s])throw Vy.create("already-exists",{id:s});if(!iv){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(rv);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,s,r){let i=function(...e){window[s].push(arguments)};return window[r]&&"function"==typeof window[r]&&(i=window[r]),window[r]=Hy(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}(Zy,ev,tv,rv,"gtag");sv=e,nv=t,iv=!0}Zy[s]=Xy(e,ev,tv,t,nv,rv,n);return new Jy(e)}function lv(e,t,n,s){e=ss(e),async function(e,t,n,s,r){if(r&&r.global)e("event",n,s);else{const r=await t;e("event",n,Object.assign(Object.assign({},s),{send_to:r}))}}(sv,Zy[e.app.options.appId],t,n,s).catch((e=>zy.error(e)))}const cv="@firebase/analytics",dv="0.10.12";fr(new rs(Fy,((e,{options:t})=>ov(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),fr(new rs("analytics-internal",(function(e){try{const t=e.getProvider(Fy).getImmediate();return{logEvent:(e,n,s)=>lv(t,e,n,s)}}catch(Tv){throw Vy.create("interop-component-reg-failed",{reason:Tv})}}),"PRIVATE")),jr(cv,dv),jr(cv,dv,"esm2017");const uv=br({apiKey:"AIzaSyAI73IPE_YOOwB1K9-5mQFMHWcvvrJAkUU",authDomain:"kvitko-sweet-d226a.firebaseapp.com",projectId:"kvitko-sweet-d226a",storageBucket:"kvitko-sweet-d226a.firebasestorage.app",messagingSenderId:"132008587224",appId:"1:132008587224:web:5d0191f34fd39d383f4cad",measurementId:"G-GVNRZKMR3X"}),hv=function(e=wr()){const t=pr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Qn(n.getOptions(),null!=t?t:{}))return e;Fr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Mo,persistence:[Qa,Pa,Ra]}),s=Fn("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Uo)return;const s=null==t?void 0:t.token;zo!==s&&(zo=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});!function(e,t,n){ss(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,s){ss(e).onIdTokenChanged(t,n,s)}(n,(e=>t(e)))}}var r;const i=Mn("auth");return i&&ta(n,`http://${i}`),n}(uv),mv=function(e){const t="object"==typeof e?e:wr(),n="string"==typeof e?e:Cc,s=pr(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const e=On("firestore");e&&function(e,t,n,s={}){var r;const i=(e=vp(e,Np))._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;i.host!==bp&&i.host!==o&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:o,ssl:!1,emulatorOptions:s});if(!Qn(l,a)&&(e._setSettings(l),s.mockUserToken)){let t,n;if("string"==typeof s.mockUserToken)t=s.mockUserToken,n=sl.MOCK_USER;else{t=zn(s.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const i=s.mockUserToken.sub||s.mockUserToken.user_id;if(!i)throw new gl(pl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sl(i)}e._authCredentials=new bl(new yl(t,n))}}(s,...e)}return s}(uv),fv=function(e=wr(),t){const n=pr(e=ss(e),Kx).getImmediate({identifier:t}),s=On("storage");return s&&function(e,t,n,s={}){!function(e,t,n,s={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=s;r&&(e._overrideAuthToken="string"==typeof r?r:zn(r,e.app.options.projectId))}(e,t,n,s)}(n,...s),n}(uv);"undefined"!=typeof window&&function(e=wr()){const t=pr(e=ss(e),Fy);t.isInitialized()?t.getImmediate():function(e,t={}){const n=pr(e,Fy);if(n.isInitialized()){const e=n.getImmediate();if(Qn(t,n.getOptions()))return e;throw Vy.create("already-initialized")}n.initialize({options:t})}(e)}(uv);const pv="users",gv=async(e,t,n)=>{try{const s=await async function(e,t,n){if(gr(e.app))return Promise.reject(Vr(e));const s=Hi(e),r=ea(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",va),i=await r.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ca(e),t})),a=await ba._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(a.user),a}(hv,e,t),{user:r}=s;n&&await Ta(r,{displayName:n});const i={id:r.uid,email:r.email||e,displayName:n||r.displayName||"",photoURL:r.photoURL||"",isAdmin:!1};return await Pg(Ep(mv,pv,r.uid),i),{...i,firebaseUser:r}}catch(s){throw s}},xv=async()=>{try{await(e=hv,ss(e).signOut())}catch(t){throw t}var e},yv=()=>new Promise(((e,t)=>{const n=(s=async s=>{if(n(),s)try{const t=await Ag(Ep(mv,pv,s.uid));if(t.exists())e({id:s.uid,email:s.email||"",displayName:s.displayName||"",photoURL:s.photoURL||"",...t.data(),firebaseUser:s});else{const t={id:s.uid,email:s.email||"",displayName:s.displayName||"",photoURL:s.photoURL||"",isAdmin:!1};await Pg(Ep(mv,pv,s.uid),t),e({...t,firebaseUser:s})}}catch(r){t(r)}else e(null)},r=t,ss(hv).onAuthStateChanged(s,r,i));var s,r,i})),vv=async e=>{try{await async function(e,t){const n=Hi(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await ea(n,s,"getOobCode",oa)}(hv,e)}catch(t){throw t}};function bv(e,t){return new Promise((function(n,s){let r;return wv(e).then((function(e){try{return r=e,n(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(i){return s(i)}}),s)}))}const wv=e=>new Promise(((t,n)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:e}})=>{const s=new DataView(e);let r=0;if(65496!==s.getUint16(r))return n("not a valid JPEG");for(r+=2;;){const i=s.getUint16(r);if(65498===i)break;const a=s.getUint16(r+2);if(65505===i&&1165519206===s.getUint32(r+4)){const i=r+10;let o;switch(s.getUint16(i)){case 18761:o=!0;break;case 19789:o=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==s.getUint16(i+2,o))return n("TIFF header contains invalid version");const l=s.getUint32(i+4,o),c=i+l+2+12*s.getUint16(i+l,o);for(let e=i+l+2;e<c;e+=12)if(274==s.getUint16(e,o)){if(3!==s.getUint16(e+2,o))return n("Orientation data type is invalid");if(1!==s.getUint32(e+4,o))return n("Orientation data count is invalid");s.setUint16(e+8,1,o);break}return t(e.slice(r,r+2+a))}r+=2+a}return t(new Blob)})),s.readAsArrayBuffer(e)}));var jv,Nv,kv,Cv={},Sv={get exports(){return Cv},set exports(e){Cv=e}};kv={},Sv.exports=kv,kv.parse=function(e,t){for(var n=kv.bin.readUshort,s=kv.bin.readUint,r=0,i={},a=new Uint8Array(e),o=a.length-4;101010256!=s(a,o);)o--;r=o,r+=4;var l=n(a,r+=4);n(a,r+=2);var c=s(a,r+=2),d=s(a,r+=4);r+=4,r=d;for(var u=0;u<l;u++){s(a,r),r+=4,r+=4,r+=4,s(a,r+=4),c=s(a,r+=4);var h=s(a,r+=4),m=n(a,r+=4),f=n(a,r+2),p=n(a,r+4);r+=6;var g=s(a,r+=8);r+=4,r+=m+f+p,kv._readLocal(a,g,i,c,h,t)}return i},kv._readLocal=function(e,t,n,s,r,i){var a=kv.bin.readUshort,o=kv.bin.readUint;o(e,t),a(e,t+=4),a(e,t+=2);var l=a(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var c=a(e,t+=8),d=a(e,t+=2);t+=2;var u=kv.bin.readUTF8(e,t,c);if(t+=c,t+=d,i)n[u]={size:r,csize:s};else{var h=new Uint8Array(e.buffer,t);if(0==l)n[u]=new Uint8Array(h.buffer.slice(t,t+s));else{if(8!=l)throw"unknown compression method: "+l;var m=new Uint8Array(r);kv.inflateRaw(h,m),n[u]=m}}},kv.inflateRaw=function(e,t){return kv.F.inflate(e,t)},kv.inflate=function(e,t){return e[0],e[1],kv.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},kv.deflate=function(e,t){null==t&&(t={level:6});var n=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[n]=120,s[n+1]=156,n+=2,n=kv.F.deflateRaw(e,s,n,t.level);var r=kv.adler(e,0,e.length);return s[n+0]=r>>>24&255,s[n+1]=r>>>16&255,s[n+2]=r>>>8&255,s[n+3]=r>>>0&255,new Uint8Array(s.buffer,0,n+4)},kv.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),s=kv.F.deflateRaw(e,n,s,t.level);return new Uint8Array(n.buffer,0,s)},kv.encode=function(e,t){null==t&&(t=!1);var n=0,s=kv.bin.writeUint,r=kv.bin.writeUshort,i={};for(var a in e){var o=!kv._noNeed(a)&&!t,l=e[a],c=kv.crc.crc(l,0,l.length);i[a]={cpr:o,usize:l.length,crc:c,file:o?kv.deflateRaw(l):l}}for(var a in i)n+=i[a].file.length+30+46+2*kv.bin.sizeUTF8(a);n+=22;var d=new Uint8Array(n),u=0,h=[];for(var a in i){var m=i[a];h.push(u),u=kv._writeHeader(d,u,a,m,0)}var f=0,p=u;for(var a in i)m=i[a],h.push(u),u=kv._writeHeader(d,u,a,m,1,h[f++]);var g=u-p;return s(d,u,101010256),u+=4,r(d,u+=4,f),r(d,u+=2,f),s(d,u+=2,g),s(d,u+=4,p),u+=4,u+=2,d.buffer},kv._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},kv._writeHeader=function(e,t,n,s,r,i){var a=kv.bin.writeUint,o=kv.bin.writeUshort,l=s.file;return a(e,t,0==r?67324752:33639248),t+=4,1==r&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,s.cpr?8:0),a(e,t+=2,0),a(e,t+=4,s.crc),a(e,t+=4,l.length),a(e,t+=4,s.usize),o(e,t+=4,kv.bin.sizeUTF8(n)),o(e,t+=2,0),t+=2,1==r&&(t+=2,t+=2,a(e,t+=6,i),t+=4),t+=kv.bin.writeUTF8(e,t,n),0==r&&(e.set(l,t),t+=l.length),t},kv.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,s=0;s<8;s++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,s){for(var r=0;r<s;r++)e=kv.crc.table[255&(e^t[n+r])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^kv.crc.update(4294967295,e,t,n)}},kv.adler=function(e,t,n){for(var s=1,r=0,i=t,a=t+n;i<a;){for(var o=Math.min(i+5552,a);i<o;)r+=s+=e[i++];s%=65521,r%=65521}return r<<16|s},kv.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var s="",r=0;r<n;r++)s+=String.fromCharCode(e[t+r]);return s},writeASCII:function(e,t,n){for(var s=0;s<n.length;s++)e[t+s]=n.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var s,r="",i=0;i<n;i++)r+="%"+kv.bin.pad(e[t+i].toString(16));try{s=decodeURIComponent(r)}catch(a){return kv.bin.readASCII(e,t,n)}return s},writeUTF8:function(e,t,n){for(var s=n.length,r=0,i=0;i<s;i++){var a=n.charCodeAt(i);if(4294967168&a)if(4294965248&a)if(4294901760&a){if(4292870144&a)throw"e";e[t+r]=240|a>>18,e[t+r+1]=128|a>>12&63,e[t+r+2]=128|a>>6&63,e[t+r+3]=128|63&a,r+=4}else e[t+r]=224|a>>12,e[t+r+1]=128|a>>6&63,e[t+r+2]=128|63&a,r+=3;else e[t+r]=192|a>>6,e[t+r+1]=128|63&a,r+=2;else e[t+r]=a,r++}return r},sizeUTF8:function(e){for(var t=e.length,n=0,s=0;s<t;s++){var r=e.charCodeAt(s);if(4294967168&r)if(4294965248&r)if(4294901760&r){if(4292870144&r)throw"e";n+=4}else n+=3;else n+=2;else n++}return n}},kv.F={},kv.F.deflateRaw=function(e,t,n,s){var r=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],i=kv.F.U,a=kv.F._goodIndex;kv.F._hash;var o=kv.F._putsE,l=0,c=n<<3,d=0,u=e.length;if(0==s){for(;l<u;)o(t,c,l+(N=Math.min(65535,u-l))==u?1:0),c=kv.F._copyExact(e,l,N,t,c+8),l+=N;return c>>>3}var h=i.lits,m=i.strt,f=i.prev,p=0,g=0,x=0,y=0,v=0,b=0;for(u>2&&(m[b=kv.F._hash(e,0)]=0),l=0;l<u;l++){if(v=b,l+1<u-2){b=kv.F._hash(e,l+1);var w=l+1&32767;f[w]=m[b],m[b]=w}if(d<=l){(p>14e3||g>26697)&&u-l>100&&(d<l&&(h[p]=l-d,p+=2,d=l),c=kv.F._writeBlock(l==u-1||d==u?1:0,h,p,y,e,x,l-x,t,c),p=g=y=0,x=l);var j=0;l<u-2&&(j=kv.F._bestMatch(e,l,f,v,Math.min(r[2],u-l),r[3]));var N=j>>>16,k=65535&j;if(0!=j){k=65535&j;var C=a(N=j>>>16,i.of0);i.lhst[257+C]++;var S=a(k,i.df0);i.dhst[S]++,y+=i.exb[C]+i.dxb[S],h[p]=N<<23|l-d,h[p+1]=k<<16|C<<8|S,p+=2,d=l+N}else i.lhst[e[l]]++;g++}}for(x==l&&0!=e.length||(d<l&&(h[p]=l-d,p+=2,d=l),c=kv.F._writeBlock(1,h,p,y,e,x,l-x,t,c),p=0,g=0,p=g=y=0,x=l);7&c;)c++;return c>>>3},kv.F._bestMatch=function(e,t,n,s,r,i){var a=32767&t,o=n[a],l=a-o+32768&32767;if(o==a||s!=kv.F._hash(e,t-l))return 0;for(var c=0,d=0,u=Math.min(32767,t);l<=u&&0!=--i&&o!=a;){if(0==c||e[t+c]==e[t+c-l]){var h=kv.F._howLong(e,t,l);if(h>c){if(d=l,(c=h)>=r)break;l+2<h&&(h=l+2);for(var m=0,f=0;f<h-2;f++){var p=t-l+f+32768&32767,g=p-n[p]+32768&32767;g>m&&(m=g,o=p)}}}l+=(a=o)-(o=n[a])+32768&32767}return c<<16|d},kv.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var s=t,r=Math.min(e.length,t+258);for(t+=3;t<r&&e[t]==e[t-n];)t++;return t-s},kv.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},kv.saved=0,kv.F._writeBlock=function(e,t,n,s,r,i,a,o,l){var c,d,u,h,m,f,p,g,x,y=kv.F.U,v=kv.F._putsF,b=kv.F._putsE;y.lhst[256]++,d=(c=kv.F.getTrees())[0],u=c[1],h=c[2],m=c[3],f=c[4],p=c[5],g=c[6],x=c[7];var w=32+(l+3&7?8-(l+3&7):0)+(a<<3),j=s+kv.F.contSize(y.fltree,y.lhst)+kv.F.contSize(y.fdtree,y.dhst),N=s+kv.F.contSize(y.ltree,y.lhst)+kv.F.contSize(y.dtree,y.dhst);N+=14+3*p+kv.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var k=0;k<286;k++)y.lhst[k]=0;for(k=0;k<30;k++)y.dhst[k]=0;for(k=0;k<19;k++)y.ihst[k]=0;var C=w<j&&w<N?0:j<N?1:2;if(v(o,l,e),v(o,l+1,C),l+=3,0==C){for(;7&l;)l++;l=kv.F._copyExact(r,i,a,o,l)}else{var S,T;if(1==C&&(S=y.fltree,T=y.fdtree),2==C){kv.F.makeCodes(y.ltree,d),kv.F.revCodes(y.ltree,d),kv.F.makeCodes(y.dtree,u),kv.F.revCodes(y.dtree,u),kv.F.makeCodes(y.itree,h),kv.F.revCodes(y.itree,h),S=y.ltree,T=y.dtree,b(o,l,m-257),b(o,l+=5,f-1),b(o,l+=5,p-4),l+=4;for(var E=0;E<p;E++)b(o,l+3*E,y.itree[1+(y.ordr[E]<<1)]);l+=3*p,l=kv.F._codeTiny(g,y.itree,o,l),l=kv.F._codeTiny(x,y.itree,o,l)}for(var A=i,I=0;I<n;I+=2){for(var _=t[I],P=_>>>23,D=A+(8388607&_);A<D;)l=kv.F._writeLit(r[A++],S,o,l);if(0!=P){var R=t[I+1],M=R>>16,O=R>>8&255,L=255&R;b(o,l=kv.F._writeLit(257+O,S,o,l),P-y.of0[O]),l+=y.exb[O],v(o,l=kv.F._writeLit(L,T,o,l),M-y.df0[L]),l+=y.dxb[L],A+=P}}l=kv.F._writeLit(256,S,o,l)}return l},kv.F._copyExact=function(e,t,n,s,r){var i=r>>>3;return s[i]=n,s[i+1]=n>>>8,s[i+2]=255-s[i],s[i+3]=255-s[i+1],i+=4,s.set(new Uint8Array(e.buffer,t,n),i),r+(n+4<<3)},kv.F.getTrees=function(){for(var e=kv.F.U,t=kv.F._hufTree(e.lhst,e.ltree,15),n=kv.F._hufTree(e.dhst,e.dtree,15),s=[],r=kv.F._lenCodes(e.ltree,s),i=[],a=kv.F._lenCodes(e.dtree,i),o=0;o<s.length;o+=2)e.ihst[s[o]]++;for(o=0;o<i.length;o+=2)e.ihst[i[o]]++;for(var l=kv.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,l,r,a,c,s,i]},kv.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},kv.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},kv.F.contSize=function(e,t){for(var n=0,s=0;s<t.length;s++)n+=t[s]*e[1+(s<<1)];return n},kv.F._codeTiny=function(e,t,n,s){for(var r=0;r<e.length;r+=2){var i=e[r],a=e[r+1];s=kv.F._writeLit(i,t,n,s);var o=16==i?2:17==i?3:7;i>15&&(kv.F._putsE(n,s,a,o),s+=o)}return s},kv.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var s=0;s<n;s+=2){var r=e[s+1],i=s+3<n?e[s+3]:-1,a=s+5<n?e[s+5]:-1,o=0==s?-1:e[s-1];if(0==r&&i==r&&a==r){for(var l=s+5;l+2<n&&e[l+2]==r;)l+=2;(c=Math.min(l+1-s>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),s+=2*c-2}else if(r==o&&i==r&&a==r){for(l=s+5;l+2<n&&e[l+2]==r;)l+=2;var c=Math.min(l+1-s>>>1,6);t.push(16,c-3),s+=2*c-2}else t.push(r,0)}return n>>>1},kv.F._hufTree=function(e,t,n){var s=[],r=e.length,i=t.length,a=0;for(a=0;a<i;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<r;a++)0!=e[a]&&s.push({lit:a,f:e[a]});var o=s.length,l=s.slice(0);if(0==o)return 0;if(1==o){var c=s[0].lit;return l=0==c?1:0,t[1+(c<<1)]=1,t[1+(l<<1)]=1,1}s.sort((function(e,t){return e.f-t.f}));var d=s[0],u=s[1],h=0,m=1,f=2;for(s[0]={lit:-1,f:d.f+u.f,l:d,r:u,d:0};m!=o-1;)d=h!=m&&(f==o||s[h].f<s[f].f)?s[h++]:s[f++],u=h!=m&&(f==o||s[h].f<s[f].f)?s[h++]:s[f++],s[m++]={lit:-1,f:d.f+u.f,l:d,r:u};var p=kv.F.setDepth(s[m-1],0);for(p>n&&(kv.F.restrictDepth(l,n,p),p=n),a=0;a<o;a++)t[1+(l[a].lit<<1)]=l[a].d;return p},kv.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(kv.F.setDepth(e.l,t+1),kv.F.setDepth(e.r,t+1))},kv.F.restrictDepth=function(e,t,n){var s=0,r=1<<n-t,i=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),s=0;s<e.length&&e[s].d>t;s++){var a=e[s].d;e[s].d=t,i+=r-(1<<n-a)}for(i>>>=n-t;i>0;)(a=e[s].d)<t?(e[s].d++,i-=1<<t-a-1):s++;for(;s>=0;s--)e[s].d==t&&i<0&&(e[s].d--,i++)},kv.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},kv.F._writeLit=function(e,t,n,s){return kv.F._putsF(n,s,t[e<<1]),s+t[1+(e<<1)]},kv.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var s=kv.F,r=s._bitsF,i=s._bitsE,a=s._decodeTiny,o=s.makeCodes,l=s.codes2map,c=s._get17,d=s.U,u=null==t;u&&(t=new n(e.length>>>2<<3));for(var h,m,f=0,p=0,g=0,x=0,y=0,v=0,b=0,w=0,j=0;0==f;)if(f=r(e,j,1),p=r(e,j+1,2),j+=3,0!=p){if(u&&(t=kv.F._check(t,w+(1<<17))),1==p&&(h=d.flmap,m=d.fdmap,v=511,b=31),2==p){g=i(e,j,5)+257,x=i(e,j+5,5)+1,y=i(e,j+10,4)+4,j+=14;for(var N=0;N<38;N+=2)d.itree[N]=0,d.itree[N+1]=0;var k=1;for(N=0;N<y;N++){var C=i(e,j+3*N,3);d.itree[1+(d.ordr[N]<<1)]=C,C>k&&(k=C)}j+=3*y,o(d.itree,k),l(d.itree,k,d.imap),h=d.lmap,m=d.dmap,j=a(d.imap,(1<<k)-1,g+x,e,j,d.ttree);var S=s._copyOut(d.ttree,0,g,d.ltree);v=(1<<S)-1;var T=s._copyOut(d.ttree,g,x,d.dtree);b=(1<<T)-1,o(d.ltree,S),l(d.ltree,S,h),o(d.dtree,T),l(d.dtree,T,m)}for(;;){var E=h[c(e,j)&v];j+=15&E;var A=E>>>4;if(A>>>8==0)t[w++]=A;else{if(256==A)break;var I=w+A-254;if(A>264){var _=d.ldef[A-257];I=w+(_>>>3)+i(e,j,7&_),j+=7&_}var P=m[c(e,j)&b];j+=15&P;var D=P>>>4,R=d.ddef[D],M=(R>>>4)+r(e,j,15&R);for(j+=15&R,u&&(t=kv.F._check(t,w+(1<<17)));w<I;)t[w]=t[w++-M],t[w]=t[w++-M],t[w]=t[w++-M],t[w]=t[w++-M];w=I}}}else{7&j&&(j+=8-(7&j));var O=4+(j>>>3),L=e[O-4]|e[O-3]<<8;u&&(t=kv.F._check(t,w+L)),t.set(new n(e.buffer,e.byteOffset+O,L),w),j=O+L<<3,w+=L}return t.length==w?t:t.slice(0,w)},kv.F._check=function(e,t){var n=e.length;if(t<=n)return e;var s=new Uint8Array(Math.max(n<<1,t));return s.set(e,0),s},kv.F._decodeTiny=function(e,t,n,s,r,i){for(var a=kv.F._bitsE,o=kv.F._get17,l=0;l<n;){var c=e[o(s,r)&t];r+=15&c;var d=c>>>4;if(d<=15)i[l]=d,l++;else{var u=0,h=0;16==d?(h=3+a(s,r,2),r+=2,u=i[l-1]):17==d?(h=3+a(s,r,3),r+=3):18==d&&(h=11+a(s,r,7),r+=7);for(var m=l+h;l<m;)i[l]=u,l++}}return r},kv.F._copyOut=function(e,t,n,s){for(var r=0,i=0,a=s.length>>>1;i<n;){var o=e[i+t];s[i<<1]=0,s[1+(i<<1)]=o,o>r&&(r=o),i++}for(;i<a;)s[i<<1]=0,s[1+(i<<1)]=0,i++;return r},kv.F.makeCodes=function(e,t){for(var n,s,r,i,a=kv.F.U,o=e.length,l=a.bl_count,c=0;c<=t;c++)l[c]=0;for(c=1;c<o;c+=2)l[e[c]]++;var d=a.next_code;for(n=0,l[0]=0,s=1;s<=t;s++)n=n+l[s-1]<<1,d[s]=n;for(r=0;r<o;r+=2)0!=(i=e[r+1])&&(e[r]=d[i],d[i]++)},kv.F.codes2map=function(e,t,n){for(var s=e.length,r=kv.F.U.rev15,i=0;i<s;i+=2)if(0!=e[i+1])for(var a=i>>1,o=e[i+1],l=a<<4|o,c=t-o,d=e[i]<<c,u=d+(1<<c);d!=u;)n[r[d]>>>15-t]=l,d++},kv.F.revCodes=function(e,t){for(var n=kv.F.U.rev15,s=15-t,r=0;r<e.length;r+=2){var i=e[r]<<t-e[r+1];e[r]=n[i]>>>s}},kv.F._putsE=function(e,t,n){n<<=7&t;var s=t>>>3;e[s]|=n,e[s+1]|=n>>>8},kv.F._putsF=function(e,t,n){n<<=7&t;var s=t>>>3;e[s]|=n,e[s+1]|=n>>>8,e[s+2]|=n>>>16},kv.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},kv.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},kv.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},kv.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},kv.F.U=(jv=Uint16Array,Nv=Uint32Array,{next_code:new jv(16),bl_count:new jv(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new jv(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Nv(32),flmap:new jv(512),fltree:[],fdmap:new jv(32),fdtree:[],lmap:new jv(32768),ltree:[],ttree:[],dmap:new jv(32768),dtree:[],imap:new jv(512),itree:[],rev15:new jv(32768),lhst:new Nv(286),dhst:new Nv(30),ihst:new Nv(19),lits:new Nv(15e3),strt:new jv(65536),prev:new jv(32768)}),function(){for(var e=kv.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function s(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),kv.F.makeCodes(e.fltree,9),kv.F.codes2map(e.fltree,9,e.flmap),kv.F.revCodes(e.fltree,9),s(e.fdtree,32,5),kv.F.makeCodes(e.fdtree,5),kv.F.codes2map(e.fdtree,5,e.fdmap),kv.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}();var Tv,Ev=(Tv={__proto__:null,default:Cv},[Cv].forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(t){if("default"!==t&&!(t in Tv)){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(Tv,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}}))})),Object.freeze(Tv));const Av=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let s="";for(let r=0;r<n;r++)s+=String.fromCharCode(e[t+r]);return s},writeASCII(e,t,n){for(let s=0;s<n.length;s++)e[t+s]=n.charCodeAt(s)},readBytes(e,t,n){const s=[];for(let r=0;r<n;r++)s.push(e[t+r]);return s},pad:e=>e.length<2?`0${e}`:e,readUTF8(t,n,s){let r,i="";for(let o=0;o<s;o++)i+=`%${e.pad(t[n+o].toString(16))}`;try{r=decodeURIComponent(i)}catch(a){return e.readASCII(t,n,s)}return r}};function t(t,n,s,r){const a=n*s,o=i(r),l=Math.ceil(n*o/8),c=new Uint8Array(4*a),d=new Uint32Array(c.buffer),{ctype:u}=r,{depth:h}=r,m=e.readUshort;if(6==u){const e=a<<2;if(8==h)for(var f=0;f<e;f+=4)c[f]=t[f],c[f+1]=t[f+1],c[f+2]=t[f+2],c[f+3]=t[f+3];if(16==h)for(f=0;f<e;f++)c[f]=t[f<<1]}else if(2==u){const e=r.tabs.tRNS;if(null==e){if(8==h)for(f=0;f<a;f++){var p=3*f;d[f]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p]}if(16==h)for(f=0;f<a;f++)p=6*f,d[f]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p]}else{var g=e[0];const n=e[1],s=e[2];if(8==h)for(f=0;f<a;f++){var x=f<<2;p=3*f,d[f]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p],t[p]==g&&t[p+1]==n&&t[p+2]==s&&(c[x+3]=0)}if(16==h)for(f=0;f<a;f++)x=f<<2,p=6*f,d[f]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p],m(t,p)==g&&m(t,p+2)==n&&m(t,p+4)==s&&(c[x+3]=0)}}else if(3==u){const e=r.tabs.PLTE,i=r.tabs.tRNS,o=i?i.length:0;if(1==h)for(var y=0;y<s;y++){var v=y*l,b=y*n;for(f=0;f<n;f++){x=b+f<<2;var w=3*(j=t[v+(f>>3)]>>7-(7&f)&1);c[x]=e[w],c[x+1]=e[w+1],c[x+2]=e[w+2],c[x+3]=j<o?i[j]:255}}if(2==h)for(y=0;y<s;y++)for(v=y*l,b=y*n,f=0;f<n;f++)x=b+f<<2,w=3*(j=t[v+(f>>2)]>>6-((3&f)<<1)&3),c[x]=e[w],c[x+1]=e[w+1],c[x+2]=e[w+2],c[x+3]=j<o?i[j]:255;if(4==h)for(y=0;y<s;y++)for(v=y*l,b=y*n,f=0;f<n;f++)x=b+f<<2,w=3*(j=t[v+(f>>1)]>>4-((1&f)<<2)&15),c[x]=e[w],c[x+1]=e[w+1],c[x+2]=e[w+2],c[x+3]=j<o?i[j]:255;if(8==h)for(f=0;f<a;f++){var j;x=f<<2,w=3*(j=t[f]),c[x]=e[w],c[x+1]=e[w+1],c[x+2]=e[w+2],c[x+3]=j<o?i[j]:255}}else if(4==u){if(8==h)for(f=0;f<a;f++){x=f<<2;var N=t[k=f<<1];c[x]=N,c[x+1]=N,c[x+2]=N,c[x+3]=t[k+1]}if(16==h)for(f=0;f<a;f++){var k;x=f<<2,N=t[k=f<<2],c[x]=N,c[x+1]=N,c[x+2]=N,c[x+3]=t[k+2]}}else if(0==u)for(g=r.tabs.tRNS?r.tabs.tRNS:-1,y=0;y<s;y++){const e=y*l,s=y*n;if(1==h)for(var C=0;C<n;C++){var S=(N=255*(t[e+(C>>>3)]>>>7-(7&C)&1))==255*g?0:255;d[s+C]=S<<24|N<<16|N<<8|N}else if(2==h)for(C=0;C<n;C++)S=(N=85*(t[e+(C>>>2)]>>>6-((3&C)<<1)&3))==85*g?0:255,d[s+C]=S<<24|N<<16|N<<8|N;else if(4==h)for(C=0;C<n;C++)S=(N=17*(t[e+(C>>>1)]>>>4-((1&C)<<2)&15))==17*g?0:255,d[s+C]=S<<24|N<<16|N<<8|N;else if(8==h)for(C=0;C<n;C++)S=(N=t[e+C])==g?0:255,d[s+C]=S<<24|N<<16|N<<8|N;else if(16==h)for(C=0;C<n;C++)N=t[e+(C<<1)],S=m(t,e+(C<<1))==g?0:255,d[s+C]=S<<24|N<<16|N<<8|N}return c}function n(e,t,n,o){const l=i(e),c=Math.ceil(n*l/8),d=new Uint8Array((c+1+e.interlace)*o);return t=e.tabs.CgBI?r(t,d):s(t,d),0==e.interlace?t=a(t,e,0,n,o):1==e.interlace&&(t=function(e,t){const n=t.width,s=t.height,r=i(t),o=r>>3,l=Math.ceil(n*r/8),c=new Uint8Array(s*l);let d=0;const u=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1];let p=0;for(;p<7;){const i=m[p],x=f[p];let y=0,v=0,b=u[p];for(;b<s;)b+=i,v++;let w=h[p];for(;w<n;)w+=x,y++;const j=Math.ceil(y*r/8);a(e,t,d,y,v);let N=0,k=u[p];for(;k<s;){let t=h[p],s=d+N*j<<3;for(;t<n;){var g;if(1==r&&(g=(g=e[s>>3])>>7-(7&s)&1,c[k*l+(t>>3)]|=g<<7-(7&t)),2==r&&(g=(g=e[s>>3])>>6-(7&s)&3,c[k*l+(t>>2)]|=g<<6-((3&t)<<1)),4==r&&(g=(g=e[s>>3])>>4-(7&s)&15,c[k*l+(t>>1)]|=g<<4-((1&t)<<2)),r>=8){const n=k*l+t*o;for(let t=0;t<o;t++)c[n+t]=e[(s>>3)+t]}s+=r,t+=x}N++,k+=i}y*v!=0&&(d+=v*(1+j)),p+=1}return c}(t,e)),t}function s(e,t){return r(new Uint8Array(e.buffer,2,e.length-6),t)}var r=function(){const e={H:{}};return e.H.N=function(t,n){const s=Uint8Array;let r,i,a=0,o=0,l=0,c=0,d=0,u=0,h=0,m=0,f=0;if(3==t[0]&&0==t[1])return n||new s(0);const p=e.H,g=p.b,x=p.e,y=p.R,v=p.n,b=p.A,w=p.Z,j=p.m,N=null==n;for(N&&(n=new s(t.length>>>2<<5));0==a;)if(a=g(t,f,1),o=g(t,f+1,2),f+=3,0!=o){if(N&&(n=e.H.W(n,m+(1<<17))),1==o&&(r=j.J,i=j.h,u=511,h=31),2==o){l=x(t,f,5)+257,c=x(t,f+5,5)+1,d=x(t,f+10,4)+4,f+=14;let e=1;for(var k=0;k<38;k+=2)j.Q[k]=0,j.Q[k+1]=0;for(k=0;k<d;k++){const n=x(t,f+3*k,3);j.Q[1+(j.X[k]<<1)]=n,n>e&&(e=n)}f+=3*d,v(j.Q,e),b(j.Q,e,j.u),r=j.w,i=j.d,f=y(j.u,(1<<e)-1,l+c,t,f,j.v);const n=p.V(j.v,0,l,j.C);u=(1<<n)-1;const s=p.V(j.v,l,c,j.D);h=(1<<s)-1,v(j.C,n),b(j.C,n,r),v(j.D,s),b(j.D,s,i)}for(;;){const e=r[w(t,f)&u];f+=15&e;const s=e>>>4;if(s>>>8==0)n[m++]=s;else{if(256==s)break;{let e=m+s-254;if(s>264){const n=j.q[s-257];e=m+(n>>>3)+x(t,f,7&n),f+=7&n}const r=i[w(t,f)&h];f+=15&r;const a=r>>>4,o=j.c[a],l=(o>>>4)+g(t,f,15&o);for(f+=15&o;m<e;)n[m]=n[m++-l],n[m]=n[m++-l],n[m]=n[m++-l],n[m]=n[m++-l];m=e}}}}else{7&f&&(f+=8-(7&f));const r=4+(f>>>3),i=t[r-4]|t[r-3]<<8;N&&(n=e.H.W(n,m+i)),n.set(new s(t.buffer,t.byteOffset+r,i),m),f=r+i<<3,m+=i}return n.length==m?n:n.slice(0,m)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const s=new Uint8Array(n<<1);return s.set(e,0),s},e.H.R=function(t,n,s,r,i,a){const o=e.H.e,l=e.H.Z;let c=0;for(;c<s;){const e=t[l(r,i)&n];i+=15&e;const s=e>>>4;if(s<=15)a[c]=s,c++;else{let e=0,t=0;16==s?(t=3+o(r,i,2),i+=2,e=a[c-1]):17==s?(t=3+o(r,i,3),i+=3):18==s&&(t=11+o(r,i,7),i+=7);const n=c+t;for(;c<n;)a[c]=e,c++}}return i},e.H.V=function(e,t,n,s){let r=0,i=0;const a=s.length>>>1;for(;i<n;){const n=e[i+t];s[i<<1]=0,s[1+(i<<1)]=n,n>r&&(r=n),i++}for(;i<a;)s[i<<1]=0,s[1+(i<<1)]=0,i++;return r},e.H.n=function(t,n){const s=e.H.m,r=t.length;let i,a,o,l;const c=s.j;for(var d=0;d<=n;d++)c[d]=0;for(d=1;d<r;d+=2)c[t[d]]++;const u=s.K;for(i=0,c[0]=0,a=1;a<=n;a++)i=i+c[a-1]<<1,u[a]=i;for(o=0;o<r;o+=2)l=t[o+1],0!=l&&(t[o]=u[l],u[l]++)},e.H.A=function(t,n,s){const r=t.length,i=e.H.m.r;for(let e=0;e<r;e+=2)if(0!=t[e+1]){const r=e>>1,a=t[e+1],o=r<<4|a,l=n-a;let c=t[e]<<l;const d=c+(1<<l);for(;c!=d;)s[i[c]>>>15-n]=o,c++}},e.H.l=function(t,n){const s=e.H.m.r,r=15-n;for(let e=0;e<t.length;e+=2){const i=t[e]<<n-t[e+1];t[e]=s[i]>>>r}},e.H.M=function(e,t,n){n<<=7&t;const s=t>>>3;e[s]|=n,e[s+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const s=t>>>3;e[s]|=n,e[s+1]|=n>>>8,e[s+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function s(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];s(t._,144,8),s(t._,112,9),s(t._,24,7),s(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),s(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),s(t.Q,19,0),s(t.C,286,0),s(t.D,30,0),s(t.v,320,0)}(),e.H.N}();function i(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,t,n,s,r){let a=i(t);const l=Math.ceil(s*a/8);let c,d;a=Math.ceil(a/8);let u=e[n],h=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(h=a;h<l;h++)e[h+1]=e[h+1]+(e[h+1-a]>>>1)&255;for(let i=0;i<r;i++)if(c=n+i*l,d=c+i+1,u=e[d-1],h=0,0==u)for(;h<l;h++)e[c+h]=e[d+h];else if(1==u){for(;h<a;h++)e[c+h]=e[d+h];for(;h<l;h++)e[c+h]=e[d+h]+e[c+h-a]}else if(2==u)for(;h<l;h++)e[c+h]=e[d+h]+e[c+h-l];else if(3==u){for(;h<a;h++)e[c+h]=e[d+h]+(e[c+h-l]>>>1);for(;h<l;h++)e[c+h]=e[d+h]+(e[c+h-l]+e[c+h-a]>>>1)}else{for(;h<a;h++)e[c+h]=e[d+h]+o(0,e[c+h-l],0);for(;h<l;h++)e[c+h]=e[d+h]+o(e[c+h-a],e[c+h-l],e[c+h-a-l])}return e}function o(e,t,n){const s=e+t-n,r=s-e,i=s-t,a=s-n;return r*r<=i*i&&r*r<=a*a?e:i*i<=a*a?t:n}function l(t,n,s){s.width=e.readUint(t,n),n+=4,s.height=e.readUint(t,n),n+=4,s.depth=t[n],n++,s.ctype=t[n],n++,s.compress=t[n],n++,s.filter=t[n],n++,s.interlace=t[n],n++}function c(e,t,n,s,r,i,a,o,l){const c=Math.min(t,r),d=Math.min(n,i);let u=0,h=0;for(let w=0;w<d;w++)for(let n=0;n<c;n++)if(a>=0&&o>=0?(u=w*t+n<<2,h=(o+w)*r+a+n<<2):(u=(-o+w)*t-a+n<<2,h=w*r+n<<2),0==l)s[h]=e[u],s[h+1]=e[u+1],s[h+2]=e[u+2],s[h+3]=e[u+3];else if(1==l){var m=e[u+3]*(1/255),f=e[u]*m,p=e[u+1]*m,g=e[u+2]*m,x=s[h+3]*(1/255),y=s[h]*x,v=s[h+1]*x,b=s[h+2]*x;const t=1-m,n=m+x*t,r=0==n?0:1/n;s[h+3]=255*n,s[h+0]=(f+y*t)*r,s[h+1]=(p+v*t)*r,s[h+2]=(g+b*t)*r}else if(2==l)m=e[u+3],f=e[u],p=e[u+1],g=e[u+2],x=s[h+3],y=s[h],v=s[h+1],b=s[h+2],m==x&&f==y&&p==v&&g==b?(s[h]=0,s[h+1]=0,s[h+2]=0,s[h+3]=0):(s[h]=f,s[h+1]=p,s[h+2]=g,s[h+3]=m);else if(3==l){if(m=e[u+3],f=e[u],p=e[u+1],g=e[u+2],x=s[h+3],y=s[h],v=s[h+1],b=s[h+2],m==x&&f==y&&p==v&&g==b)continue;if(m<220&&x>20)return!1}return!0}return{decode:function(t){const i=new Uint8Array(t);let a=8;const o=e,c=o.readUshort,d=o.readUint,u={tabs:{},frames:[]},h=new Uint8Array(i.length);let m,f=0,p=0;const g=[137,80,78,71,13,10,26,10];for(var x=0;x<8;x++)if(i[x]!=g[x])throw"The input is not a PNG file!";for(;a<i.length;){const e=o.readUint(i,a);a+=4;const t=o.readASCII(i,a,4);if(a+=4,"IHDR"==t)l(i,a,u);else if("iCCP"==t){for(var y=a;0!=i[y];)y++;o.readASCII(i,a,y-a),i[y+1];const n=i.slice(y+2,a+e);let l=null;try{l=s(n)}catch(C){l=r(n)}u.tabs[t]=l}else if("CgBI"==t)u.tabs[t]=i.slice(a,a+4);else if("IDAT"==t){for(x=0;x<e;x++)h[f+x]=i[a+x];f+=e}else if("acTL"==t)u.tabs[t]={num_frames:d(i,a),num_plays:d(i,a+4)},m=new Uint8Array(i.length);else if("fcTL"==t){0!=p&&((k=u.frames[u.frames.length-1]).data=n(u,m.slice(0,p),k.rect.width,k.rect.height),p=0);const e={x:d(i,a+12),y:d(i,a+16),width:d(i,a+4),height:d(i,a+8)};let t=c(i,a+22);t=c(i,a+20)/(0==t?100:t);const s={rect:e,delay:Math.round(1e3*t),dispose:i[a+24],blend:i[a+25]};u.frames.push(s)}else if("fdAT"==t){for(x=0;x<e-4;x++)m[p+x]=i[a+x+4];p+=e-4}else if("pHYs"==t)u.tabs[t]=[o.readUint(i,a),o.readUint(i,a+4),i[a+8]];else if("cHRM"==t)for(u.tabs[t]=[],x=0;x<8;x++)u.tabs[t].push(o.readUint(i,a+4*x));else if("tEXt"==t||"zTXt"==t){null==u.tabs[t]&&(u.tabs[t]={});var v=o.nextZero(i,a),b=o.readASCII(i,a,v-a),w=a+e-v-1;if("tEXt"==t)N=o.readASCII(i,v+1,w);else{var j=s(i.slice(v+2,v+2+w));N=o.readUTF8(j,0,j.length)}u.tabs[t][b]=N}else if("iTXt"==t){null==u.tabs[t]&&(u.tabs[t]={}),v=0,y=a,v=o.nextZero(i,y),b=o.readASCII(i,y,v-y);const n=i[y=v+1];var N;i[y+1],y+=2,v=o.nextZero(i,y),o.readASCII(i,y,v-y),y=v+1,v=o.nextZero(i,y),o.readUTF8(i,y,v-y),w=e-((y=v+1)-a),0==n?N=o.readUTF8(i,y,w):(j=s(i.slice(y,y+w)),N=o.readUTF8(j,0,j.length)),u.tabs[t][b]=N}else if("PLTE"==t)u.tabs[t]=o.readBytes(i,a,e);else if("hIST"==t){const e=u.tabs.PLTE.length/3;for(u.tabs[t]=[],x=0;x<e;x++)u.tabs[t].push(c(i,a+2*x))}else if("tRNS"==t)3==u.ctype?u.tabs[t]=o.readBytes(i,a,e):0==u.ctype?u.tabs[t]=c(i,a):2==u.ctype&&(u.tabs[t]=[c(i,a),c(i,a+2),c(i,a+4)]);else if("gAMA"==t)u.tabs[t]=o.readUint(i,a)/1e5;else if("sRGB"==t)u.tabs[t]=i[a];else if("bKGD"==t)0==u.ctype||4==u.ctype?u.tabs[t]=[c(i,a)]:2==u.ctype||6==u.ctype?u.tabs[t]=[c(i,a),c(i,a+2),c(i,a+4)]:3==u.ctype&&(u.tabs[t]=i[a]);else if("IEND"==t)break;a+=e,o.readUint(i,a),a+=4}var k;return 0!=p&&((k=u.frames[u.frames.length-1]).data=n(u,m.slice(0,p),k.rect.width,k.rect.height)),u.data=n(u,h,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){const n=e.width,s=e.height;if(null==e.tabs.acTL)return[t(e.data,n,s,e).buffer];const r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const i=n*s*4,a=new Uint8Array(i),o=new Uint8Array(i),l=new Uint8Array(i);for(let u=0;u<e.frames.length;u++){const h=e.frames[u],m=h.rect.x,f=h.rect.y,p=h.rect.width,g=h.rect.height,x=t(h.data,p,g,e);if(0!=u)for(var d=0;d<i;d++)l[d]=a[d];if(0==h.blend?c(x,p,g,a,n,s,m,f,0):1==h.blend&&c(x,p,g,a,n,s,m,f,1),r.push(a.buffer.slice(0)),0==h.dispose);else if(1==h.dispose)c(o,p,g,a,n,s,m,f,0);else if(2==h.dispose)for(d=0;d<i;d++)a[d]=l[d]}return r},_paeth:o,_copyTile:c,_bin:e}}();!function(){const{_copyTile:e}=Av,{_bin:t}=Av,n=Av._paeth;var s={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,r){for(let i=0;i<r;i++)e=s.table[255&(e^t[n+i])]^e>>>8;return e},crc:(e,t,n)=>4294967295^s.update(4294967295,e,t,n)};function r(e,t,n,s){t[n]+=e[0]*s>>4,t[n+1]+=e[1]*s>>4,t[n+2]+=e[2]*s>>4,t[n+3]+=e[3]*s>>4}function i(e){return Math.max(0,Math.min(255,e))}function a(e,t){const n=e[0]-t[0],s=e[1]-t[1],r=e[2]-t[2],i=e[3]-t[3];return n*n+s*s+r*r+i*i}function o(e,t,n,s,o,l,c){null==c&&(c=1);const d=s.length,u=[];for(var h=0;h<d;h++){const e=s[h];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(h=0;h<d;h++){let e=4294967295;for(var m=0,f=0;f<d;f++){var p=a(u[h],u[f]);f!=h&&p<e&&(e=p,m=f)}}const g=new Uint32Array(o.buffer),x=new Int16Array(t*n*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<y.length;h++)y[h]=255*((y[h]+.5)/16-.5);for(let b=0;b<n;b++)for(let o=0;o<t;o++){var v;h=4*(b*t+o),2!=c?v=[i(e[h]+x[h]),i(e[h+1]+x[h+1]),i(e[h+2]+x[h+2]),i(e[h+3]+x[h+3])]:(p=y[4*(3&b)+(3&o)],v=[i(e[h]+p),i(e[h+1]+p),i(e[h+2]+p),i(e[h+3]+p)]),m=0;let w=16777215;for(f=0;f<d;f++){const e=a(v,u[f]);e<w&&(w=e,m=f)}const j=u[m],N=[v[0]-j[0],v[1]-j[1],v[2]-j[2],v[3]-j[3]];1==c&&(o!=t-1&&r(N,x,h+4,7),b!=n-1&&(0!=o&&r(N,x,h+4*t-4,3),r(N,x,h+4*t,5),o!=t-1&&r(N,x,h+4*t+4,1))),l[h>>2]=m,g[h>>2]=s[m]}}function l(e,n,r,i,a){null==a&&(a={});const{crc:o}=s,l=t.writeUint,c=t.writeUshort,d=t.writeASCII;let u=8;const h=e.frames.length>1;let m,f=!1,p=33+(h?20:0);if(null!=a.sRGB&&(p+=13),null!=a.pHYs&&(p+=21),null!=a.iCCP&&(m=pako.deflate(a.iCCP),p+=21+m.length+4),3==e.ctype){for(var g=e.plte.length,x=0;x<g;x++)e.plte[x]>>>24!=255&&(f=!0);p+=8+3*g+4+(f?8+1*g+4:0)}for(var y=0;y<e.frames.length;y++)h&&(p+=38),p+=(j=e.frames[y]).cimg.length+12,0!=y&&(p+=4);p+=12;const v=new Uint8Array(p),b=[137,80,78,71,13,10,26,10];for(x=0;x<8;x++)v[x]=b[x];if(l(v,u,13),u+=4,d(v,u,"IHDR"),u+=4,l(v,u,n),u+=4,l(v,u,r),u+=4,v[u]=e.depth,u++,v[u]=e.ctype,u++,v[u]=0,u++,v[u]=0,u++,v[u]=0,u++,l(v,u,o(v,u-17,17)),u+=4,null!=a.sRGB&&(l(v,u,1),u+=4,d(v,u,"sRGB"),u+=4,v[u]=a.sRGB,u++,l(v,u,o(v,u-5,5)),u+=4),null!=a.iCCP){const e=13+m.length;l(v,u,e),u+=4,d(v,u,"iCCP"),u+=4,d(v,u,"ICC profile"),u+=11,u+=2,v.set(m,u),u+=m.length,l(v,u,o(v,u-(e+4),e+4)),u+=4}if(null!=a.pHYs&&(l(v,u,9),u+=4,d(v,u,"pHYs"),u+=4,l(v,u,a.pHYs[0]),u+=4,l(v,u,a.pHYs[1]),u+=4,v[u]=a.pHYs[2],u++,l(v,u,o(v,u-13,13)),u+=4),h&&(l(v,u,8),u+=4,d(v,u,"acTL"),u+=4,l(v,u,e.frames.length),u+=4,l(v,u,null!=a.loop?a.loop:0),u+=4,l(v,u,o(v,u-12,12)),u+=4),3==e.ctype){for(l(v,u,3*(g=e.plte.length)),u+=4,d(v,u,"PLTE"),u+=4,x=0;x<g;x++){const t=3*x,n=e.plte[x],s=255&n,r=n>>>8&255,i=n>>>16&255;v[u+t+0]=s,v[u+t+1]=r,v[u+t+2]=i}if(u+=3*g,l(v,u,o(v,u-3*g-4,3*g+4)),u+=4,f){for(l(v,u,g),u+=4,d(v,u,"tRNS"),u+=4,x=0;x<g;x++)v[u+x]=e.plte[x]>>>24&255;u+=g,l(v,u,o(v,u-g-4,g+4)),u+=4}}let w=0;for(y=0;y<e.frames.length;y++){var j=e.frames[y];h&&(l(v,u,26),u+=4,d(v,u,"fcTL"),u+=4,l(v,u,w++),u+=4,l(v,u,j.rect.width),u+=4,l(v,u,j.rect.height),u+=4,l(v,u,j.rect.x),u+=4,l(v,u,j.rect.y),u+=4,c(v,u,i[y]),u+=2,c(v,u,1e3),u+=2,v[u]=j.dispose,u++,v[u]=j.blend,u++,l(v,u,o(v,u-30,30)),u+=4);const t=j.cimg;l(v,u,(g=t.length)+(0==y?0:4)),u+=4;const n=u;d(v,u,0==y?"IDAT":"fdAT"),u+=4,0!=y&&(l(v,u,w++),u+=4),v.set(t,u),u+=g,l(v,u,o(v,n,u-n)),u+=4}return l(v,u,0),u+=4,d(v,u,"IEND"),u+=4,l(v,u,o(v,u-4,4)),u+=4,v.buffer}function c(e,t,n){for(let s=0;s<e.frames.length;s++){const r=e.frames[s];r.rect.width;const i=r.rect.height,a=new Uint8Array(i*r.bpl+i);r.cimg=m(r.img,i,r.bpp,r.bpl,a,t,n)}}function d(t,n,s,r,i){const a=i[0],l=i[1],c=i[2],d=i[3],m=i[4],f=i[5];let g=6,x=8,y=255;for(var v=0;v<t.length;v++){const e=new Uint8Array(t[v]);for(var b=e.length,w=0;w<b;w+=4)y&=e[w+3]}const j=255!=y,N=function(t,n,s,r,i,a){const o=[];for(var l=0;l<t.length;l++){const u=new Uint8Array(t[l]),m=new Uint32Array(u.buffer);var c;let p=0,g=0,x=n,y=s,v=r?1:0;if(0!=l){const b=a||r||1==l||0!=o[l-2].dispose?1:2;let w=0,j=1e9;for(let e=0;e<b;e++){var d=new Uint8Array(t[l-1-e]);const r=new Uint32Array(t[l-1-e]);let a=n,o=s,c=-1,u=-1;for(let e=0;e<s;e++)for(let t=0;t<n;t++)m[f=e*n+t]!=r[f]&&(t<a&&(a=t),t>c&&(c=t),e<o&&(o=e),e>u&&(u=e));-1==c&&(a=o=c=u=0),i&&(!(1&~a)&&a--,!(1&~o)&&o--);const h=(c-a+1)*(u-o+1);h<j&&(j=h,w=e,p=a,g=o,x=c-a+1,y=u-o+1)}d=new Uint8Array(t[l-1-w]),1==w&&(o[l-1].dispose=2),c=new Uint8Array(x*y*4),e(d,n,s,c,x,y,-p,-g,0),v=e(u,n,s,c,x,y,-p,-g,3)?1:0,1==v?h(u,n,s,c,{x:p,y:g,width:x,height:y}):e(u,n,s,c,x,y,-p,-g,0)}else c=u.slice(0);o.push({rect:{x:p,y:g,width:x,height:y},img:c,blend:v,dispose:0})}if(r)for(l=0;l<o.length;l++){if(1==(p=o[l]).blend)continue;const e=p.rect,r=o[l-1].rect,a=Math.min(e.x,r.x),c=Math.min(e.y,r.y),d={x:a,y:c,width:Math.max(e.x+e.width,r.x+r.width)-a,height:Math.max(e.y+e.height,r.y+r.height)-c};o[l-1].dispose=1,l-1!=0&&u(t,n,s,o,l-1,d,i),u(t,n,s,o,l,d,i)}let m=0;if(1!=t.length)for(var f=0;f<o.length;f++){var p;m+=(p=o[f]).rect.width*p.rect.height}return o}(t,n,s,a,l,c),k={},C=[],S=[];if(0!=r){const e=[];for(w=0;w<N.length;w++)e.push(N[w].img.buffer);const t=p(function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const s=new Uint8Array(t);let r=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),i=t.length;for(let e=0;e<i;e+=4){let n=t[e],i=t[e+1],a=t[e+2];const o=t[e+3];0==o&&(n=i=a=0),s[r+e]=n,s[r+e+1]=i,s[r+e+2]=a,s[r+e+3]=o}r+=i}return s.buffer}(e),r);for(w=0;w<t.plte.length;w++)C.push(t.plte[w].est.rgba);let n=0;for(w=0;w<N.length;w++){const e=(E=N[w]).img.length;var T=new Uint8Array(t.inds.buffer,n>>2,e>>2);S.push(T);const s=new Uint8Array(t.abuf,n,e);f&&o(E.img,E.rect.width,E.rect.height,C,s,T),E.img.set(s),n+=e}}else for(v=0;v<N.length;v++){var E=N[v];const e=new Uint32Array(E.img.buffer);var A=E.rect.width;for(b=e.length,T=new Uint8Array(b),S.push(T),w=0;w<b;w++){const t=e[w];if(0!=w&&t==e[w-1])T[w]=T[w-1];else if(w>A&&t==e[w-A])T[w]=T[w-A];else{let e=k[t];if(null==e&&(k[t]=e=C.length,C.push(t),C.length>=300))break;T[w]=e}}}const I=C.length;for(I<=256&&0==m&&(x=I<=2?1:I<=4?2:I<=16?4:8,x=Math.max(x,d)),v=0;v<N.length;v++){(E=N[v]).rect.x,E.rect.y,A=E.rect.width;const e=E.rect.height;let t=E.img;new Uint32Array(t.buffer);let n=4*A,s=4;if(I<=256&&0==m){n=Math.ceil(x*A/8);var _=new Uint8Array(n*e);const r=S[v];for(let t=0;t<e;t++){w=t*n;const e=t*A;if(8==x)for(var P=0;P<A;P++)_[w+P]=r[e+P];else if(4==x)for(P=0;P<A;P++)_[w+(P>>1)]|=r[e+P]<<4-4*(1&P);else if(2==x)for(P=0;P<A;P++)_[w+(P>>2)]|=r[e+P]<<6-2*(3&P);else if(1==x)for(P=0;P<A;P++)_[w+(P>>3)]|=r[e+P]<<7-1*(7&P)}t=_,g=3,s=1}else if(0==j&&1==N.length){_=new Uint8Array(A*e*3);const r=A*e;for(w=0;w<r;w++){const e=3*w,n=4*w;_[e]=t[n],_[e+1]=t[n+1],_[e+2]=t[n+2]}t=_,g=2,s=3,n=3*A}E.img=t,E.bpl=n,E.bpp=s}return{ctype:g,depth:x,plte:C,frames:N}}function u(t,n,s,r,i,a,o){const l=Uint8Array,c=Uint32Array,d=new l(t[i-1]),u=new c(t[i-1]),m=i+1<t.length?new l(t[i+1]):null,f=new l(t[i]),p=new c(f.buffer);let g=n,x=s,y=-1,v=-1;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++){const s=a.x+t,o=a.y+e,l=o*n+s,c=p[l];0==c||0==r[i-1].dispose&&u[l]==c&&(null==m||0!=m[4*l+3])||(s<g&&(g=s),s>y&&(y=s),o<x&&(x=o),o>v&&(v=o))}-1==y&&(g=x=y=v=0),o&&(!(1&~g)&&g--,!(1&~x)&&x--),a={x:g,y:x,width:y-g+1,height:v-x+1};const b=r[i];b.rect=a,b.blend=1,b.img=new Uint8Array(a.width*a.height*4),0==r[i-1].dispose?(e(d,n,s,b.img,a.width,a.height,-a.x,-a.y,0),h(f,n,s,b.img,a)):e(f,n,s,b.img,a.width,a.height,-a.x,-a.y,0)}function h(t,n,s,r,i){e(t,n,s,r,i.width,i.height,-i.x,-i.y,2)}function m(e,t,n,s,r,i,a){const o=[];let l,c=[0,1,2,3,4];-1!=i?c=[i]:(t*s>5e5||1==n)&&(c=[0]),a&&(l={level:0});const d=Ev;for(var u=0;u<c.length;u++){for(let i=0;i<t;i++)f(r,e,i,s,n,c[u]);o.push(d.deflate(r,l))}let h,m=1e9;for(u=0;u<o.length;u++)o[u].length<m&&(h=u,m=o[u].length);return o[h]}function f(e,t,s,r,i,a){const o=s*r;let l=o+s;if(e[l]=a,l++,0==a)if(r<500)for(var c=0;c<r;c++)e[l+c]=t[o+c];else e.set(new Uint8Array(t.buffer,o,r),l);else if(1==a){for(c=0;c<i;c++)e[l+c]=t[o+c];for(c=i;c<r;c++)e[l+c]=t[o+c]-t[o+c-i]+256&255}else if(0==s){for(c=0;c<i;c++)e[l+c]=t[o+c];if(2==a)for(c=i;c<r;c++)e[l+c]=t[o+c];if(3==a)for(c=i;c<r;c++)e[l+c]=t[o+c]-(t[o+c-i]>>1)+256&255;if(4==a)for(c=i;c<r;c++)e[l+c]=t[o+c]-n(t[o+c-i],0,0)+256&255}else{if(2==a)for(c=0;c<r;c++)e[l+c]=t[o+c]+256-t[o+c-r]&255;if(3==a){for(c=0;c<i;c++)e[l+c]=t[o+c]+256-(t[o+c-r]>>1)&255;for(c=i;c<r;c++)e[l+c]=t[o+c]+256-(t[o+c-r]+t[o+c-i]>>1)&255}if(4==a){for(c=0;c<i;c++)e[l+c]=t[o+c]+256-n(0,t[o+c-r],0)&255;for(c=i;c<r;c++)e[l+c]=t[o+c]+256-n(t[o+c-i],t[o+c-r],t[o+c-i-r])&255}}}function p(e,t){const n=new Uint8Array(e),s=n.slice(0),r=new Uint32Array(s.buffer),i=g(s,t),a=i[0],o=i[1],l=n.length,c=new Uint8Array(l>>2);let d;if(n.length<2e7)for(var u=0;u<l;u+=4)d=x(a,h=n[u]*(1/255),m=n[u+1]*(1/255),f=n[u+2]*(1/255),p=n[u+3]*(1/255)),c[u>>2]=d.ind,r[u>>2]=d.est.rgba;else for(u=0;u<l;u+=4){var h=n[u]*(1/255),m=n[u+1]*(1/255),f=n[u+2]*(1/255),p=n[u+3]*(1/255);for(d=a;d.left;)d=y(d.est,h,m,f,p)<=0?d.left:d.right;c[u>>2]=d.ind,r[u>>2]=d.est.rgba}return{abuf:s.buffer,inds:c,plte:o}}function g(e,t,n){null==n&&(n=1e-4);const s=new Uint32Array(e.buffer),r={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=w(e,r.i0,r.i1),r.est=j(r.bst);const i=[r];for(;i.length<t;){let t=0,r=0;for(var a=0;a<i.length;a++)i[a].est.L>t&&(t=i[a].est.L,r=a);if(t<n)break;const o=i[r],l=v(e,s,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=l||o.i1<=l){o.est.L=0;continue}const c={i0:o.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};c.bst=w(e,c.i0,c.i1),c.est=j(c.bst);const d={i0:l,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:o.bst.N-c.bst.N},a=0;a<16;a++)d.bst.R[a]=o.bst.R[a]-c.bst.R[a];for(a=0;a<4;a++)d.bst.m[a]=o.bst.m[a]-c.bst.m[a];d.est=j(d.bst),o.left=c,o.right=d,i[r]=c,i.push(d)}for(i.sort(((e,t)=>t.bst.N-e.bst.N)),a=0;a<i.length;a++)i[a].ind=a;return[r,i]}function x(e,t,n,s,r){if(null==e.left)return e.tdst=function(e,t,n,s,r){const i=t-e[0],a=n-e[1],o=s-e[2],l=r-e[3];return i*i+a*a+o*o+l*l}(e.est.q,t,n,s,r),e;const i=y(e.est,t,n,s,r);let a=e.left,o=e.right;i>0&&(a=e.right,o=e.left);const l=x(a,t,n,s,r);if(l.tdst<=i*i)return l;const c=x(o,t,n,s,r);return c.tdst<l.tdst?c:l}function y(e,t,n,s,r){const{e:i}=e;return i[0]*t+i[1]*n+i[2]*s+i[3]*r-e.eMq}function v(e,t,n,s,r,i){for(s-=4;n<s;){for(;b(e,n,r)<=i;)n+=4;for(;b(e,s,r)>i;)s-=4;if(n>=s)break;const a=t[n>>2];t[n>>2]=t[s>>2],t[s>>2]=a,n+=4,s-=4}for(;b(e,n,r)>i;)n-=4;return n+4}function b(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function w(e,t,n){const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],i=n-t>>2;for(let a=t;a<n;a+=4){const t=e[a]*(1/255),n=e[a+1]*(1/255),i=e[a+2]*(1/255),o=e[a+3]*(1/255);r[0]+=t,r[1]+=n,r[2]+=i,r[3]+=o,s[0]+=t*t,s[1]+=t*n,s[2]+=t*i,s[3]+=t*o,s[5]+=n*n,s[6]+=n*i,s[7]+=n*o,s[10]+=i*i,s[11]+=i*o,s[15]+=o*o}return s[4]=s[1],s[8]=s[2],s[9]=s[6],s[12]=s[3],s[13]=s[7],s[14]=s[11],{R:s,m:r,N:i}}function j(e){const{R:t}=e,{m:n}=e,{N:s}=e,r=n[0],i=n[1],a=n[2],o=n[3],l=0==s?0:1/s,c=[t[0]-r*r*l,t[1]-r*i*l,t[2]-r*a*l,t[3]-r*o*l,t[4]-i*r*l,t[5]-i*i*l,t[6]-i*a*l,t[7]-i*o*l,t[8]-a*r*l,t[9]-a*i*l,t[10]-a*a*l,t[11]-a*o*l,t[12]-o*r*l,t[13]-o*i*l,t[14]-o*a*l,t[15]-o*o*l],d=c,u=N;let h=[Math.random(),Math.random(),Math.random(),Math.random()],m=0,f=0;if(0!=s)for(let g=0;g<16&&(h=u.multVec(d,h),f=Math.sqrt(u.dot(h,h)),h=u.sml(1/f,h),!(0!=g&&Math.abs(f-m)<1e-9));g++)m=f;const p=[r*l,i*l,a*l,o*l];return{Cov:c,q:p,e:h,L:m,eMq255:u.dot(u.sml(255,p),h),eMq:u.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0]))>>>0}}var N={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};Av.encode=function(e,t,n,s,r,i,a){null==s&&(s=0),null==a&&(a=!1);const o=d(e,t,n,s,[!1,!1,!1,0,a,!1]);return c(o,-1),l(o,t,n,r,i)},Av.encodeLL=function(e,t,n,s,r,i,a,o){const d={ctype:0+(1==s?0:2)+(0==r?0:4),depth:i,frames:[]},u=(s+r)*i,h=u*t;for(let l=0;l<e.length;l++)d.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(h/8)});return c(d,0,!0),l(d,t,n,a,o)},Av.encode.compress=d,Av.encode.dither=o,Av.quantize=p,Av.quantize.getKDtree=g,Av.quantize.getNearest=x}();const Iv={toArrayBuffer(e,t){const n=e.width,s=e.height,r=n<<2,i=e.getContext("2d").getImageData(0,0,n,s),a=new Uint32Array(i.data.buffer),o=(32*n+31)/32<<2,l=o*s,c=122+l,d=new ArrayBuffer(c),u=new DataView(d),h=1<<20;let m,f,p,g,x=h,y=0,v=0,b=0;function w(e){u.setUint16(v,e,!0),v+=2}function j(e){u.setUint32(v,e,!0),v+=4}function N(e){v+=e}w(19778),j(c),N(4),j(122),j(108),j(n),j(-s>>>0),w(1),w(32),j(3),j(l),j(2835),j(2835),N(8),j(16711680),j(65280),j(255),j(4278190080),j(1466527264),function e(){for(;y<s&&x>0;){for(g=122+y*o,m=0;m<r;)x--,f=a[b++],p=f>>>24,u.setUint32(g+m,f<<8|p),m+=4;y++}b<a.length?(x=h,setTimeout(e,Iv._dly)):t(d)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var _v={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Pv={[_v.CHROME]:16384,[_v.FIREFOX]:11180,[_v.DESKTOP_SAFARI]:16384,[_v.IE]:8192,[_v.IOS]:4096,[_v.ETC]:8192};const Dv="undefined"!=typeof window,Rv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Mv=Dv&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ov=(Dv||Rv)&&(Mv&&Mv.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),Lv=(Dv||Rv)&&(Mv&&Mv.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function Fv(e,t,n=Date.now()){return new Promise((s=>{const r=e.split(","),i=r[0].match(/:(.*?);/)[1],a=globalThis.atob(r[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const c=new Blob([l],{type:i});c.name=t,c.lastModified=n,s(c)}))}function Uv(e){return new Promise(((t,n)=>{const s=new Lv;s.onload=()=>t(s.result),s.onerror=e=>n(e),s.readAsDataURL(e)}))}function zv(e){return new Promise(((t,n)=>{const s=new Image;s.onload=()=>t(s),s.onerror=e=>n(e),s.src=e}))}function Vv(){if(void 0!==Vv.cachedResult)return Vv.cachedResult;let e=_v.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=_v.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=_v.IOS:/Safari/i.test(t)?e=_v.DESKTOP_SAFARI:/Firefox/i.test(t)?e=_v.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=_v.IE),Vv.cachedResult=e,Vv.cachedResult}function Bv(e,t){const n=Vv(),s=Pv[n];let r=e,i=t,a=r*i;const o=r>i?i/r:r/i;for(;a>s*s;){const e=(s+r)/2,t=(s+i)/2;e<t?(i=t,r=t*o):(i=e*o,r=e),a=r*i}return{width:r,height:i}}function qv(e,t){let n,s;try{if(n=new OffscreenCanvas(e,t),s=n.getContext("2d"),null===s)throw new Error("getContext of OffscreenCanvas returns null")}catch(r){n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=e,n.height=t,[n,s]}function $v(e,t){const{width:n,height:s}=Bv(e.width,e.height),[r,i]=qv(n,s);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,r.width,r.height)),i.drawImage(e,0,0,r.width,r.height),r}function Hv(){return void 0!==Hv.cachedResult||(Hv.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),Hv.cachedResult}function Kv(e,t={}){return new Promise((function(n,s){let r,i;var a=function(){try{return i=$v(r,t.fileType||e.type),n([r,i])}catch(a){return s(a)}},o=function(t){try{var n=function(e){try{throw e}catch(t){return s(t)}};try{let t;return Uv(e).then((function(e){try{return t=e,zv(t).then((function(e){try{return r=e,function(){try{return a()}catch(e){return s(e)}}()}catch(t){return n(t)}}),n)}catch(i){return n(i)}}),n)}catch(i){n(i)}}catch(i){return s(i)}};try{if(Hv()||[_v.DESKTOP_SAFARI,_v.MOBILE_SAFARI].includes(Vv()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return r=e,a()}catch(t){return o()}}),o)}catch(l){o()}}))}function Wv(e,t,n,s,r=1){return new Promise((function(i,a){let o;if("image/png"===t){let i,a,c;return i=e.getContext("2d"),({data:a}=i.getImageData(0,0,e.width,e.height)),c=Av.encode([a.buffer],e.width,e.height,4096*r),o=new Blob([c],{type:t}),o.name=n,o.lastModified=s,l.call(this)}{let i=function(){return l.call(this)};if("image/bmp"===t)return new Promise((t=>Iv.toBlob(e,t))).then(function(e){try{return o=e,o.name=n,o.lastModified=s,i.call(this)}catch(t){return a(t)}}.bind(this),a);{let l=function(){return i.call(this)};if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then(function(e){try{return o=e,o.name=n,o.lastModified=s,l.call(this)}catch(t){return a(t)}}.bind(this),a);{let i;return i=e.toDataURL(t,r),Fv(i,n,s).then(function(e){try{return o=e,l.call(this)}catch(t){return a(t)}}.bind(this),a)}}}function l(){return i(o)}}))}function Gv(e){e.width=0,e.height=0}function Qv(){return new Promise((function(e,t){let n,s,r,i;return void 0!==Qv.cachedResult?e(Qv.cachedResult):Fv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(a){try{return n=a,Kv(n).then((function(a){try{return s=a[1],Wv(s,n.type,n.name,n.lastModified).then((function(n){try{return r=n,Gv(s),Kv(r).then((function(n){try{return i=n[0],Qv.cachedResult=1===i.width&&2===i.height,e(Qv.cachedResult)}catch(s){return t(s)}}),t)}catch(a){return t(a)}}),t)}catch(o){return t(o)}}),t)}catch(o){return t(o)}}),t)}))}function Yv(e){return new Promise(((t,n)=>{const s=new Lv;s.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const s=n.byteLength;let r=2;for(;r<s;){if(n.getUint16(r+2,!1)<=8)return t(-1);const e=n.getUint16(r,!1);if(r+=2,65505==e){if(1165519206!=n.getUint32(r+=2,!1))return t(-1);const e=18761==n.getUint16(r+=6,!1);r+=n.getUint32(r+4,e);const s=n.getUint16(r,e);r+=2;for(let i=0;i<s;i++)if(274==n.getUint16(r+12*i,e))return t(n.getUint16(r+12*i+8,e))}else{if(65280&~e)break;r+=n.getUint16(r,!1)}}return t(-1)},s.onerror=e=>n(e),s.readAsArrayBuffer(e)}))}function Xv(e,t){const{width:n}=e,{height:s}=e,{maxWidthOrHeight:r}=t;let i,a=e;return isFinite(r)&&(n>r||s>r)&&([a,i]=qv(n,s),n>s?(a.width=r,a.height=s/n*r):(a.width=n/s*r,a.height=r),i.drawImage(e,0,0,a.width,a.height),Gv(e)),a}function Jv(e,t){const{width:n}=e,{height:s}=e,[r,i]=qv(n,s);switch(t>4&&t<9?(r.width=s,r.height=n):(r.width=n,r.height=s),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,s);break;case 4:i.transform(1,0,0,-1,0,s);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,s,0);break;case 7:i.transform(0,-1,-1,0,s,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,s),Gv(e),r}function Zv(e,t,n=0){return new Promise((function(s,r){let i,a,o,l,c,d,u,h,m,f,p,g,x,y,v,b,w,j,N,k;function C(e=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=e,t.onProgress(Math.min(i,100))}function S(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(e,i),100),t.onProgress(i)}return i=n,a=t.maxIteration||10,o=1024*t.maxSizeMB*1024,C(),Kv(e,t).then(function(n){try{return[,l]=n,C(),c=Xv(l,t),C(),new Promise((function(n,s){var r;if(!(r=t.exifOrientation))return Yv(e).then(function(e){try{return r=e,i.call(this)}catch(t){return s(t)}}.bind(this),s);function i(){return n(r)}return i.call(this)})).then(function(n){try{return d=n,C(),Qv().then(function(n){try{return u=n?c:Jv(c,d),C(),h=t.initialQuality||1,m=t.fileType||e.type,Wv(u,m,e.name,e.lastModified,h).then(function(n){try{{let d=function(){if(a--&&(v>o||v>x)){let t,n;return t=k?.95*N.width:N.width,n=k?.95*N.height:N.height,[w,j]=qv(t,n),j.drawImage(N,0,0,t,n),h*="image/png"===m?.85:.95,Wv(w,m,e.name,e.lastModified,h).then((function(e){try{return b=e,Gv(N),N=w,v=b.size,S(Math.min(99,Math.floor((y-v)/(y-o)*100))),d}catch(t){return r(t)}}),r)}return[1]},T=function(){return Gv(N),Gv(w),Gv(c),Gv(u),Gv(l),S(100),s(b)};return f=n,C(),p=f.size>o,g=f.size>e.size,p||g?(x=e.size,y=f.size,v=y,N=u,k=!t.alwaysKeepResolution&&p,(i=function(e){for(;e;){if(e.then)return void e.then(i,r);try{if(e.pop){if(e.length)return e.pop()?T.call(this):e;e=d}else e=e.call(this)}catch(t){return r(t)}}}.bind(this))(d)):(S(100),s(f));var i}}catch(d){return r(d)}}.bind(this),r)}catch(i){return r(i)}}.bind(this),r)}catch(i){return r(i)}}.bind(this),r)}catch(i){return r(i)}}.bind(this),r)}))}let eb;function tb(e,t){return new Promise((function(n,s){let r,i,a,o,l,c;if(r={...t},a=0,({onProgress:o}=r),r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,l="boolean"!=typeof r.useWebWorker||r.useWebWorker,delete r.useWebWorker,r.onProgress=e=>{a=e,"function"==typeof o&&o(a)},!(e instanceof Blob||e instanceof Ov))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return s(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||"function"!=typeof Worker||c)return Zv(e,r).then(function(e){try{return i=e,h.call(this)}catch(t){return s(t)}}.bind(this),s);var d=function(){try{return h.call(this)}catch(e){return s(e)}}.bind(this),u=function(t){try{return Zv(e,r).then((function(e){try{return i=e,d()}catch(t){return s(t)}}),s)}catch(n){return s(n)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function(e,t){return new Promise(((n,s)=>{eb||(eb=function(e){const t=[];return t.push(e),URL.createObjectURL(new Blob(t))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const r=new Worker(eb);r.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)r.terminate();else if(void 0===e.data.progress){if(e.data.error)return s(new Error(e.data.error)),void r.terminate();n(e.data.file),r.terminate()}else t.onProgress(e.data.progress)})),r.addEventListener("error",s),t.signal&&t.signal.addEventListener("abort",(()=>{s(t.signal.reason),r.terminate()})),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}(e,r).then((function(e){try{return i=e,d()}catch(t){return u()}}),u)}catch(m){u()}function h(){try{i.name=e.name,i.lastModified=e.lastModified}catch(m){}try{r.preserveExif&&"image/jpeg"===e.type&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(i=bv(e,i))}catch(m){}return n(i)}}))}tb.getDataUrlFromFile=Uv,tb.getFilefromDataUrl=Fv,tb.loadImage=zv,tb.drawImageInCanvas=$v,tb.drawFileInCanvas=Kv,tb.canvasToFile=Wv,tb.getExifOrientation=Yv,tb.handleMaxWidthOrHeight=Xv,tb.followExifOrientation=Jv,tb.cleanupCanvasMemory=Gv,tb.isAutoOrientationInBrowser=Qv,tb.approximateBelowMaximumCanvasSizeOfBrowser=Bv,tb.copyExifWithoutOrientation=bv,tb.getBrowserName=Vv,tb.version="2.0.2";const nb={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,quality:.8,fileType:"image/webp",preserveExif:!1};async function sb(e,t={}){const n=performance.now(),s=e.size,r={...nb,...t};if(!e.type.startsWith("image/"))throw new Error(`   : ${e.type}`);if(s<=1024*(r.maxSizeMB||1)*1024&&!r.fileType)return{file:e,originalSize:s,compressedSize:s,compressionRatio:0,compressionTime:0};try{const t={maxSizeMB:r.maxSizeMB,maxWidthOrHeight:r.maxWidthOrHeight,useWebWorker:r.useWebWorker,fileType:r.fileType,initialQuality:r.quality,preserveExif:r.preserveExif,onProgress:r.onProgress},i=await tb(e,t),a=performance.now(),o=i.size;return{file:i,originalSize:s,compressedSize:o,compressionRatio:(s-o)/s*100,compressionTime:a-n}}catch(i){throw i}}async function rb(e,t){return sb(e,{maxSizeMB:.8,maxWidthOrHeight:1200,quality:.85,fileType:"image/webp",onProgress:t})}async function ib(e,t){return sb(e,{maxSizeMB:1,maxWidthOrHeight:1920,quality:.8,fileType:"image/webp",onProgress:t})}const ab="products",ob=async()=>{try{return(await _g(Tp(mv,ab))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},lb=async e=>{try{const t=Ep(mv,ab,e),n=await Ag(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){throw t}},cb=async(e=4)=>{try{const t=ug(Tp(mv,ab),mg("featured","==",!0),gg("createdAt","desc"),yg(e));return(await _g(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw t}},db=async e=>{try{await Rg(Ep(mv,ab,e));try{const t=Yx(fv,`products/${e}`);await Qx(t)}catch(t){}}catch(t){throw t}},ub=async()=>{try{return(await _g(Tp(mv,"categories"))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},hb="orders",mb=async()=>{try{const e=ug(Tp(mv,hb),gg("createdAt","desc"));return(await _g(e)).docs.map((e=>{var t,n;const s=e.data();return{id:e.id,...s,createdAt:(null==(t=s.createdAt)?void 0:t.toDate())||new Date,deliveryDate:null==(n=s.deliveryDate)?void 0:n.toDate()}}))}catch(e){throw e}},fb="blogPosts",pb=async()=>{try{const e=await _g(Tp(mv,fb)),t=new Set;return e.docs.forEach((e=>{const n=e.data();n.tags&&Array.isArray(n.tags)&&n.tags.forEach((e=>t.add(e)))})),Array.from(t)}catch(e){throw e}},gb=lt.createContext(void 0);function xb({children:e}){const[t,n]=lt.useState(null),[s,r]=lt.useState(!0);lt.useEffect((()=>{(async()=>{try{const e=await yv();n(e)}catch(e){}finally{r(!1)}})()}),[]);const i={user:t,loading:s,login:async(e,t)=>{r(!0);try{const s=await(async(e,t)=>{try{const n=await Sa(hv,e,t),{user:s}=n,r=await Ag(Ep(mv,pv,s.uid));if(r.exists())return{id:s.uid,email:s.email||e,displayName:s.displayName||"",photoURL:s.photoURL||"",...r.data(),firebaseUser:s};{const t={id:s.uid,email:s.email||e,displayName:s.displayName||"",photoURL:s.photoURL||"",isAdmin:!1};return await Pg(Ep(mv,pv,s.uid),t),{...t,firebaseUser:s}}}catch(n){throw n}})(e,t);n(s)}catch(s){throw s}finally{r(!1)}},register:async(e,t,s)=>{r(!0);try{const r=await gv(e,t,s);n(r)}catch(i){throw i}finally{r(!1)}},logout:async()=>{r(!0);try{await xv(),n(null)}catch(e){throw e}finally{r(!1)}},updateProfile:async e=>{if(!t)throw new Error("User not authenticated");r(!0);try{await(async(e,t)=>{try{const n=hv.currentUser;if(!n)throw new Error("User not authenticated");await Dg(Ep(mv,pv,e),t),t.displayName&&await Ta(n,{displayName:t.displayName}),t.photoURL&&await Ta(n,{photoURL:t.photoURL}),t.email&&t.email!==n.email&&await Ea(n,t.email)}catch(n){throw n}})(t.id,e),n((t=>t?{...t,...e}:null))}catch(s){throw s}finally{r(!1)}},sendPasswordReset:async e=>{r(!0);try{await vv(e)}catch(t){throw t}finally{r(!1)}},loginWithGoogle:async()=>{r(!0);try{const e=await(async()=>{const e=new ga;try{const t=await so(hv,e),{user:n}=t,s=await Ag(Ep(mv,pv,n.uid));if(s.exists())return{id:n.uid,email:n.email||"",displayName:n.displayName||"",photoURL:n.photoURL||"",...s.data(),firebaseUser:n};{const e={id:n.uid,email:n.email||"",displayName:n.displayName||"",photoURL:n.photoURL||"",isAdmin:!1};return await Pg(Ep(mv,pv,n.uid),e),{...e,firebaseUser:n}}}catch(t){throw t}})();n(e)}catch(e){throw e}finally{r(!1)}},isAuthenticated:!!t};return X.jsx(gb.Provider,{value:i,children:e})}const yb=()=>{const e=lt.useContext(gb);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},vb="carts",bb="guest_cart",wb=lt.createContext(void 0);function jb(){const e=lt.useContext(wb);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}function Nb({children:e}){const[t,n]=lt.useState([]),[s,r]=lt.useState(!0),{user:i}=yb();lt.useEffect((()=>{(async()=>{r(!0);try{if(i){const e=Ep(mv,vb,i.id),s=await Ag(e);s.exists()?n(s.data().items||[]):(await Pg(e,{items:[],updatedAt:Fg()}),n([]));const r=localStorage.getItem(bb);if(r){const s=JSON.parse(r);if(s.length>0){const r=a([...t,...s]);n(r),await Dg(e,{items:r,updatedAt:Fg()}),localStorage.removeItem(bb)}}}else{const e=localStorage.getItem(bb);n(e?JSON.parse(e):[])}}catch(e){n([])}finally{r(!1)}})()}),[i]);const a=e=>{const t={};return e.forEach((e=>{t[e.id]?t[e.id].quantity+=e.quantity:t[e.id]={...e}})),Object.values(t)},o=async()=>{try{if(i){const e=Ep(mv,vb,i.id);await Dg(e,{items:t,updatedAt:Fg()})}else localStorage.setItem(bb,JSON.stringify(t))}catch(e){}},l=async e=>{try{const s=t.filter((t=>t.id!==e));n(s),await o()}catch(s){throw s}},c=lt.useCallback((()=>t.reduce(((e,t)=>e+t.price*t.quantity),0)),[t]),d=lt.useCallback((()=>t.reduce(((e,t)=>e+t.quantity),0)),[t]),u={cart:t,loading:s,addToCart:async e=>{try{const s=t.findIndex((t=>t.id===e.id));if(s>=0){const e=[...t];e[s].quantity+=1,n(e)}else n((t=>[...t,{...e,quantity:1}]));await o()}catch(s){throw s}},removeFromCart:l,updateQuantity:async(e,s)=>{try{if(s<=0)return void(await l(e));const r=t.map((t=>t.id===e?{...t,quantity:s}:t));n(r),await o()}catch(r){throw r}},getTotal:c,getItemsCount:d,clearCart:async()=>{try{n([]),await o()}catch(e){throw e}},saveCartToDatabase:o};return X.jsx(wb.Provider,{value:u,children:e})}const kb=lt.createContext(void 0),Cb=({children:e})=>{const[t,n]=lt.useState(new Map),[s,r]=lt.useState(!1),[i,a]=lt.useState(0),o=lt.useCallback((e=>{n((t=>{const n=new Map(t);return n.set(e.id,e),n})),r(!0)}),[]),l=lt.useCallback(((e,t)=>{n((n=>{const s=new Map(n),r=s.get(e);return r&&s.set(e,{...r,...t}),s}))}),[]),c=lt.useCallback((e=>{n((t=>{const n=new Map(t);return n.delete(e),n}))}),[]),d=lt.useCallback((e=>t.get(e)),[t]),u=lt.useCallback((()=>{n(new Map),r(!1)}),[]),h=lt.useCallback((()=>{a((e=>e+1))}),[]),m={postsCache:t,addPostToCache:o,updatePostInCache:l,removePostFromCache:c,getPostFromCache:d,clearCache:u,hasNewPosts:s,setHasNewPosts:r,triggerRefresh:h,refreshTrigger:i};return X.jsx(kb.Provider,{value:m,children:e})};function Sb(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Sb(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Tb(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Sb(e))&&(s&&(s+=" "),s+=t);return s}const Eb=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ab=Tb,Ib=(e,t)=>n=>{var s;if(null==(null==t?void 0:t.variants))return Ab(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:r,defaultVariants:i}=t,a=Object.keys(r).map((e=>{const t=null==n?void 0:n[e],s=null==i?void 0:i[e];if(null===t)return null;const a=Eb(t)||Eb(s);return r[e][a]})),o=n&&Object.entries(n).reduce(((e,t)=>{let[n,s]=t;return void 0===s||(e[n]=s),e}),{}),l=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce(((e,t)=>{let{class:n,className:s,...r}=t;return Object.entries(r).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n}))?[...e,n,s]:e}),[]);return Ab(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},_b=e=>{const t=Mb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Pb(n,t)||Rb(e)},getConflictingClassGroupIds:(e,t)=>{const r=n[e]||[];return t&&s[e]?[...r,...s[e]]:r}}},Pb=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?Pb(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(a))))?void 0:n.classGroupId},Db=/^\[(.+)\]$/,Rb=e=>{if(Db.test(e)){const t=Db.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Mb=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Ub(Object.entries(e.classGroups),n).forEach((([e,n])=>{Ob(n,s,e,t)})),s},Ob=(e,t,n,s)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return Fb(e)?void Ob(e(s),t,n,s):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,r])=>{Ob(r,Lb(t,e),n,s)}))}else{(""===e?t:Lb(t,e)).classGroupId=n}}))},Lb=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},Fb=e=>e.isThemeGetter,Ub=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,zb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(r,i)=>{n.set(r,i),t++,t>e&&(t=0,s=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(r(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):r(e,t)}}},Vb=e=>{const{separator:t,experimentalParseClassName:n}=e,s=1===t.length,r=t[0],i=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===r&&(s||e.slice(u,u+i)===t)){n.push(e.slice(l,u)),l=u+i;continue}if("/"===c){a=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:n,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},Bb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},qb=/\s+/;function $b(){let e,t,n=0,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Hb(e))&&(s&&(s+=" "),s+=t);return s}const Hb=e=>{if("string"==typeof e)return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Hb(e[s]))&&(n&&(n+=" "),n+=t);return n};function Kb(e,...t){let n,s,r,i=function(o){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:zb(e.cacheSize),parseClassName:Vb(e),..._b(e)}))(l),s=n.cache.get,r=n.cache.set,i=a,a(o)};function a(e){const t=s(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=t,i=[],a=e.trim().split(qb);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(e);let h=Boolean(u),m=s(h?d.substring(0,u):d);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=s(d),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const f=Bb(t).join(":"),p=c?f+"!":f,g=p+m;if(i.includes(g))continue;i.push(g);const x=r(m,h);for(let n=0;n<x.length;++n){const e=x[n];i.push(p+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return r(e,i),i}return function(){return i($b.apply(null,arguments))}}const Wb=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Gb=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qb=/^\d+\/\d+$/,Yb=new Set(["px","full","screen"]),Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ew=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nw=e=>rw(e)||Yb.has(e)||Qb.test(e),sw=e=>xw(e,"length",yw),rw=e=>Boolean(e)&&!Number.isNaN(Number(e)),iw=e=>xw(e,"number",rw),aw=e=>Boolean(e)&&Number.isInteger(Number(e)),ow=e=>e.endsWith("%")&&rw(e.slice(0,-1)),lw=e=>Gb.test(e),cw=e=>Xb.test(e),dw=new Set(["length","size","percentage"]),uw=e=>xw(e,dw,vw),hw=e=>xw(e,"position",vw),mw=new Set(["image","url"]),fw=e=>xw(e,mw,ww),pw=e=>xw(e,"",bw),gw=()=>!0,xw=(e,t,n)=>{const s=Gb.exec(e);return!!s&&(s[1]?"string"==typeof t?s[1]===t:t.has(s[1]):n(s[2]))},yw=e=>Jb.test(e)&&!Zb.test(e),vw=()=>!1,bw=e=>ew.test(e),ww=e=>tw.test(e),jw=Kb((()=>{const e=Wb("colors"),t=Wb("spacing"),n=Wb("blur"),s=Wb("brightness"),r=Wb("borderColor"),i=Wb("borderRadius"),a=Wb("borderSpacing"),o=Wb("borderWidth"),l=Wb("contrast"),c=Wb("grayscale"),d=Wb("hueRotate"),u=Wb("invert"),h=Wb("gap"),m=Wb("gradientColorStops"),f=Wb("gradientColorStopPositions"),p=Wb("inset"),g=Wb("margin"),x=Wb("opacity"),y=Wb("padding"),v=Wb("saturate"),b=Wb("scale"),w=Wb("sepia"),j=Wb("skew"),N=Wb("space"),k=Wb("translate"),C=()=>["auto",lw,t],S=()=>[lw,t],T=()=>["",nw,sw],E=()=>["auto",rw,lw],A=()=>["","0",lw],I=()=>[rw,lw];return{cacheSize:500,separator:":",theme:{colors:[gw],spacing:[nw,sw],blur:["none","",cw,lw],brightness:I(),borderColor:[e],borderRadius:["none","","full",cw,lw],borderSpacing:S(),borderWidth:T(),contrast:I(),grayscale:A(),hueRotate:I(),invert:A(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[ow,sw],inset:C(),margin:C(),opacity:I(),padding:S(),saturate:I(),scale:I(),sepia:A(),skew:I(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",lw]}],container:["container"],columns:[{columns:[cw]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",lw]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",aw,lw]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lw]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",aw,lw]}],"grid-cols":[{"grid-cols":[gw]}],"col-start-end":[{col:["auto",{span:["full",aw,lw]},lw]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[gw]}],"row-start-end":[{row:["auto",{span:[aw,lw]},lw]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lw]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lw]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lw,t]}],"min-w":[{"min-w":[lw,t,"min","max","fit"]}],"max-w":[{"max-w":[lw,t,"none","full","min","max","fit","prose",{screen:[cw]},cw]}],h:[{h:[lw,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lw,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lw,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lw,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cw,sw]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iw]}],"font-family":[{font:[gw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lw]}],"line-clamp":[{"line-clamp":["none",rw,iw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nw,lw]}],"list-image":[{"list-image":["none",lw]}],"list-style-type":[{list:["none","disc","decimal",lw]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nw,sw]}],"underline-offset":[{"underline-offset":["auto",nw,lw]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lw]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lw]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",hw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[nw,lw]}],"outline-w":[{outline:[nw,sw]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nw,sw]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cw,pw]}],"shadow-color":[{shadow:[gw]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cw,lw]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lw]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",lw]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",lw]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[aw,lw]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lw]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lw]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lw]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nw,sw,iw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function Nw(...e){return jw(Tb(e))}const kw=Ib("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Cw=lt.forwardRef((({className:e,variant:t,size:n,asChild:s=!1,...r},i)=>{const a=s?Z:"button";return X.jsx(a,{className:Nw(kw({variant:t,size:n,className:e})),ref:i,...r})}));Cw.displayName="Button";var Sw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tw=(e,t)=>{const n=lt.forwardRef((({color:n="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:o,...l},c)=>{return lt.createElement("svg",{ref:c,...Sw,width:s,height:s,stroke:n,strokeWidth:i?24*Number(r)/Number(s):r,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,a].join(" "),...l},[...t.map((([e,t])=>lt.createElement(e,t))),...Array.isArray(o)?o:[o]]);var d}));return n.displayName=`${e}`,n},Ew=Tw("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Aw=Tw("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Iw=Tw("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),_w=Tw("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Pw=Tw("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Dw=Tw("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Rw=Tw("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Mw=Tw("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Ow=Tw("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Lw=Tw("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Fw=Tw("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Uw=Tw("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),zw=Tw("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vw=Tw("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Bw=Tw("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),qw=Tw("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$w=Tw("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hw=Tw("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Kw=Tw("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ww=Tw("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Gw=Tw("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qw=Tw("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Yw=Tw("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Xw=Tw("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Jw=Tw("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Zw=Tw("Flower",[["path",{d:"M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V9m-4.5 3a4.5 4.5 0 1 0 4.5 4.5M7.5 12H9m7.5 0a4.5 4.5 0 1 1-4.5 4.5m4.5-4.5H15m-3 4.5V15",key:"51z86h"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m8 16 1.5-1.5",key:"ce6zph"}],["path",{d:"M14.5 9.5 16 8",key:"1kzrzb"}],["path",{d:"m8 8 1.5 1.5",key:"1yv88w"}],["path",{d:"M14.5 14.5 16 16",key:"12xhjh"}]]),ej=Tw("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),tj=Tw("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),nj=Tw("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),sj=Tw("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),rj=Tw("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),ij=Tw("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),aj=Tw("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),oj=Tw("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),lj=Tw("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),cj=Tw("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),dj=Tw("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),uj=Tw("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),hj=Tw("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),mj=Tw("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),fj=Tw("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),pj=Tw("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),gj=Tw("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xj=Tw("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),yj=Tw("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),vj=Tw("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),bj=Tw("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),wj=Tw("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),jj=Tw("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nj=Tw("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),kj=Tw("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cj=Tw("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Sj=Tw("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Tj=Tw("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ej=Tw("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Aj=Tw("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),Ij=Tw("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),_j=Tw("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Pj=Tw("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Dj=Tw("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),Rj=Tw("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Mj=Tw("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Oj=Tw("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Lj=Tw("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fj=Tw("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Uj=Tw("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),zj=Tw("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Vj=Tw("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Bj=Tw("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qj=Tw("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$j=Tw("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Hj=Tw("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Kj extends lt.Component{constructor(){super(...arguments),$(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:X.jsxs("div",{className:"text-center p-8 max-w-md mx-auto",children:[X.jsx(Aw,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),X.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Nco se pokazilo"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Omlouvme se, dolo k neoekvan chyb. Zkuste prosm obnovit strnku."}),X.jsx(Cw,{onClick:()=>window.location.reload(),className:"mr-2",children:"Obnovit strnku"}),X.jsx(Cw,{variant:"outline",onClick:()=>window.location.href="/",children:"Zpt na hlavn strnku"}),!1]})}):this.props.children}}function Wj(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function Gj(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every((n=>{const s=e[n],r=t[n];return"function"==typeof s?`${s}`==`${r}`:Wj(s)&&Wj(r)?Gj(s,r):s===r}))}function Qj(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function Yj(e){return"number"==typeof e}function Xj(e){return"string"==typeof e}function Jj(e){return"boolean"==typeof e}function Zj(e){return"[object Object]"===Object.prototype.toString.call(e)}function eN(e){return Math.abs(e)}function tN(e){return Math.sign(e)}function nN(e,t){return eN(e-t)}function sN(e){return lN(e).map(Number)}function rN(e){return e[iN(e)]}function iN(e){return Math.max(0,e.length-1)}function aN(e,t){return t===iN(e)}function oN(e,t=0){return Array.from(Array(e),((e,n)=>t+n))}function lN(e){return Object.keys(e)}function cN(e,t){return[e,t].reduce(((e,t)=>(lN(t).forEach((n=>{const s=e[n],r=t[n],i=Zj(s)&&Zj(r);e[n]=i?cN(s,r):r})),e)),{})}function dN(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function uN(){let e=[];const t={add:function(n,s,r,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(s,r,i),a=()=>n.removeEventListener(s,r,i);else{const e=n;e.addListener(r),a=()=>e.removeListener(r)}return e.push(a),t},clear:function(){e=e.filter((e=>e()))}};return t}function hN(e,t,n,s){const r=uN(),i=1e3/60;let a=null,o=0,l=0;function c(e){if(!l)return;a||(a=e,n(),n());const r=e-a;for(a=e,o+=r;o>=i;)n(),o-=i;s(o/i),l&&(l=t.requestAnimationFrame(c))}function d(){t.cancelAnimationFrame(l),a=null,o=0,l=0}return{init:function(){r.add(e,"visibilitychange",(()=>{e.hidden&&(a=null,o=0)}))},destroy:function(){d(),r.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:d,update:n,render:s}}function mN(e=0,t=0){const n=eN(e-t);function s(t){return t<e}function r(e){return e>t}function i(e){return s(e)||r(e)}return{length:n,max:t,min:e,constrain:function(n){return i(n)?s(n)?e:t:n},reachedAny:i,reachedMax:r,reachedMin:s,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function fN(e,t,n){const{constrain:s}=mN(0,e),r=e+1;let i=a(t);function a(e){return n?eN((r+e)%r):s(e)}function o(){return i}function l(){return fN(e,o(),n)}const c={get:o,set:function(e){return i=a(e),c},add:function(e){return l().set(o()+e)},clone:l};return c}function pN(e,t,n,s,r,i,a,o,l,c,d,u,h,m,f,p,g,x,y){const{cross:v,direction:b}=e,w=["INPUT","SELECT","TEXTAREA"],j={passive:!1},N=uN(),k=uN(),C=mN(50,225).constrain(m.measure(20)),S={mouse:300,touch:400},T={mouse:500,touch:600},E=f?43:25;let A=!1,I=0,_=0,P=!1,D=!1,R=!1,M=!1;function O(e){if(!dN(e,s)&&e.touches.length>=2)return L(e);const t=i.readPoint(e),n=i.readPoint(e,v),a=nN(t,I),l=nN(n,_);if(!D&&!M){if(!e.cancelable)return L(e);if(D=a>l,!D)return L(e)}const d=i.pointerMove(e);a>p&&(R=!0),c.useFriction(.3).useDuration(.75),o.start(),r.add(b(d)),e.preventDefault()}function L(e){const t=d.byDistance(0,!1).index!==u.get(),n=i.pointerUp(e)*(f?T:S)[M?"mouse":"touch"],s=function(e,t){const n=u.add(-1*tN(e)),s=d.byDistance(e,!f).distance;return f||eN(e)<C?s:g&&t?.5*s:d.byIndex(n.get(),0).distance}(b(n),t),r=function(e,t){if(0===e||0===t)return 0;if(eN(e)<=eN(t))return 0;const n=nN(eN(e),eN(t));return eN(n/e)}(n,s),a=E-10*r,o=x+r/50;D=!1,P=!1,k.clear(),c.useDuration(a).useFriction(o),l.distance(s,!f),M=!1,h.emit("pointerUp")}function F(e){R&&(e.stopPropagation(),e.preventDefault(),R=!1)}return{init:function(e){if(!y)return;function o(o){(Jj(y)||y(e,o))&&function(e){const o=dN(e,s);if(M=o,R=f&&o&&!e.buttons&&A,A=nN(r.get(),a.get())>=2,o&&0!==e.button)return;if(function(e){const t=e.nodeName||"";return w.includes(t)}(e.target))return;P=!0,i.pointerDown(e),c.useFriction(0).useDuration(0),r.set(a),function(){const e=M?n:t;k.add(e,"touchmove",O,j).add(e,"touchend",L).add(e,"mousemove",O,j).add(e,"mouseup",L)}(),I=i.readPoint(e),_=i.readPoint(e,v),h.emit("pointerDown")}(o)}const l=t;N.add(l,"dragstart",(e=>e.preventDefault()),j).add(l,"touchmove",(()=>{}),j).add(l,"touchend",(()=>{})).add(l,"touchstart",o).add(l,"mousedown",o).add(l,"touchcancel",L).add(l,"contextmenu",L).add(l,"click",F,!0)},destroy:function(){N.clear(),k.clear()},pointerDown:function(){return P}}}function gN(e,t){let n,s;function r(e){return e.timeStamp}function i(n,s){const r="client"+("x"===(s||e.scroll)?"X":"Y");return(dN(n,t)?n:n.touches[0])[r]}return{pointerDown:function(e){return n=e,s=e,i(e)},pointerMove:function(e){const t=i(e)-i(s),a=r(e)-r(n)>170;return s=e,a&&(n=e),t},pointerUp:function(e){if(!n||!s)return 0;const t=i(s)-i(n),a=r(e)-r(n),o=r(e)-r(s)>170,l=t/a;return a&&!o&&eN(l)>.1?l:0},readPoint:i}}function xN(e,t,n,s,r,i,a){const o=[e].concat(s);let l,c,d=[],u=!1;function h(e){return r.measureSize(a.measure(e))}return{init:function(r){i&&(c=h(e),d=s.map(h),l=new ResizeObserver((n=>{(Jj(i)||i(r,n))&&function(n){for(const i of n){if(u)return;const n=i.target===e,a=s.indexOf(i.target),o=n?c:d[a];if(eN(h(n?e:s[a])-o)>=.5){r.reInit(),t.emit("resize");break}}}(n)})),n.requestAnimationFrame((()=>{o.forEach((e=>l.observe(e)))})))},destroy:function(){u=!0,l&&l.disconnect()}}}function yN(e,t,n,s,r){const i=r.measure(10),a=r.measure(50),o=mN(.1,.99);let l=!1;function c(){return!l&&(!!e.reachedAny(n.get())&&!!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(r){if(!c())return;const l=e.reachedMin(t.get())?"min":"max",d=eN(e[l]-t.get()),u=n.get()-t.get(),h=o.constrain(d/a);n.subtract(u*h),!r&&eN(u)<i&&(n.set(e.constrain(n.get())),s.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function vN(e,t,n,s){const r=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:o}=mN(r,i);return{loop:function(t){if(!function(e){return 1===e?o(n.get()):-1===e&&a(n.get())}(t))return;const r=e*(-1*t);s.forEach((e=>e.add(r)))}}}function bN(e,t,n,s,r){const{reachedAny:i,removeOffset:a,constrain:o}=s;function l(e){return e.concat().sort(((e,t)=>eN(e)-eN(t)))[0]}function c(t,s){const r=[t,t+n,t-n];if(!e)return t;if(!s)return l(r);const i=r.filter((e=>tN(e)===s));return i.length?l(i):rN(r)-n}return{byDistance:function(n,s){const l=r.get()+n,{index:d,distance:u}=function(n){const s=e?a(n):o(n),r=t.map(((e,t)=>({diff:c(e-s,0),index:t}))).sort(((e,t)=>eN(e.diff)-eN(t.diff))),{index:i}=r[0];return{index:i,distance:s}}(l),h=!e&&i(l);return!s||h?{index:d,distance:n}:{index:d,distance:n+c(t[d]-u,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-r.get(),n)}},shortcut:c}}function wN(e,t,n,s,r,i,a,o){const l={passive:!0,capture:!0};let c=0;function d(e){"Tab"===e.code&&(c=(new Date).getTime())}return{init:function(u){o&&(i.add(document,"keydown",d,!1),t.forEach(((t,d)=>{i.add(t,"focus",(t=>{(Jj(o)||o(u,t))&&function(t){if((new Date).getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const i=n.findIndex((e=>e.includes(t)));Yj(i)&&(r.useDuration(0),s.index(i,0),a.emit("slideFocus"))}(d)}),l)})))}}}function jN(e){let t=e;function n(e){return Yj(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function NN(e,t){const n="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},s=t.style;let r=null,i=!1;return{clear:function(){i||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(i)return;const a=(o=e.direction(t),Math.round(100*o)/100);var o;a!==r&&(s.transform=n(a),r=a)},toggleActive:function(e){i=!e}}}function kN(e,t,n,s,r,i,a,o,l){const c=sN(r),d=sN(r).reverse(),u=function(){const e=a[0];return f(m(d,e),n,!1)}().concat(function(){const e=t-a[0]-1;return f(m(c,e),-n,!0)}());function h(e,t){return e.reduce(((e,t)=>e-r[t]),t)}function m(e,t){return e.reduce(((e,n)=>h(e,t)>0?e.concat([n]):e),[])}function f(r,a,c){const d=function(e){return i.map(((n,r)=>({start:n-s[r]+.5+e,end:n+t-.5+e})))}(a);return r.map((t=>{const s=c?0:-n,r=c?n:0,i=c?"end":"start",a=d[t][i];return{index:t,loopPoint:a,slideLocation:jN(-1),translate:NN(e,l[t]),target:()=>o.get()>a?s:r}}))}const p={canLoop:function(){return u.every((({index:e})=>{const n=c.filter((t=>t!==e));return h(n,t)<=.1}))},clear:function(){u.forEach((e=>e.translate.clear()))},loop:function(){u.forEach((e=>{const{target:t,translate:n,slideLocation:s}=e,r=t();r!==s.get()&&(n.to(r),s.set(r))}))},loopPoints:u};return p}function CN(e,t,n){let s,r=!1;return{init:function(i){n&&(s=new MutationObserver((e=>{r||(Jj(n)||n(i,e))&&function(e){for(const n of e)if("childList"===n.type){i.reInit(),t.emit("slidesChanged");break}}(e)})),s.observe(e,{childList:!0}))},destroy:function(){s&&s.disconnect(),r=!0}}}function SN(e,t,n,s){const r={};let i,a=null,o=null,l=!1;return{init:function(){i=new IntersectionObserver((e=>{l||(e.forEach((e=>{const n=t.indexOf(e.target);r[n]=e})),a=null,o=null,n.emit("slidesInView"))}),{root:e.parentElement,threshold:s}),t.forEach((e=>i.observe(e)))},destroy:function(){i&&i.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&o)return o;const t=function(e){return lN(r).reduce(((t,n)=>{const s=parseInt(n),{isIntersecting:i}=r[s];return(e&&i||!e&&!i)&&t.push(s),t}),[])}(e);return e&&(a=t),e||(o=t),t}}}function TN(e,t,n,s,r,i,a,o,l){const{startEdge:c,endEdge:d,direction:u}=e,h=Yj(n);const m={groupSlides:function(e){return h?function(e,t){return sN(e).filter((e=>e%t===0)).map((n=>e.slice(n,n+t)))}(e,n):function(e){return e.length?sN(e).reduce(((n,h,m)=>{const f=rN(n)||0,p=0===f,g=h===iN(e),x=r[c]-i[f][c],y=r[c]-i[h][d],v=!s&&p?u(a):0,b=eN(y-(!s&&g?u(o):0)-(x+v));return m&&b>t+l&&n.push(h),g&&n.push(e.length),n}),[]).map(((t,n,s)=>{const r=Math.max(s[n-1]||0);return e.slice(r,t)})):[]}(e)}};return m}function EN(e,t,n,s,r,i,a){const{align:o,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:m,dragThreshold:f,inViewThreshold:p,slidesToScroll:g,skipSnaps:x,containScroll:y,watchResize:v,watchSlides:b,watchDrag:w,watchFocus:j}=i,N={measure:function(e){const{offsetTop:t,offsetLeft:n,offsetWidth:s,offsetHeight:r}=e;return{top:t,right:n+s,bottom:t+r,left:n,width:s,height:r}}},k=N.measure(t),C=n.map(N.measure),S=function(e,t){const n="rtl"===t,s="y"===e,r=!s&&n?-1:1;return{scroll:s?"y":"x",cross:s?"x":"y",startEdge:s?"top":n?"right":"left",endEdge:s?"bottom":n?"left":"right",measureSize:function(e){const{height:t,width:n}=e;return s?t:n},direction:function(e){return e*r}}}(l,c),T=S.measureSize(k),E=function(e){return{measure:function(t){return e*(t/100)}}}(T),A=function(e,t){const n={start:function(){return 0},center:function(e){return s(e)/2},end:s};function s(e){return t-e}return{measure:function(s,r){return Xj(e)?n[e](s):e(t,s,r)}}}(o,T),I=!u&&!!y,_=u||!!y,{slideSizes:P,slideSizesWithGaps:D,startGap:R,endGap:M}=function(e,t,n,s,r,i){const{measureSize:a,startEdge:o,endEdge:l}=e,c=n[0]&&r,d=function(){if(!c)return 0;const e=n[0];return eN(t[o]-e[o])}(),u=function(){if(!c)return 0;const e=i.getComputedStyle(rN(s));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),h=n.map(a),m=n.map(((e,t,n)=>{const s=!t,r=aN(n,t);return s?h[t]+d:r?h[t]+u:n[t+1][o]-e[o]})).map(eN);return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:u}}(S,k,C,n,_,r),O=TN(S,T,g,u,k,C,R,M,2),{snaps:L,snapsAligned:F}=function(e,t,n,s,r){const{startEdge:i,endEdge:a}=e,{groupSlides:o}=r,l=o(s).map((e=>rN(e)[a]-e[0][i])).map(eN).map(t.measure),c=s.map((e=>n[i]-e[i])).map((e=>-eN(e))),d=o(c).map((e=>e[0])).map(((e,t)=>e+l[t]));return{snaps:c,snapsAligned:d}}(S,A,k,C,O),U=-rN(L)+rN(D),{snapsContained:z,scrollContainLimit:V}=function(e,t,n,s,r){const i=mN(-t+e,0),a=n.map(((e,t)=>{const{min:s,max:r}=i,a=i.constrain(e),o=!t,c=aN(n,t);return o?r:c||l(s,a)?s:l(r,a)?r:a})).map((e=>parseFloat(e.toFixed(3)))),o=function(){const e=a[0],t=rN(a);return mN(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return nN(e,t)<=1}return{snapsContained:function(){if(t<=e+r)return[i.max];if("keepSnaps"===s)return a;const{min:n,max:l}=o;return a.slice(n,l)}(),scrollContainLimit:o}}(T,U,F,y,2),B=I?z:F,{limit:q}=function(e,t,n){const s=t[0];return{limit:mN(n?s-e:rN(t),s)}}(U,B,u),$=fN(iN(B),d,u),H=$.clone(),K=sN(n),W=hN(s,r,(()=>(({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:s}})=>{s||n.constrain(e.pointerDown()),t.seek()})(oe)),(e=>(({scrollBody:e,translate:t,location:n,offsetLocation:s,previousLocation:r,scrollLooper:i,slideLooper:a,dragHandler:o,animation:l,eventHandler:c,scrollBounds:d,options:{loop:u}},h)=>{const m=e.settled(),f=!d.shouldConstrain(),p=u?m:m&&f,g=p&&!o.pointerDown();g&&l.stop();const x=n.get()*h+r.get()*(1-h);s.set(x),u&&(i.loop(e.direction()),a.loop()),t.to(s.get()),g&&c.emit("settle"),p||c.emit("scroll")})(oe,e))),G=B[$.get()],Q=jN(G),Y=jN(G),X=jN(G),J=jN(G),Z=function(e,t,n,s,r,i){let a=0,o=0,l=r,c=i,d=e.get(),u=0;function h(e){return l=e,f}function m(e){return c=e,f}const f={direction:function(){return o},duration:function(){return l},velocity:function(){return a},seek:function(){const t=s.get()-e.get();let r=0;return l?(n.set(e),a+=t/l,a*=c,d+=a,e.add(a),r=d-u):(a=0,n.set(s),e.set(s),r=t),o=tN(r),u=d,f},settled:function(){return eN(s.get()-t.get())<.001},useBaseFriction:function(){return m(i)},useBaseDuration:function(){return h(r)},useFriction:m,useDuration:h};return f}(Q,X,Y,J,h,.68),ee=bN(u,B,U,q,J),te=function(e,t,n,s,r,i,a){function o(r){const o=r.distance,l=r.index!==t.get();i.add(o),o&&(s.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(r.index),a.emit("select"))}return{distance:function(e,t){o(r.byDistance(e,t))},index:function(e,n){const s=t.clone().set(e);o(r.byIndex(s.get(),n))}}}(W,$,H,Z,ee,J,a),ne=function(e){const{max:t,length:n}=e;return{get:function(e){return n?(e-t)/-n:0}}}(q),se=uN(),re=SN(t,n,a,p),{slideRegistry:ie}=function(e,t,n,s,r,i){const{groupSlides:a}=r,{min:o,max:l}=s;return{slideRegistry:function(){const s=a(i),r=!e||"keepSnaps"===t;return 1===n.length?[i]:r?s:s.slice(o,l).map(((e,t,n)=>{const s=!t,r=aN(n,t);return s?oN(rN(n[0])+1):r?oN(iN(i)-rN(n)[0]+1,rN(n)[0]):e}))}()}}(I,y,B,V,O,K),ae=wN(e,n,ie,te,Z,se,a,j),oe={ownerDocument:s,ownerWindow:r,eventHandler:a,containerRect:k,slideRects:C,animation:W,axis:S,dragHandler:pN(S,e,s,r,J,gN(S,r),Q,W,te,Z,ee,$,a,E,m,f,x,.68,w),eventStore:se,percentOfView:E,index:$,indexPrevious:H,limit:q,location:Q,offsetLocation:X,previousLocation:Y,options:i,resizeHandler:xN(t,a,r,n,S,v,N),scrollBody:Z,scrollBounds:yN(q,X,J,Z,E),scrollLooper:vN(U,q,X,[Q,X,Y,J]),scrollProgress:ne,scrollSnapList:B.map(ne.get),scrollSnaps:B,scrollTarget:ee,scrollTo:te,slideLooper:kN(S,T,U,P,D,L,B,X,n),slideFocus:ae,slidesHandler:CN(t,a,b),slidesInView:re,slideIndexes:K,slideRegistry:ie,slidesToScroll:O,target:J,translate:NN(S,t)};return oe}const AN={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function IN(e){function t(e,t){return cN(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(n){const s=n.breakpoints||{},r=lN(s).filter((t=>e.matchMedia(t).matches)).map((e=>s[e])).reduce(((e,n)=>t(e,n)),{});return t(n,r)},optionsMediaQueries:function(t){return t.map((e=>lN(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}}}function _N(e,t,n){const s=e.ownerDocument,r=s.defaultView,i=IN(r),a=function(e){let t=[];return{init:function(n,s){return t=s.filter((({options:t})=>!1!==e.optionsAtMedia(t).active)),t.forEach((t=>t.init(n,e))),s.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}}}(i),o=uN(),l=function(){let e,t={};function n(e){return t[e]||[]}const s={init:function(t){e=t},emit:function(t){return n(t).forEach((n=>n(e,t))),s},off:function(e,r){return t[e]=n(e).filter((e=>e!==r)),s},on:function(e,r){return t[e]=n(e).concat([r]),s},clear:function(){t={}}};return s}(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=i,{on:h,off:m,emit:f}=l,p=S;let g,x,y,v,b=!1,w=c(AN,_N.globalOptions),j=c(w),N=[];function k(t){const n=EN(e,y,v,s,r,t,l);if(t.loop&&!n.slideLooper.canLoop()){return k(Object.assign({},t,{loop:!1}))}return n}function C(t,n){b||(w=c(w,t),j=d(w),N=n||N,function(){const{container:t,slides:n}=j,s=Xj(t)?e.querySelector(t):t;y=s||e.children[0];const r=Xj(n)?y.querySelectorAll(n):n;v=[].slice.call(r||y.children)}(),g=k(j),u([w,...N.map((({options:e})=>e))]).forEach((e=>o.add(e,"change",S))),j.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(I),g.eventHandler.init(I),g.resizeHandler.init(I),g.slidesHandler.init(I),g.options.loop&&g.slideLooper.loop(),y.offsetParent&&v.length&&g.dragHandler.init(I),x=a.init(I,N)))}function S(e,t){const n=A();T(),C(c({startIndex:n},e),t),l.emit("reInit")}function T(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),o.clear()}function E(e,t,n){j.active&&!b&&(g.scrollBody.useBaseFriction().useDuration(!0===t?0:j.duration),g.scrollTo.index(e,n||0))}function A(){return g.index.get()}const I={canScrollNext:function(){return g.index.add(1).get()!==A()},canScrollPrev:function(){return g.index.add(-1).get()!==A()},containerNode:function(){return y},internalEngine:function(){return g},destroy:function(){b||(b=!0,o.clear(),T(),l.emit("destroy"),l.clear())},off:m,on:h,emit:f,plugins:function(){return x},previousScrollSnap:function(){return g.indexPrevious.get()},reInit:p,rootNode:function(){return e},scrollNext:function(e){E(g.index.add(1).get(),e,-1)},scrollPrev:function(e){E(g.index.add(-1).get(),e,1)},scrollProgress:function(){return g.scrollProgress.get(g.offsetLocation.get())},scrollSnapList:function(){return g.scrollSnapList},scrollTo:E,selectedScrollSnap:A,slideNodes:function(){return v},slidesInView:function(){return g.slidesInView.get()},slidesNotInView:function(){return g.slidesInView.get(!1)}};return C(t,n),setTimeout((()=>l.emit("init")),0),I}function PN(e={},t=[]){const n=lt.useRef(e),s=lt.useRef(t),[r,i]=lt.useState(),[a,o]=lt.useState(),l=lt.useCallback((()=>{r&&r.reInit(n.current,s.current)}),[r]);return lt.useEffect((()=>{Gj(n.current,e)||(n.current=e,l())}),[e,l]),lt.useEffect((()=>{(function(e,t){if(e.length!==t.length)return!1;const n=Qj(e),s=Qj(t);return n.every(((e,t)=>Gj(e,s[t])))})(s.current,t)||(s.current=t,l())}),[t,l]),lt.useEffect((()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&a){_N.globalOptions=PN.globalOptions;const e=_N(a,n.current,s.current);return i(e),()=>e.destroy()}i(void 0)}),[a,i]),[o,r]}_N.globalOptions=void 0,PN.globalOptions=void 0;const DN=lt.createContext(null);function RN(){const e=lt.useContext(DN);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const MN=lt.forwardRef((({orientation:e="horizontal",opts:t,setApi:n,plugins:s,className:r,children:i,...a},o)=>{const[l,c]=PN({...t,axis:"horizontal"===e?"x":"y"},s),[d,u]=lt.useState(!1),[h,m]=lt.useState(!1),f=lt.useCallback((e=>{e&&(u(e.canScrollPrev()),m(e.canScrollNext()))}),[]),p=lt.useCallback((()=>{null==c||c.scrollPrev()}),[c]),g=lt.useCallback((()=>{null==c||c.scrollNext()}),[c]),x=lt.useCallback((e=>{"ArrowLeft"===e.key?(e.preventDefault(),p()):"ArrowRight"===e.key&&(e.preventDefault(),g())}),[p,g]);return lt.useEffect((()=>{c&&n&&n(c)}),[c,n]),lt.useEffect((()=>{if(c)return f(c),c.on("reInit",f),c.on("select",f),()=>{null==c||c.off("select",f)}}),[c,f]),X.jsx(DN.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||("y"===(null==t?void 0:t.axis)?"vertical":"horizontal"),scrollPrev:p,scrollNext:g,canScrollPrev:d,canScrollNext:h},children:X.jsx("div",{ref:o,onKeyDownCapture:x,className:Nw("relative",r),role:"region","aria-roledescription":"carousel",...a,children:i})})}));MN.displayName="Carousel";const ON=lt.forwardRef((({className:e,...t},n)=>{const{carouselRef:s,orientation:r}=RN();return X.jsx("div",{ref:s,className:"overflow-hidden",children:X.jsx("div",{ref:n,className:Nw("flex","horizontal"===r?"-ml-4":"-mt-4 flex-col",e),...t})})}));ON.displayName="CarouselContent";const LN=lt.forwardRef((({className:e,...t},n)=>{const{orientation:s}=RN();return X.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Nw("min-w-0 shrink-0 grow-0 basis-full","horizontal"===s?"pl-4":"pt-4",e),...t})}));LN.displayName="CarouselItem";const FN=lt.forwardRef((({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:i,scrollPrev:a,canScrollPrev:o}=RN();return X.jsxs(Cw,{ref:r,variant:t,size:n,className:Nw("absolute  h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...s,children:[X.jsx(_w,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:"Previous slide"})]})}));FN.displayName="CarouselPrevious";const UN=lt.forwardRef((({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:i,scrollNext:a,canScrollNext:o}=RN();return X.jsxs(Cw,{ref:r,variant:t,size:n,className:Nw("absolute h-8 w-8 rounded-full","horizontal"===i?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...s,children:[X.jsx(Pw,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:"Next slide"})]})}));UN.displayName="CarouselNext";const zN=Ib("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function VN({className:e,variant:t,...n}){return X.jsx("div",{className:Nw(zN({variant:t}),e),...n})}var BN="Tabs",[qN,$N]=ee(BN,[te]),HN=te(),[KN,WN]=qN(BN),GN=lt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=e,d=oe(o),[u,h]=le({prop:s,onChange:r,defaultProp:i??"",caller:BN});return X.jsx(KN,{scope:n,baseId:ce(),value:u,onValueChange:h,orientation:a,dir:d,activationMode:l,children:X.jsx(se.div,{dir:d,"data-orientation":a,...c,ref:t})})}));GN.displayName=BN;var QN="TabsList",YN=lt.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,i=WN(QN,n),a=HN(n);return X.jsx(ne,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:X.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})}));YN.displayName=QN;var XN="TabsTrigger",JN=lt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=e,a=WN(XN,n),o=HN(n),l=tk(a.baseId,s),c=nk(a.baseId,s),d=s===a.value;return X.jsx(re,{asChild:!0,...o,focusable:!r,active:d,children:X.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...i,ref:t,onMouseDown:ie(e.onMouseDown,(e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(s)})),onKeyDown:ie(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(s)})),onFocus:ie(e.onFocus,(()=>{const e="manual"!==a.activationMode;d||r||!e||a.onValueChange(s)}))})})}));JN.displayName=XN;var ZN="TabsContent",ek=lt.forwardRef(((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...a}=e,o=WN(ZN,n),l=tk(o.baseId,s),c=nk(o.baseId,s),d=s===o.value,u=lt.useRef(d);return lt.useEffect((()=>{const e=requestAnimationFrame((()=>u.current=!1));return()=>cancelAnimationFrame(e)}),[]),X.jsx(ae,{present:r||d,children:({present:n})=>X.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:n&&i})})}));function tk(e,t){return`${e}-trigger-${t}`}function nk(e,t){return`${e}-content-${t}`}ek.displayName=ZN;var sk=YN,rk=JN,ik=ek;const ak=GN,ok=lt.forwardRef((({className:e,...t},n)=>X.jsx(sk,{ref:n,className:Nw("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t})));ok.displayName=sk.displayName;const lk=lt.forwardRef((({className:e,...t},n)=>X.jsx(rk,{ref:n,className:Nw("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t})));lk.displayName=rk.displayName;const ck=lt.forwardRef((({className:e,...t},n)=>X.jsx(ik,{ref:n,className:Nw("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));ck.displayName=ik.displayName;const dk=lt.forwardRef((({className:e,type:t,...n},s)=>X.jsx("input",{type:t,className:Nw("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n})));dk.displayName="Input";const uk=ge,hk=xe,mk=ue,fk=lt.forwardRef((({className:e,...t},n)=>X.jsx(de,{className:Nw("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n})));fk.displayName=de.displayName;const pk=Ib("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gk=lt.forwardRef((({side:e="right",className:t,children:n,...s},r)=>X.jsxs(mk,{children:[X.jsx(fk,{}),X.jsxs(he,{ref:r,className:Nw(pk({side:e}),t),...s,children:[X.jsxs(me,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[X.jsx(Hj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]})));gk.displayName=he.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(fe,{ref:n,className:Nw("text-lg font-semibold text-foreground",e),...t}))).displayName=fe.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(pe,{ref:n,className:Nw("text-sm text-muted-foreground",e),...t}))).displayName=pe.displayName;const xk=lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(ye,{ref:s,className:Nw("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,X.jsx(kk,{})]})));xk.displayName=ye.displayName;const yk=lt.forwardRef((({className:e,...t},n)=>X.jsx(ve,{ref:n,className:Nw("group flex flex-1 list-none items-center justify-center space-x-1",e),...t})));yk.displayName=ve.displayName;const vk=ke,bk=Ib("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),wk=lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(be,{ref:s,className:Nw(bk(),"group",e),...n,children:[t," ",X.jsx(zw,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})));wk.displayName=be.displayName;const jk=lt.forwardRef((({className:e,...t},n)=>X.jsx(we,{ref:n,className:Nw("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t})));jk.displayName=we.displayName;const Nk=Ce,kk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{className:Nw("absolute left-0 top-full flex justify-center"),children:X.jsx(je,{className:Nw("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})})));kk.displayName=je.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(Ne,{ref:n,className:Nw("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:X.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}))).displayName=Ne.displayName;const Ck=Oe,Sk=Le;lt.forwardRef((({className:e,inset:t,children:n,...s},r)=>X.jsxs(Se,{ref:r,className:Nw("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,X.jsx(Vw,{className:"ml-auto h-4 w-4"})]}))).displayName=Se.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(Te,{ref:n,className:Nw("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}))).displayName=Te.displayName;const Tk=lt.forwardRef((({className:e,sideOffset:t=4,...n},s)=>X.jsx(Ee,{children:X.jsx(Ae,{ref:s,sideOffset:t,className:Nw("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})})));Tk.displayName=Ae.displayName;const Ek=lt.forwardRef((({className:e,inset:t,...n},s)=>X.jsx(Ie,{ref:s,className:Nw("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n})));Ek.displayName=Ie.displayName;lt.forwardRef((({className:e,children:t,checked:n,...s},r)=>X.jsxs(_e,{ref:r,className:Nw("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[X.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:X.jsx(Pe,{children:X.jsx(Uw,{className:"h-4 w-4"})})}),t]}))).displayName=_e.displayName;lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(De,{ref:s,className:Nw("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[X.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:X.jsx(Pe,{children:X.jsx(qw,{className:"h-2 w-2 fill-current"})})}),t]}))).displayName=De.displayName;const Ak=lt.forwardRef((({className:e,inset:t,...n},s)=>X.jsx(Re,{ref:s,className:Nw("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n})));Ak.displayName=Re.displayName;const Ik=lt.forwardRef((({className:e,...t},n)=>X.jsx(Me,{ref:n,className:Nw("-mx-1 my-1 h-px bg-muted",e),...t})));Ik.displayName=Me.displayName;const _k=({className:e="",size:t="md",showText:n=!0})=>X.jsxs(ct,{to:"/",className:`flex items-center gap-2 ${e}`,children:[X.jsx("img",{src:"/assets/logo-CDu8WVOc.svg",alt:"Kvitko Sweet Logo",className:`${{sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"}[t]}`}),n&&X.jsxs("div",{children:[X.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Kvitko Sweet"}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Kvtinov studio"})]})]}),Pk=()=>{const[e,t]=lt.useState(!1),[n,s]=lt.useState(!1),{user:r,logout:i}=yb(),{getItemsCount:a}=jb(),o=a(),l=async()=>{try{await i()}catch(e){}};return X.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-40",children:X.jsxs("div",{className:"container-custom py-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(_k,{}),X.jsx("div",{className:"hidden md:flex items-center gap-6",children:X.jsx(xk,{children:X.jsxs(yk,{children:[X.jsx(vk,{children:X.jsx(Nk,{href:"/",className:bk(),children:"Dom"})}),X.jsxs(vk,{children:[X.jsx(wk,{children:"Katalog"}),X.jsx(jk,{children:X.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:[X.jsx("li",{children:X.jsxs(Nk,{href:"/catalog/bouquets",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[X.jsx("div",{className:"text-sm font-medium leading-none",children:"Kytice"}),X.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Krsn kytice pro kadou pleitost"})]})}),X.jsx("li",{children:X.jsxs(Nk,{href:"/catalog/wedding",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[X.jsx("div",{className:"text-sm font-medium leading-none",children:"Svatebn kvtiny"}),X.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Svatebn kytice a dekorace"})]})}),X.jsx("li",{children:X.jsxs(Nk,{href:"/catalog/plants",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[X.jsx("div",{className:"text-sm font-medium leading-none",children:"Pokojov rostliny"}),X.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Zelen rostliny pro v domov"})]})}),X.jsx("li",{children:X.jsxs(Nk,{href:"/catalog/gifts",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[X.jsx("div",{className:"text-sm font-medium leading-none",children:"Drky"}),X.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Drkov pedmty a doplky"})]})})]})})]}),X.jsx(vk,{children:X.jsx(Nk,{href:"/custom-bouquet",className:bk(),children:"Vlastn kytice"})}),X.jsx(vk,{children:X.jsx(Nk,{href:"/delivery",className:bk(),children:"Doruen"})}),X.jsx(vk,{children:X.jsx(Nk,{href:"/blog",className:bk(),children:"Blog"})}),X.jsx(vk,{children:X.jsx(Nk,{href:"/contact",className:bk(),children:"Kontakt"})})]})})}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":"Hledat",children:X.jsx(Cj,{className:"h-5 w-5"})}),r?X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"icon","aria-label":"Mj et",children:X.jsx(Bj,{className:"h-5 w-5"})})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:X.jsxs("div",{className:"flex flex-col",children:[X.jsx("span",{children:" "}),X.jsx("span",{className:"text-xs text-muted-foreground",children:r.email})]})}),X.jsx(Ik,{}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/account",children:" "})}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/account?tab=orders",children:" "})}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/account?tab=bouquets",children:" "})}),X.jsx(Ik,{}),X.jsxs(Ek,{className:"text-destructive focus:text-destructive",onClick:l,children:[X.jsx(uj,{className:"mr-2 h-4 w-4"}),X.jsx("span",{children:""})]})]})]}):X.jsx(ct,{to:"/login",children:X.jsx(Cw,{variant:"ghost",size:"icon","aria-label":"Mj et",children:X.jsx(Bj,{className:"h-5 w-5"})})}),X.jsx(ct,{to:"/cart",children:X.jsxs(Cw,{variant:"ghost",size:"icon",className:"relative","aria-label":"Kok",children:[X.jsx(Pj,{className:"h-5 w-5"}),o>0&&X.jsx(VN,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:o})]})}),X.jsxs(uk,{open:n,onOpenChange:s,children:[X.jsx(hk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Menu",children:X.jsx(fj,{className:"h-5 w-5"})})}),X.jsx(gk,{side:"right",children:X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex items-center justify-between mb-6",children:[X.jsx(_k,{showText:!1,size:"sm"}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:X.jsx(Hj,{className:"h-5 w-5"})})]}),r&&X.jsx("div",{className:"mb-6 p-4 bg-muted rounded-lg",children:X.jsxs("div",{className:"flex items-center",children:[X.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3",children:X.jsx(Bj,{className:"h-5 w-5 text-primary"})}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:r.displayName||""}),X.jsx("p",{className:"text-xs text-muted-foreground",children:r.email})]})]})}),X.jsxs("nav",{className:"flex flex-col gap-4",children:[X.jsx(ct,{to:"/",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Dom"}),X.jsx(ct,{to:"/catalog",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Katalog"}),X.jsx(ct,{to:"/custom-bouquet",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Vlastn kytice"}),X.jsx(ct,{to:"/delivery",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Doruen"}),X.jsx(ct,{to:"/blog",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Blog"}),X.jsx(ct,{to:"/contact",className:"text-lg font-medium py-2 border-b border-border",onClick:()=>s(!1),children:"Kontakt"})]}),X.jsxs("div",{className:"mt-auto flex flex-col gap-4",children:[r?X.jsxs(X.Fragment,{children:[X.jsx(ct,{to:"/account",onClick:()=>s(!1),children:X.jsxs(Cw,{variant:"outline",className:"w-full",children:[X.jsx(Bj,{className:"mr-2 h-4 w-4"}),"Mj et"]})}),X.jsxs(Cw,{variant:"ghost",className:"w-full",onClick:()=>{l(),s(!1)},children:[X.jsx(uj,{className:"mr-2 h-4 w-4"}),"Odhlsit se"]})]}):X.jsx(ct,{to:"/login",onClick:()=>s(!1),children:X.jsxs(Cw,{variant:"outline",className:"w-full",children:[X.jsx(Bj,{className:"mr-2 h-4 w-4"}),"Pihlsit se"]})}),X.jsx(ct,{to:"/cart",onClick:()=>s(!1),children:X.jsxs(Cw,{className:"w-full",children:[X.jsx(Pj,{className:"mr-2 h-4 w-4"}),"Kok",o>0&&X.jsx(VN,{className:"ml-2",children:o})]})})]})]})})]})]})]}),e&&X.jsx("div",{className:"mt-4 animate-fade-in",children:X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{placeholder:"Hledat produkty...",className:"pl-10",autoFocus:!0}),X.jsx(Cw,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2",onClick:()=>t(!1),children:X.jsx(Hj,{className:"h-4 w-4"})})]})})]})})};var Dk="horizontal",Rk=["horizontal","vertical"],Mk=lt.forwardRef(((e,t)=>{const{decorative:n,orientation:s=Dk,...r}=e,i=function(e){return Rk.includes(e)}(s)?s:Dk,a=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return X.jsx(se.div,{"data-orientation":i,...a,...r,ref:t})}));Mk.displayName="Separator";var Ok=Mk;const Lk=lt.forwardRef((({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>X.jsx(Ok,{ref:r,decorative:n,orientation:t,className:Nw("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...s})));Lk.displayName=Ok.displayName;const Fk=()=>X.jsx("footer",{className:"bg-muted pt-12 pb-6",children:X.jsxs("div",{className:"container-custom",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[X.jsxs("div",{children:[X.jsx(_k,{className:"mb-4"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:"Kvtinov studio s ukrajinskm ndechem. Nabzme erstv kvtiny, originln kytice a dekorace pro kadou pleitost."}),X.jsxs("div",{className:"flex gap-4",children:[X.jsx(Cw,{variant:"ghost",size:"icon",asChild:!0,children:X.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:X.jsx(Qw,{className:"h-5 w-5"})})}),X.jsx(Cw,{variant:"ghost",size:"icon",asChild:!0,children:X.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:X.jsx(rj,{className:"h-5 w-5"})})})]})]}),X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rychl odkazy"}),X.jsxs("ul",{className:"space-y-2",children:[X.jsx("li",{children:X.jsx(ct,{to:"/catalog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Katalog"})}),X.jsx("li",{children:X.jsx(ct,{to:"/custom-bouquet",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Vlastn kytice"})}),X.jsx("li",{children:X.jsx(ct,{to:"/delivery",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Doruen"})}),X.jsx("li",{children:X.jsx(ct,{to:"/blog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Blog"})}),X.jsx("li",{children:X.jsx(ct,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"O ns"})}),X.jsx("li",{children:X.jsx(ct,{to:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Kontakt"})})]})]}),X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kontakt"}),X.jsxs("ul",{className:"space-y-3",children:[X.jsxs("li",{className:"flex items-start gap-3",children:[X.jsx(mj,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),X.jsx("span",{className:"text-muted-foreground",children:"Kvtinov 123, 110 00 Praha 1"})]}),X.jsxs("li",{className:"flex items-center gap-3",children:[X.jsx(bj,{className:"h-5 w-5 text-primary shrink-0"}),X.jsx("a",{href:"tel:+420123456789",className:"text-muted-foreground hover:text-foreground transition-colors",children:"+420 123 456 789"})]}),X.jsxs("li",{className:"flex items-center gap-3",children:[X.jsx(hj,{className:"h-5 w-5 text-primary shrink-0"}),X.jsx("a",{href:"mailto:info@kvitkos.cz",className:"text-muted-foreground hover:text-foreground transition-colors",children:"info@kvitkos.cz"})]})]}),X.jsxs("div",{className:"mt-4",children:[X.jsx("h4",{className:"font-medium mb-2",children:"Otevrac doba"}),X.jsx("p",{className:"text-muted-foreground",children:"Po-P: 9:00 - 19:00"}),X.jsx("p",{className:"text-muted-foreground",children:"So: 9:00 - 17:00"}),X.jsx("p",{className:"text-muted-foreground",children:"Ne: 10:00 - 15:00"})]})]}),X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Odbr novinek"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:"Pihlaste se k odbru novinek a zskejte 10% slevu na prvn nkup."}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(dk,{placeholder:"V e-mail",type:"email"}),X.jsx(Cw,{children:"Odebrat"})]})]})]}),X.jsx(Lk,{className:"my-6"}),X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[X.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",(new Date).getFullYear()," Kvitko Sweet. Vechna prva vyhrazena."]}),X.jsxs("div",{className:"flex gap-4 text-sm",children:[X.jsx(ct,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Obchodn podmnky"}),X.jsx(ct,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Ochrana soukrom"}),X.jsx(ct,{to:"/cookies",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Cookies"})]})]})]})}),Uk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("rounded-xl border bg-card text-card-foreground shadow",e),...t})));Uk.displayName="Card";const zk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("flex flex-col space-y-1.5 p-6",e),...t})));zk.displayName="CardHeader";const Vk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("font-semibold leading-none tracking-tight",e),...t})));Vk.displayName="CardTitle";const Bk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("text-sm text-muted-foreground",e),...t})));Bk.displayName="CardDescription";const qk=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("p-6 pt-0",e),...t})));qk.displayName="CardContent";lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{ref:n,className:Nw("flex items-center p-6 pt-0",e),...t}))).displayName="CardFooter";const $k=lt.createContext({});function Hk(e){const t=lt.useRef(null);return null===t.current&&(t.current=e()),t.current}const Kk="undefined"!=typeof window,Wk=Kk?lt.useLayoutEffect:lt.useEffect,Gk=lt.createContext(null);function Qk(e,t){-1===e.indexOf(t)&&e.push(t)}function Yk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xk=(e,t,n)=>n>t?t:n<e?e:n;const Jk={},Zk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eC(e){return"object"==typeof e&&null!==e}const tC=e=>/^0[^.\s]+$/u.test(e);function nC(e){let t;return()=>(void 0===t&&(t=e()),t)}const sC=e=>e,rC=(e,t)=>n=>t(e(n)),iC=(...e)=>e.reduce(rC),aC=(e,t,n)=>{const s=t-e;return 0===s?1:(n-e)/s};class oC{constructor(){this.subscriptions=[]}add(e){return Qk(this.subscriptions,e),()=>Yk(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,n);else for(let r=0;r<s;r++){const s=this.subscriptions[r];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lC=e=>1e3*e,cC=e=>e/1e3;function dC(e,t){return t?e*(1e3/t):0}const uC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function hC(e,t,n,s){if(e===t&&n===s)return sC;const r=t=>function(e,t,n,s,r){let i,a,o=0;do{a=t+(n-t)/2,i=uC(a,s,r)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:uC(r(e),t,s)}const mC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fC=e=>t=>1-e(1-t),pC=hC(.33,1.53,.69,.99),gC=fC(pC),xC=mC(gC),yC=e=>(e*=2)<1?.5*gC(e):.5*(2-Math.pow(2,-10*(e-1))),vC=e=>1-Math.sin(Math.acos(e)),bC=fC(vC),wC=mC(vC),jC=hC(.42,0,1,1),NC=hC(0,0,.58,1),kC=hC(.42,0,.58,1),CC=e=>Array.isArray(e)&&"number"==typeof e[0],SC={linear:sC,easeIn:jC,easeInOut:kC,easeOut:NC,circIn:vC,circInOut:wC,circOut:bC,backIn:gC,backInOut:xC,backOut:pC,anticipate:yC},TC=e=>{if(CC(e)){e.length;const[t,n,s,r]=e;return hC(t,n,s,r)}return"string"==typeof e?SC[e]:e},EC=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],AC={value:null};function IC(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=EC.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:(e,t=!1,i=!1)=>{const o=i&&r?n:s;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[n,s]=[s,n],n.forEach(c),t&&AC.value&&AC.value.frameloop[t].push(l),l=0,n.clear(),r=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e)),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:m,postRender:f}=a,p=()=>{const i=Jk.useManualTiming?r.timestamp:performance.now();n=!1,Jk.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(i-r.timestamp,40),1)),r.timestamp=i,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),m.process(r),f.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(p))};return{schedule:EC.reduce(((t,i)=>{const o=a[i];return t[i]=(t,i=!1,a=!1)=>(n||(n=!0,s=!0,r.isProcessing||e(p)),o.schedule(t,i,a)),t}),{}),cancel:e=>{for(let t=0;t<EC.length;t++)a[EC[t]].cancel(e)},state:r,steps:a}}const{schedule:_C,cancel:PC,state:DC,steps:RC}=IC("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:sC,!0);let MC;function OC(){MC=void 0}const LC={now:()=>(void 0===MC&&LC.set(DC.isProcessing||Jk.useManualTiming?DC.timestamp:performance.now()),MC),set:e=>{MC=e,queueMicrotask(OC)}},FC=e=>t=>"string"==typeof t&&t.startsWith(e),UC=FC("--"),zC=FC("var(--"),VC=e=>!!zC(e)&&BC.test(e.split("/*")[0].trim()),BC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qC={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},$C={...qC,transform:e=>Xk(0,1,e)},HC={...qC,default:1},KC=e=>Math.round(1e5*e)/1e5,WC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const GC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QC=(e,t)=>n=>Boolean("string"==typeof n&&GC.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),YC=(e,t,n)=>s=>{if("string"!=typeof s)return s;const[r,i,a,o]=s.match(WC);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},XC={...qC,transform:e=>Math.round((e=>Xk(0,255,e))(e))},JC={test:QC("rgb","red"),parse:YC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+XC.transform(e)+", "+XC.transform(t)+", "+XC.transform(n)+", "+KC($C.transform(s))+")"};const ZC={test:QC("#"),parse:function(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}},transform:JC.transform},eS=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tS=eS("deg"),nS=eS("%"),sS=eS("px"),rS=eS("vh"),iS=eS("vw"),aS=(()=>({...nS,parse:e=>nS.parse(e)/100,transform:e=>nS.transform(100*e)}))(),oS={test:QC("hsl","hue"),parse:YC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+nS.transform(KC(t))+", "+nS.transform(KC(n))+", "+KC($C.transform(s))+")"},lS={test:e=>JC.test(e)||ZC.test(e)||oS.test(e),parse:e=>JC.test(e)?JC.parse(e):oS.test(e)?oS.parse(e):ZC.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?JC.transform(e):oS.transform(e)},cS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const dS="number",uS="color",hS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mS(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=t.replace(hS,(e=>(lS.test(e)?(s.color.push(i),r.push(uS),n.push(lS.parse(e))):e.startsWith("var(")?(s.var.push(i),r.push("var"),n.push(e)):(s.number.push(i),r.push(dS),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:s,types:r}}function fS(e){return mS(e).values}function pS(e){const{split:t,types:n}=mS(e),s=t.length;return e=>{let r="";for(let i=0;i<s;i++)if(r+=t[i],void 0!==e[i]){const t=n[i];r+=t===dS?KC(e[i]):t===uS?lS.transform(e[i]):e[i]}return r}}const gS=e=>"number"==typeof e?0:e;const xS={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(WC))?void 0:t.length)||0)+((null==(n=e.match(cS))?void 0:n.length)||0)>0},parse:fS,createTransformer:pS,getAnimatableNone:function(e){const t=fS(e);return pS(e)(t.map(gS))}};function yS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vS(e,t){return n=>n>0?t:e}const bS=(e,t,n)=>e+(t-e)*n,wS=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},jS=[ZC,JC,oS];function NS(e){const t=(n=e,jS.find((e=>e.test(n))));var n;if(!Boolean(t))return!1;let s=t.parse(e);return t===oS&&(s=function({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,n/=100;let r=0,i=0,a=0;if(t/=100){const s=n<.5?n*(1+t):n+t-n*t,o=2*n-s;r=yS(o,s,e+1/3),i=yS(o,s,e),a=yS(o,s,e-1/3)}else r=i=a=n;return{red:Math.round(255*r),green:Math.round(255*i),blue:Math.round(255*a),alpha:s}}(s)),s}const kS=(e,t)=>{const n=NS(e),s=NS(t);if(!n||!s)return vS(e,t);const r={...n};return e=>(r.red=wS(n.red,s.red,e),r.green=wS(n.green,s.green,e),r.blue=wS(n.blue,s.blue,e),r.alpha=bS(n.alpha,s.alpha,e),JC.transform(r))},CS=new Set(["none","hidden"]);function SS(e,t){return n=>bS(e,t,n)}function TS(e){return"number"==typeof e?SS:"string"==typeof e?VC(e)?vS:lS.test(e)?kS:IS:Array.isArray(e)?ES:"object"==typeof e?lS.test(e)?kS:AS:vS}function ES(e,t){const n=[...e],s=n.length,r=e.map(((e,n)=>TS(e)(e,t[n])));return e=>{for(let t=0;t<s;t++)n[t]=r[t](e);return n}}function AS(e,t){const n={...e,...t},s={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(s[r]=TS(e[r])(e[r],t[r]));return e=>{for(const t in s)n[t]=s[t](e);return n}}const IS=(e,t)=>{const n=xS.createTransformer(t),s=mS(e),r=mS(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?CS.has(e)&&!r.values.length||CS.has(t)&&!s.values.length?function(e,t){return CS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):iC(ES(function(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],a=e.indexes[i][s[i]],o=e.values[a]??0;n[r]=o,s[i]++}return n}(s,r),r.values),n):vS(e,t)};function _S(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return bS(e,t,n);return TS(e)(e,t)}const PS=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>_C.update(t,e),stop:()=>PC(t),now:()=>DC.isProcessing?DC.timestamp:LC.now()}},DS=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=e(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},RS=2e4;function MS(e){let t=0;let n=e.next(t);for(;!n.done&&t<RS;)t+=50,n=e.next(t);return t>=RS?1/0:t}function OS(e,t,n){const s=Math.max(t-5,0);return dC(n-e(s),t-s)}const LS=100,FS=10,US=1,zS=0,VS=800,BS=.3,qS=.3,$S={granular:.01,default:2},HS={granular:.005,default:.5},KS=.01,WS=10,GS=.05,QS=1;function YS({duration:e=VS,bounce:t=BS,velocity:n=zS,mass:s=US}){let r,i,a=1-t;a=Xk(GS,QS,a),e=Xk(KS,WS,cC(e)),a<1?(r=t=>{const s=t*a,r=s*e;return.001-(s-n)/JS(t,a)*Math.exp(-r)},i=t=>{const s=t*a*e,i=s*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-s),c=JS(Math.pow(t,2),a);return(.001-r(t)>0?-1:1)*((i-o)*l)/c}):(r=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let s=n;for(let r=1;r<XS;r++)s-=e(s)/t(s);return s}(r,i,5/e);if(e=lC(e),isNaN(o))return{stiffness:LS,damping:FS,duration:e};{const t=Math.pow(o,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:e}}}const XS=12;function JS(e,t){return e*Math.sqrt(1-t*t)}const ZS=["duration","bounce"],eT=["stiffness","damping","mass"];function tT(e,t){return t.some((t=>void 0!==e[t]))}function nT(e=qS,t=BS){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:zS,stiffness:LS,damping:FS,mass:US,isResolvedFromDuration:!1,...e};if(!tT(e,eT)&&tT(e,ZS))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(1.2*n),r=s*s,i=2*Xk(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:US,stiffness:r,damping:i}}else{const n=YS(e);t={...t,...n,mass:US},t.isResolvedFromDuration=!0}return t}({...n,velocity:-cC(n.velocity||0)}),f=h||0,p=c/(2*Math.sqrt(l*d)),g=a-i,x=cC(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(s||(s=y?$S.granular:$S.default),r||(r=y?HS.granular:HS.default),p<1){const e=JS(x,p);v=t=>{const n=Math.exp(-p*x*t);return a-n*((f+p*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)v=e=>a-Math.exp(-x*e)*(g+(f+x*g)*e);else{const e=x*Math.sqrt(p*p-1);v=t=>{const n=Math.exp(-p*x*t),s=Math.min(e*t,300);return a-n*((f+p*x*g)*Math.sinh(s)+e*g*Math.cosh(s))/e}}const b={calculatedDuration:m&&u||null,next:e=>{const t=v(e);if(m)o.done=e>=u;else{let n=0===e?f:0;p<1&&(n=0===e?lC(f):OS(v,e,t));const i=Math.abs(n)<=s,l=Math.abs(a-t)<=r;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(MS(b),RS),t=DS((t=>b.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return b}function sT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let f=n*t;const p=u+f,g=void 0===a?p:a(p);g!==p&&(f=g-u);const x=e=>-f*Math.exp(-e/s),y=e=>g+x(e),v=e=>{const t=x(e),n=y(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let b,w;const j=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(b=e,w=nT({keyframes:[h.value,m(h.value)],velocity:OS(y,e,h.value),damping:r,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,v(e),j(e)),void 0!==b&&e>=b?w.next(e-b):(!t&&v(e),h)}}}function rT(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const s=[],r=n||Jk.mix||_S,i=e.length-1;for(let a=0;a<i;a++){let n=r(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||sC:t;n=iC(e,n)}s.push(n)}return s}(t,s,r),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(n<e[s+1]);s++);const r=aC(e[s],e[s+1],n);return o[s](r)};return n?t=>c(Xk(e[0],e[i-1],t)):c}function iT(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=aC(0,t,s);e.push(bS(n,1,r))}}(t,e.length-1),t}function aT({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=(e=>Array.isArray(e)&&"number"!=typeof e[0])(s)?s.map(TC):TC(s),i={done:!1,value:t[0]},a=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:iT(t),e),o=rT(a,t,{ease:Array.isArray(r)?r:(l=t,c=r,l.map((()=>c||kC)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}nT.applyToOptions=e=>{const t=function(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(MS(s),RS);return{type:"keyframes",ease:e=>s.next(r*e).value/t,duration:cC(r)}}(e,100,nT);return e.ease=t.ease,e.duration=lC(t.duration),e.type="keyframes",e};const oT=e=>null!==e;function lT(e,{repeat:t,repeatType:n="loop"},s,r=1){const i=e.filter(oT),a=r<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==s?s:i[a]}const cT={decay:sT,inertia:sT,tween:aT,keyframes:aT,spring:nT};function dT(e){"string"==typeof e.type&&(e.type=cT[e.type])}class uT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const hT=e=>e/100;class mT extends uT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(e=!0)=>{var t,n;if(e){const{motionValue:e}=this.options;e&&e.updatedAt!==LC.now()&&this.tick(LC.now())}this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(n=(t=this.options).onStop)||n.call(t))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;dT(e);const{type:t=aT,repeat:n=0,repeatDelay:s=0,repeatType:r,velocity:i=0}=e;let{keyframes:a}=e;const o=t||aT;o!==aT&&"number"!=typeof a[0]&&(this.mixKeyframes=iC(hT,_S(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=MS(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:s,mixKeyframes:r,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:m,onUpdate:f,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let y=this.currentTime,v=n;if(d){const e=Math.min(this.currentTime,s)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/a)):"mirror"===u&&(v=i)),y=Xk(0,1,n)*a}const b=x?{done:!1,value:c[0]}:v.next(y);r&&(b.value=r(b.value));let{done:w}=b;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&m!==sT&&(b.value=lT(c,this.options,p,this.speed)),f&&f(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return cC(this.calculatedDuration)}get time(){return cC(this.currentTime)}set time(e){var t;e=lC(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(LC.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cC(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=PS,startTime:s}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null==(t=(e=this.options).onPlay)||t.call(e);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(LC.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const fT=e=>180*e/Math.PI,pT=e=>{const t=fT(Math.atan2(e[1],e[0]));return xT(t)},gT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pT,rotateZ:pT,skewX:e=>fT(Math.atan(e[1])),skewY:e=>fT(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xT=e=>((e%=360)<0&&(e+=360),e),yT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yT,scaleY:vT,scale:e=>(yT(e)+vT(e))/2,rotateX:e=>xT(fT(Math.atan2(e[6],e[5]))),rotateY:e=>xT(fT(Math.atan2(-e[2],e[0]))),rotateZ:pT,rotate:pT,skewX:e=>fT(Math.atan(e[4])),skewY:e=>fT(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wT(e){return e.includes("scale")?1:0}function jT(e,t){if(!e||"none"===e)return wT(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=bT,r=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gT,r=t}if(!r)return wT(t);const i=s[t],a=r[1].split(",").map(NT);return"function"==typeof i?i(a):a[i]}function NT(e){return parseFloat(e.trim())}const kT=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],CT=(()=>new Set(kT))(),ST=e=>e===qC||e===sS,TT=new Set(["x","y","z"]),ET=kT.filter((e=>!TT.has(e)));const AT={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jT(t,"x"),y:(e,{transform:t})=>jT(t,"y")};AT.translateX=AT.x,AT.translateY=AT.y;const IT=new Set;let _T=!1,PT=!1,DT=!1;function RT(){if(PT){const e=Array.from(IT).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return ET.forEach((n=>{const s=e.getValue(n);void 0!==s&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var s;null==(s=e.getValue(t))||s.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}PT=!1,_T=!1,IT.forEach((e=>e.complete(DT))),IT.clear()}function MT(){IT.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(PT=!0)}))}class OT{constructor(e,t,n,s,r,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=r,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(IT.add(this),_T||(_T=!0,_C.read(MT),_C.resolveKeyframes(RT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;if(null===e[0]){const r=null==s?void 0:s.get(),i=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const s=n.readValue(t,i);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=i),s&&void 0===r&&s.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),IT.delete(this)}cancel(){"scheduled"===this.state&&(IT.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const LT=nC((()=>void 0!==window.ScrollTimeline)),FT={};function UT(e,t){const n=nC(e);return()=>FT[t]??n()}const zT=UT((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Tv){return!1}return!0}),"linearEasing"),VT=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,BT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:VT([0,.65,.55,1]),circOut:VT([.55,0,1,.45]),backIn:VT([.31,.01,.66,-.59]),backOut:VT([.33,1.53,.69,.99])};function qT(e,t){return e?"function"==typeof e?zT()?DS(e,t):"ease-out":CC(e)?VT(e):Array.isArray(e)?e.map((e=>qT(e,t)||BT.easeOut)):BT[e]:void 0}function $T(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=qT(o,r);Array.isArray(u)&&(d.easing=u);const h={delay:s,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(d,h)}function HT(e){return"function"==typeof e&&"applyToOptions"in e}class KT extends uT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:s,pseudoElement:r,allowFlatten:i=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return HT(e)&&zT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=$T(t,n,s,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=lT(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(Tv){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return cC(Number(n))}get time(){return cC(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lC(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&LT()?(this.animation.timeline=e,sC):t(this)}}const WT={anticipate:yC,backInOut:xC,circInOut:wC};function GT(e){"string"==typeof e.ease&&e.ease in WT&&(e.ease=WT[e.ease])}class QT extends KT{constructor(e){GT(e),dT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:s,element:r,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new mT({...i,autoplay:!1}),o=lC(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const YT=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!xS.test(e)&&"0"!==e||e.startsWith("url(")));function XT(e){return eC(e)&&"offsetHeight"in e}const JT=new Set(["opacity","clipPath","filter","transform"]),ZT=nC((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class eE extends uT{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i="loop",keyframes:a,name:o,motionValue:l,element:c,...d}){var u;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=LC.now();const h={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:r,repeatType:i,name:o,motionValue:l,element:c,...d},m=(null==c?void 0:c.KeyframeResolver)||OT;this.keyframeResolver=new m(a,((e,t,n)=>this.onKeyframesResolved(e,t,h,!n)),o,l,c),null==(u=this.keyframeResolver)||u.scheduleResolve()}onKeyframesResolved(e,t,n,s){this.keyframeResolver=void 0;const{name:r,type:i,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=LC.now(),function(e,t,n,s){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=YT(r,t),o=YT(i,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||HT(n))&&s)}(e,r,i,a)||(!Jk.instantAnimations&&o||null==c||c(lT(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const d={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){var t;const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!XT(null==(t=null==n?void 0:n.owner)?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return ZT()&&s&&JT.has(s)&&("transform"!==s||!c)&&!l&&!r&&"mirror"!==i&&0!==a&&"inertia"!==o}(d)?new QT({...d,element:d.motionValue.owner.current}):new mT(d);u.finished.then((()=>this.notifyFinished())).catch(sC),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),DT=!0,MT(),RT(),DT=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const tE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nE(e,t,n=1){const[s,r]=function(e){const t=tE.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const e=i.trim();return Zk(e)?parseFloat(e):e}return VC(r)?nE(r,t,n+1):r}function sE(e,t){return(null==e?void 0:e[t])??(null==e?void 0:e.default)??e}const rE=new Set(["width","height","top","left","right","bottom",...kT]),iE=e=>t=>t.test(e),aE=[qC,sS,nS,tS,iS,rS,{test:e=>"auto"===e,parse:e=>e}],oE=e=>aE.find(iE(e));const lE=new Set(["brightness","contrast","saturate","opacity"]);function cE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[s]=n.match(WC)||[];if(!s)return e;const r=n.replace(s,"");let i=lE.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const dE=/\b([a-z-]*)\(.*?\)/gu,uE={...xS,getAnimatableNone:e=>{const t=e.match(dE);return t?t.map(cE).join(" "):e}},hE={...qC,transform:Math.round},mE={borderWidth:sS,borderTopWidth:sS,borderRightWidth:sS,borderBottomWidth:sS,borderLeftWidth:sS,borderRadius:sS,radius:sS,borderTopLeftRadius:sS,borderTopRightRadius:sS,borderBottomRightRadius:sS,borderBottomLeftRadius:sS,width:sS,maxWidth:sS,height:sS,maxHeight:sS,top:sS,right:sS,bottom:sS,left:sS,padding:sS,paddingTop:sS,paddingRight:sS,paddingBottom:sS,paddingLeft:sS,margin:sS,marginTop:sS,marginRight:sS,marginBottom:sS,marginLeft:sS,backgroundPositionX:sS,backgroundPositionY:sS,...{rotate:tS,rotateX:tS,rotateY:tS,rotateZ:tS,scale:HC,scaleX:HC,scaleY:HC,scaleZ:HC,skew:tS,skewX:tS,skewY:tS,distance:sS,translateX:sS,translateY:sS,translateZ:sS,x:sS,y:sS,z:sS,perspective:sS,transformPerspective:sS,opacity:$C,originX:aS,originY:aS,originZ:sS},zIndex:hE,fillOpacity:$C,strokeOpacity:$C,numOctaves:hE},fE={...mE,color:lS,backgroundColor:lS,outlineColor:lS,fill:lS,stroke:lS,borderColor:lS,borderTopColor:lS,borderRightColor:lS,borderBottomColor:lS,borderLeftColor:lS,filter:uE,WebkitFilter:uE},pE=e=>fE[e];function gE(e,t){let n=pE(e);return n!==uE&&(n=xS),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xE=new Set(["auto","none","0"]);class yE extends OT{constructor(e,t,n,s,r){super(e,t,n,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),VC(n))){const s=nE(n,t.current);void 0!==s&&(e[o]=s),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!rE.has(n)||2!==e.length)return;const[s,r]=e,i=oE(s),a=oE(r);if(i!==a)if(ST(i)&&ST(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else AT[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||("number"==typeof(s=e[r])?0===s:null===s||"none"===s||"0"===s||tC(s)))&&n.push(r);var s;n.length&&function(e,t,n){let s,r=0;for(;r<e.length&&!s;){const t=e[r];"string"==typeof t&&!xE.has(t)&&mS(t).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=gE(n,s)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=AT[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];void 0!==s&&e.getValue(n,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=AT[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}class vE{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{var n,s;const r=LC.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(n=this.events.change)||n.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty();t&&(null==(s=this.events.renderRequest)||s.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=LC.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oC);const n=this.events[e].add(t);return"change"===e?()=>{n(),_C.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=LC.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return dC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bE(e,t){return new vE(e,t)}const wE=(e,t)=>t&&"number"==typeof e?t.transform(e):e,{schedule:jE}=IC(queueMicrotask,!1),NE={x:!1,y:!1};function kE(){return NE.x||NE.y}function CE(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const s=(null==n?void 0:n[e])??t.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),s=new AbortController;return[n,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function SE(e){return!("touch"===e.pointerType||kE())}const TE=(e,t)=>!!t&&(e===t||TE(e,t.parentElement)),EE=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,AE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const IE=new WeakSet;function _E(e){return t=>{"Enter"===t.key&&e(t)}}function PE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function DE(e){return EE(e)&&!kE()}function RE(e,t,n={}){const[s,r,i]=CE(e,n),a=e=>{const s=e.currentTarget;if(!DE(e))return;IE.add(s);const i=t(s,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),IE.has(s)&&IE.delete(s),DE(e)&&"function"==typeof i&&i(e,{success:t})},o=e=>{a(e,s===window||s===document||n.useGlobalTarget||TE(s,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return s.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),XT(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const s=_E((()=>{if(IE.has(n))return;PE(n,"down");const e=_E((()=>{PE(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>PE(n,"cancel")),t)}));n.addEventListener("keydown",s,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",s)),t)})(e,r))),t=e,AE.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}function ME(e){return eC(e)&&"ownerSVGElement"in e}const OE=e=>Boolean(e&&e.getVelocity),LE=[...aE,lS,xS],FE=lt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class UE extends lt.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=XT(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zE({children:e,isPresent:t,anchorX:n}){const s=lt.useId(),r=lt.useRef(null),i=lt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=lt.useContext(FE);return lt.useInsertionEffect((()=>{const{width:e,height:o,top:l,left:c,right:d}=i.current;if(t||!r.current||!e||!o)return;const u="left"===n?`left: ${c}`:`right: ${d}`;r.current.dataset.motionPopId=s;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            ${u}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}}),[t]),X.jsx(UE,{isPresent:t,childRef:r,sizeRef:i,children:lt.cloneElement(e,{ref:r})})}const VE=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:o})=>{const l=Hk(BE),c=lt.useId();let d=!0,u=lt.useMemo((()=>(d=!1,{id:c,initial:t,isPresent:n,custom:r,onExitComplete:e=>{l.set(e,!0);for(const t of l.values())if(!t)return;s&&s()},register:e=>(l.set(e,!1),()=>l.delete(e))})),[n,l,s]);return i&&d&&(u={...u}),lt.useMemo((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[n]),lt.useEffect((()=>{!n&&!l.size&&s&&s()}),[n]),"popLayout"===a&&(e=X.jsx(zE,{isPresent:n,anchorX:o,children:e})),X.jsx(Gk.Provider,{value:u,children:e})};function BE(){return new Map}function qE(e=!0){const t=lt.useContext(Gk);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,i=lt.useId();lt.useEffect((()=>{if(e)return r(i)}),[e]);const a=lt.useCallback((()=>e&&s&&s(i)),[i,s,e]);return!n&&s?[!1,a]:[!0]}const $E=e=>e.key||"";function HE(e){const t=[];return lt.Children.forEach(e,(e=>{lt.isValidElement(e)&&t.push(e)})),t}const KE=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,c]=qE(a),d=lt.useMemo((()=>HE(e)),[e]),u=a&&!l?[]:d.map($E),h=lt.useRef(!0),m=lt.useRef(d),f=Hk((()=>new Map)),[p,g]=lt.useState(d),[x,y]=lt.useState(d);Wk((()=>{h.current=!1,m.current=d;for(let e=0;e<x.length;e++){const t=$E(x[e]);u.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[x,u.length,u.join("-")]);const v=[];if(d!==p){let e=[...d];for(let t=0;t<x.length;t++){const n=x[t],s=$E(n);u.includes(s)||(e.splice(t,0,n),v.push(n))}return"wait"===i&&v.length&&(e=v),y(HE(e)),g(d),null}const{forceRender:b}=lt.useContext($k);return X.jsx(X.Fragment,{children:x.map((e=>{const p=$E(e),g=!(a&&!l)&&(d===x||u.includes(p));return X.jsx(VE,{isPresent:g,initial:!(h.current&&!n)&&void 0,custom:t,presenceAffectsLayout:r,mode:i,onExitComplete:g?void 0:()=>{if(!f.has(p))return;f.set(p,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null==b||b(),y(m.current),a&&(null==c||c()),s&&s())},anchorX:o,children:e},p)}))})},WE=lt.createContext({strict:!1}),GE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},QE={};for(const F$ in GE)QE[F$]={isEnabled:e=>GE[F$].some((t=>!!e[t]))};const YE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function XE(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YE.has(e)}let JE=e=>!XE(e);try{(ZE=require("@emotion/is-prop-valid").default)&&(JE=e=>e.startsWith("on")?!XE(e):ZE(e))}catch{}var ZE;function eA(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,s)=>"create"===s?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const tA=lt.createContext({});function nA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function sA(e){return"string"==typeof e||Array.isArray(e)}const rA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iA=["initial",...rA];function aA(e){return nA(e.animate)||iA.some((t=>sA(e[t])))}function oA(e){return Boolean(aA(e)||e.variants)}function lA(e){const{initial:t,animate:n}=function(e,t){if(aA(e)){const{initial:t,animate:n}=e;return{initial:!1===t||sA(t)?t:void 0,animate:sA(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,lt.useContext(tA));return lt.useMemo((()=>({initial:t,animate:n})),[cA(t),cA(n)])}function cA(e){return Array.isArray(e)?e.join(" "):e}const dA=Symbol.for("motionComponentSymbol");function uA(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function hA(e,t,n){return lt.useCallback((s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&("function"==typeof n?n(s):uA(n)&&(n.current=s))}),[t])}const mA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fA="data-"+mA("framerAppearId"),pA=lt.createContext({});function gA(e,t,n,s,r){var i,a;const{visualElement:o}=lt.useContext(tA),l=lt.useContext(WE),c=lt.useContext(Gk),d=lt.useContext(FE).reducedMotion,u=lt.useRef(null);s=s||l.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,m=lt.useContext(pA);!h||h.projection||!r||"html"!==h.type&&"svg"!==h.type||function(e,t,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xA(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:Boolean(a)||o&&uA(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:l,layoutRoot:c})}(u.current,n,r,m);const f=lt.useRef(!1);lt.useInsertionEffect((()=>{h&&f.current&&h.update(n,c)}));const p=n[fA],g=lt.useRef(Boolean(p)&&!(null==(i=window.MotionHandoffIsComplete)?void 0:i.call(window,p))&&(null==(a=window.MotionHasOptimisedAnimation)?void 0:a.call(window,p)));return Wk((()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),jE.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())})),lt.useEffect((()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,p)})),g.current=!1))})),h}function xA(e){if(e)return!1!==e.options.allowProjection?e.projection:xA(e.parent)}function yA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){function i(e,i){let a;const o={...lt.useContext(FE),...e,layoutId:vA(e)},{isStatic:l}=o,c=lA(e),d=s(e,l);if(!l&&Kk){lt.useContext(WE).strict;const e=function(e){const{drag:t,layout:n}=QE;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(o);a=e.MeasureLayout,c.visualElement=gA(r,d,o,t,e.ProjectionNode)}return X.jsxs(tA.Provider,{value:c,children:[a&&c.visualElement?X.jsx(a,{visualElement:c.visualElement,...o}):null,n(r,e,hA(d,c.visualElement,i),d,l,c.visualElement)]})}e&&function(e){for(const t in e)QE[t]={...QE[t],...e[t]}}(e),i.displayName=`motion.${"string"==typeof r?r:`create(${r.displayName??r.name??""})`}`;const a=lt.forwardRef(i);return a[dA]=r,a}function vA({layoutId:e}){const t=lt.useContext($k).id;return t&&void 0!==e?t+"-"+e:e}const bA={};function wA(e,{layout:t,layoutId:n}){return CT.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!bA[e]||"opacity"===e)}const jA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NA=kT.length;function kA(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(CT.has(l))a=!0;else if(UC(l))r[l]=e;else{const t=wE(e,mE[l]);l.startsWith("origin")?(o=!0,i[l]=t):s[l]=t}}if(t.transform||(a||n?s.transform=function(e,t,n){let s="",r=!0;for(let i=0;i<NA;i++){const a=kT[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=wE(o,mE[a]);l||(r=!1,s+=`${jA[a]||a}(${e}) `),n&&(t[a]=e)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;s.transformOrigin=`${e} ${t} ${n}`}}const CA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SA(e,t,n){for(const s in t)OE(t[s])||wA(s,n)||(e[s]=t[s])}function TA(e,t){const n={};return SA(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return lt.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return kA(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function EA(e,t){const n={},s=TA(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const AA={offset:"stroke-dashoffset",array:"stroke-dasharray"},IA={offset:"strokeDashoffset",array:"strokeDasharray"};function _A(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...o},l,c,d){if(kA(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(null==d?void 0:d.transformBox)??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==n&&(u.y=n),void 0!==s&&(u.scale=s),void 0!==r&&function(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?AA:IA;e[i.offset]=sS.transform(-s);const a=sS.transform(t),o=sS.transform(n);e[i.array]=`${a} ${o}`}(u,r,i,a,!1)}const PA=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),DA=e=>"string"==typeof e&&"svg"===e.toLowerCase();function RA(e,t,n,s){const r=lt.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return _A(n,t,DA(s),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};SA(t,e.style,e),r.style={...t,...r.style}}return r}const MA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OA(e){return"string"==typeof e&&!e.includes("-")&&!!(MA.indexOf(e)>-1||/[A-Z]/u.test(e))}function LA(e=!1){return(t,n,s,{latestValues:r},i)=>{const a=(OA(t)?RA:EA)(n,r,i,t),o=function(e,t,n){const s={};for(const r in e)"values"===r&&"object"==typeof e.values||(JE(r)||!0===n&&XE(r)||!t&&!XE(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}(n,"string"==typeof t,e),l=t!==lt.Fragment?{...o,...a,ref:s}:{},{children:c}=n,d=lt.useMemo((()=>OE(c)?c.get():c),[c]);return lt.createElement(t,{...l,children:d})}}function FA(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function UA(e,t,n,s){if("function"==typeof t){const[r,i]=FA(s);t=t(void 0!==n?n:e.custom,r,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[r,i]=FA(s);t=t(void 0!==n?n:e.custom,r,i)}return t}function zA(e){return OE(e)?e.get():e}const VA=e=>(t,n)=>{const s=lt.useContext(tA),r=lt.useContext(Gk),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:BA(n,s,r,e),renderState:t()}}(e,t,s,r);return n?i():Hk(i)};function BA(e,t,n,s){const r={},i=s(e,{});for(const h in i)r[h]=zA(i[h]);let{initial:a,animate:o}=e;const l=aA(e),c=oA(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?o:a;if(u&&"boolean"!=typeof u&&!nA(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const s=UA(e,t[n]);if(s){const{transitionEnd:e,transition:t,...n}=s;for(const s in n){let e=n[s];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[s]=e)}for(const s in e)r[s]=e[s]}}}return r}function qA(e,t,n){var s;const{style:r}=e,i={};for(const a in r)(OE(r[a])||t.style&&OE(t.style[a])||wA(a,e)||void 0!==(null==(s=null==n?void 0:n.getValue(a))?void 0:s.liveStyle))&&(i[a]=r[a]);return i}const $A={useVisualState:VA({scrapeMotionValuesFromProps:qA,createRenderState:CA})};function HA(e,t,n){const s=qA(e,t,n);for(const r in e)if(OE(e[r])||OE(t[r])){s[-1!==kT.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return s}const KA={useVisualState:VA({scrapeMotionValuesFromProps:HA,createRenderState:PA})};function WA(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){return yA({...OA(n)?KA:$A,preloadedFeatures:e,useRender:LA(s),createVisualElement:t,Component:n})}}function GA(e,t,n){const s=e.getProps();return UA(s,t,void 0!==n?n:s.custom,e)}const QA=e=>Array.isArray(e);function YA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bE(n))}function XA(e,t){const n=e.getValue("willChange");if(s=n,Boolean(OE(s)&&s.add))return n.add(t);if(!n&&Jk.WillChange){const n=new Jk.WillChange("auto");e.addValue("willChange",n),n.add(t)}var s}function JA(e){return e.props[fA]}const ZA=e=>null!==e;const eI={type:"spring",stiffness:500,damping:25,restSpeed:10},tI={type:"keyframes",duration:.8},nI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sI=(e,{keyframes:t})=>t.length>2?tI:CT.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:eI:nI;const rI=(e,t,n,s={},r,i)=>a=>{const o=sE(s,e)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c-=lC(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:r};(function({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,sI(e,d)),d.duration&&(d.duration=lC(d.duration)),d.repeatDelay&&(d.repeatDelay=lC(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(Jk.instantAnimations||Jk.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const s=e.filter(ZA);return s[t&&"loop"!==n&&t%2==1?0:s.length-1]}(d.keyframes,o);if(void 0!==e)return void _C.update((()=>{d.onUpdate(e),d.onComplete()}))}return o.isSync?new mT(d):new eE(d)};function iI({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,s}function aI(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(i=s);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),s=o[d];if(void 0===s||c&&iI(c,d))continue;const r={delay:n,...sE(i||{},d)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(s)&&s===a&&!r.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=JA(e);if(t){const e=window.MotionHandoffAnimation(t,d,_C);null!==e&&(r.startTime=e,u=!0)}}XA(e,d),t.start(rI(d,t,s,e.shouldReduceMotion&&rE.has(d)?{type:!1}:r,e,u));const h=t.animation;h&&l.push(h)}return a&&Promise.all(l).then((()=>{_C.update((()=>{a&&function(e,t){const n=GA(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i)YA(e,o,(a=i[o],QA(a)?a[a.length-1]||0:a));var a}(e,a)}))})),l}function oI(e,t,n={}){var s;const r=GA(e,t,"exit"===n.type?null==(s=e.presenceContext)?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(aI(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(s=0)=>{const{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t,n=0,s=0,r=1,i){const a=[],o=(e.variantChildren.size-1)*s,l=1===r?(e=0)=>e*s:(e=0)=>o-e*s;return Array.from(e.variantChildren).sort(lI).forEach(((e,s)=>{e.notify("AnimationStart",t),a.push(oI(e,t,{...i,delay:n+l(s)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,r+s,a,o,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function lI(e,t){return e.sortNodePosition(t)}function cI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const dI=iA.length;function uI(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&uI(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<dI;n++){const s=iA[n],r=e.props[s];(sA(r)||!1===r)&&(t[s]=r)}return t}const hI=[...rA].reverse(),mI=rA.length;function fI(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map((t=>oI(e,t,n)));s=Promise.all(r)}else if("string"==typeof t)s=oI(e,t,n);else{const r="function"==typeof t?GA(e,t,n.custom):t;s=Promise.all(aI(e,r,n))}return s.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function pI(e){let t=fI(e),n=yI(),s=!0;const r=t=>(n,s)=>{var r;const i=GA(e,s,"exit"===t?null==(r=e.presenceContext)?void 0:r.custom:void 0);if(i){const{transition:e,transitionEnd:t,...s}=i;n={...n,...s,...t}}return n};function i(i){const{props:a}=e,o=uI(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<mI;t++){const h=hI[t],m=n[h],f=void 0!==a[h]?a[h]:o[h],p=sA(f),g=h===i?m.isActive:null;!1===g&&(u=t);let x=f===o[h]&&f!==a[h]&&p;if(x&&s&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...d},!m.isActive&&null===g||!f&&!m.prevProp||nA(f)||"boolean"==typeof f)continue;const y=gI(m.prevProp,f);let v=y||h===i&&m.isActive&&!x&&p||t>u&&p,b=!1;const w=Array.isArray(f)?f:[f];let j=w.reduce(r(h),{});!1===g&&(j={});const{prevResolvedValues:N={}}=m,k={...N,...j},C=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let s=!1;s=QA(t)&&QA(n)?!cI(t,n):t!==n,s?null!=t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=j,m.isActive&&(d={...d,...j}),s&&e.blockInitialAnimation&&(v=!1);v&&(!(x&&y)||b)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!=typeof a.initial){const n=GA(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const s=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=s??null})),l.push({animation:t})}let h=Boolean(l.length);return!s||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),s=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,s){var r;if(n[t].isActive===s)return Promise.resolve();null==(r=e.variantChildren)||r.forEach((e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,s)})),n[t].isActive=s;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=yI(),s=!0}}}function gI(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!cI(t,e)}function xI(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yI(){return{animate:xI(!0),whileInView:xI(),whileHover:xI(),whileTap:xI(),whileDrag:xI(),whileFocus:xI(),exit:xI()}}class vI{constructor(e){this.isMounted=!1,this.node=e}update(){}}let bI=0;const wI={animation:{Feature:class extends vI{constructor(e){super(e),e.animationState||(e.animationState=pI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends vI{constructor(){super(...arguments),this.id=bI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function jI(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function NI(e){return{point:{x:e.pageX,y:e.pageY}}}function kI(e,t,n,s){return jI(e,t,(e=>t=>EE(t)&&e(t,NI(t)))(n),s)}function CI({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function SI(e){return e.max-e.min}function TI(e,t,n,s=.5){e.origin=s,e.originPoint=bS(t.min,t.max,e.origin),e.scale=SI(n)/SI(t),e.translate=bS(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function EI(e,t,n,s){TI(e.x,t.x,n.x,s?s.originX:void 0),TI(e.y,t.y,n.y,s?s.originY:void 0)}function AI(e,t,n){e.min=n.min+t.min,e.max=e.min+SI(t)}function II(e,t,n){e.min=t.min-n.min,e.max=e.min+SI(t)}function _I(e,t,n){II(e.x,t.x,n.x),II(e.y,t.y,n.y)}const PI=()=>({x:{min:0,max:0},y:{min:0,max:0}});function DI(e){return[e("x"),e("y")]}function RI(e){return void 0===e||1===e}function MI({scale:e,scaleX:t,scaleY:n}){return!RI(e)||!RI(t)||!RI(n)}function OI(e){return MI(e)||LI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function LI(e){return FI(e.x)||FI(e.y)}function FI(e){return e&&"0%"!==e}function UI(e,t,n){return n+t*(e-n)}function zI(e,t,n,s,r){return void 0!==r&&(e=UI(e,r,s)),UI(e,n,s)+t}function VI(e,t=0,n=1,s,r){e.min=zI(e.min,t,n,s,r),e.max=zI(e.max,t,n,s,r)}function BI(e,{x:t,y:n}){VI(e.x,t.translate,t.scale,t.originPoint),VI(e.y,n.translate,n.scale,n.originPoint)}const qI=.999999999999,$I=1.0000000000001;function HI(e,t){e.min=e.min+t,e.max=e.max+t}function KI(e,t,n,s,r=.5){VI(e,t,n,bS(e.min,e.max,r),s)}function WI(e,t){KI(e.x,t.x,t.scaleX,t.scale,t.originX),KI(e.y,t.y,t.scaleY,t.scale,t.originY)}function GI(e,t){return CI(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}const QI=({current:e})=>e?e.ownerDocument.defaultView:null,YI=(e,t)=>Math.abs(e-t);class XI{constructor(e,t,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=e_(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=YI(e.x,t.x),s=YI(e.y,t.y);return Math.sqrt(n**2+s**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:s}=e,{timestamp:r}=DC;this.history.push({...s,timestamp:r});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=JI(t,this.transformPagePoint),_C.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:s,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=e_("pointercancel"===e.type?this.lastMoveEventInfo:JI(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),s&&s(e,i)},!EE(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=s||window;const i=JI(NI(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=DC;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,e_(i,this.history)),this.removeListeners=iC(kI(this.contextWindow,"pointermove",this.handlePointerMove),kI(this.contextWindow,"pointerup",this.handlePointerUp),kI(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),PC(this.updatePoint)}}function JI(e,t){return t?{point:t(e.point)}:e}function ZI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function e_({point:e},t){return{point:e,delta:ZI(e,n_(t)),offset:ZI(e,t_(t)),velocity:s_(t,.1)}}function t_(e){return e[0]}function n_(e){return e[e.length-1]}function s_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=n_(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>lC(t)));)n--;if(!s)return{x:0,y:0};const i=cC(r.timestamp-s.timestamp);if(0===i)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function r_(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function i_(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}const a_=.35;function o_(e,t,n){return{min:l_(e,t),max:l_(e,n)}}function l_(e,t){return"number"==typeof e?e:e[t]||0}const c_=new WeakMap;class d_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new XI(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(NI(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:s,onDragStart:r}=this.getProps();if(n&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?NE[i]?null:(NE[i]=!0,()=>{NE[i]=!1}):NE.x||NE.y?null:(NE.x=NE.y=!0,()=>{NE.x=NE.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),DI((e=>{let t=this.getAxisMotionValue(e).get()||0;if(nS.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const s=n.layout.layoutBox[e];if(s){t=SI(s)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),r&&_C.postRender((()=>r(e,t))),XA(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:s,onDirectionLock:r,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(s&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>DI((e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:QI(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&_C.postRender((()=>r(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!u_(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},s){return void 0!==t&&e<t?e=s?bS(t,e,s.min):Math.max(e,t):void 0!==n&&e>n&&(e=s?bS(n,e,s.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),r.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,r=this.constraints;t&&uA(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!s)&&function(e,{top:t,left:n,bottom:s,right:r}){return{x:r_(e.x,n,r),y:r_(e.y,t,s)}}(s.layoutBox,t),this.elastic=function(e=a_){return!1===e?e=0:!0===e&&(e=a_),{x:o_(e,"left","right"),y:o_(e,"top","bottom")}}(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&DI((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(s.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!uA(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=function(e,t,n){const s=GI(e,n),{scroll:r}=t;return r&&(HI(s.x,r.offset.x),HI(s.y,r.offset.y)),s}(n,s.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:i_(e.x,t.x),y:i_(e.y,t.y)}}(s.layout.layoutBox,r);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=CI(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:r,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=DI((a=>{if(!u_(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=s?200:1e6,d=s?40:1e7,u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,u)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return XA(this.visualElement,e),n.start(rI(e,n,0,t,this.visualElement,!1))}stopAnimation(){DI((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){DI((e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()}))}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){DI((t=>{const{drag:n}=this.getProps();if(!u_(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:n,max:i}=s.layout.layoutBox[t];r.set(e[t]-bS(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!uA(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};DI((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();s[e]=function(e,t){let n=.5;const s=SI(e),r=SI(t);return r>s?n=aC(t.min,t.max-s,e.min):s>r&&(n=aC(e.min,e.max-r,t.min)),Xk(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),DI((t=>{if(!u_(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:i}=this.constraints[t];n.set(bS(r,i,s[t]))}))}addListeners(){if(!this.visualElement.current)return;c_.set(this.visualElement,this);const e=kI(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();uA(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,s=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),_C.read(t);const r=jI(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(DI((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{r(),e(),s(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:i=a_,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:r,dragElastic:i,dragMomentum:a}}}function u_(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const h_=e=>(t,n)=>{e&&_C.postRender((()=>e(t,n)))};const m_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const p_={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!sS.test(e))return e;e=parseFloat(e)}return`${f_(e,t.target.x)}% ${f_(e,t.target.y)}%`}},g_={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=xS.parse(e);if(r.length>5)return s;const i=xS.createTransformer(e),a="number"!=typeof r[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;r[0+a]/=o,r[1+a]/=l;const c=bS(o,l,.5);return"number"==typeof r[2+a]&&(r[2+a]/=c),"number"==typeof r[3+a]&&(r[3+a]/=c),i(r)}};class x_ extends lt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:r}=e;!function(e){for(const t in e)bA[t]=e[t],UC(t)&&(bA[t].isCSSVariable=!0)}(v_),r&&(t.group&&t.group.add(r),n&&n.register&&s&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),m_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:r}=this.props,{projection:i}=n;return i?(i.isPresent=r,s||e.layoutDependency!==t||void 0===t||e.isPresent!==r?i.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?i.promote():i.relegate()||_C.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jE.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function y_(e){const[t,n]=qE(),s=lt.useContext($k);return X.jsx(x_,{...e,layoutGroup:s,switchLayoutGroup:lt.useContext(pA),isPresent:t,safeToRemove:n})}const v_={borderRadius:{...p_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:p_,borderTopRightRadius:p_,borderBottomLeftRadius:p_,borderBottomRightRadius:p_,boxShadow:g_};const b_=(e,t)=>e.depth-t.depth;class w_{constructor(){this.children=[],this.isDirty=!1}add(e){Qk(this.children,e),this.isDirty=!0}remove(e){Yk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b_),this.isDirty=!1,this.children.forEach(e)}}const j_=["TopLeft","TopRight","BottomLeft","BottomRight"],N_=j_.length,k_=e=>"string"==typeof e?parseFloat(e):e,C_=e=>"number"==typeof e||sS.test(e);function S_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const T_=A_(0,.5,bC),E_=A_(.5,.95,sC);function A_(e,t,n){return s=>s<e?0:s>t?1:n(aC(e,t,s))}function I_(e,t){e.min=t.min,e.max=t.max}function __(e,t){I_(e.x,t.x),I_(e.y,t.y)}function P_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function D_(e,t,n,s,r){return e=UI(e-=t,1/n,s),void 0!==r&&(e=UI(e,1/r,s)),e}function R_(e,t,[n,s,r],i,a){!function(e,t=0,n=1,s=.5,r,i=e,a=e){nS.test(t)&&(t=parseFloat(t),t=bS(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=bS(i.min,i.max,s);e===i&&(o-=t),e.min=D_(e.min,t,n,o,r),e.max=D_(e.max,t,n,o,r)}(e,t[n],t[s],t[r],t.scale,i,a)}const M_=["x","scaleX","originX"],O_=["y","scaleY","originY"];function L_(e,t,n,s){R_(e.x,t,M_,n?n.x:void 0,s?s.x:void 0),R_(e.y,t,O_,n?n.y:void 0,s?s.y:void 0)}function F_(e){return 0===e.translate&&1===e.scale}function U_(e){return F_(e.x)&&F_(e.y)}function z_(e,t){return e.min===t.min&&e.max===t.max}function V_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B_(e,t){return V_(e.x,t.x)&&V_(e.y,t.y)}function q_(e){return SI(e.x)/SI(e.y)}function $_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H_{constructor(){this.members=[]}add(e){Qk(this.members,e),e.scheduleRender()}remove(e){if(Yk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let s=t;s>=0;s--){const e=this.members[s];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;!1===s&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const K_=["","X","Y","Z"],W_={visibility:"hidden"};let G_=0;function Q_(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Y_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=JA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_C,!(t||s))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Y_(s)}function X_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=G_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eP),this.nodes.forEach(oP),this.nodes.forEach(lP),this.nodes.forEach(tP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new w_)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new oC),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=ME(t)&&!(ME(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:s,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||s)&&(this.isLayoutDirty=!0),e){let n;const s=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=LC.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(PC(s),e(i-t))};return _C.setup(s,!0),()=>PC(s)}(s,250),m_.hasAnimatedSinceResize&&(m_.hasAnimatedSinceResize=!1,this.nodes.forEach(aP))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&i&&(s||r)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:s})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const r=this.options.transition||i.getDefaultTransition()||fP,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!B_(this.targetLayout,s),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...sE(r,"layout"),onPlay:a,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||aP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),PC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cP),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(sP);this.isUpdating||this.nodes.forEach(rP),this.isUpdating=!1,this.nodes.forEach(iP),this.nodes.forEach(J_),this.nodes.forEach(Z_),this.clearAllSnapshots();const e=LC.now();DC.delta=Xk(0,1e3/60,e-DC.timestamp),DC.timestamp=e,DC.isProcessing=!0,RC.update.process(DC),RC.preRender.process(DC),RC.render.process(DC),DC.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nP),this.sharedNodes.forEach(dP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_C.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_C.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||SI(this.snapshot.measuredBox.x)||SI(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!U_(this.projectionDelta),n=this.getTransformTemplate(),s=n?n(this.latestValues,""):void 0,i=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||OI(this.latestValues)||i)&&(r(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var s;return e&&(n=this.removeTransform(n)),xP((s=n).x),xP(s.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(vP))){const{scroll:e}=this.root;e&&(HI(n.x,e.offset.x),HI(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(__(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let s=0;s<this.path.length;s++){const t=this.path[s],{scroll:r,options:i}=t;t!==this.root&&r&&i.layoutScroll&&(r.wasRoot&&__(n,e),HI(n.x,r.offset.x),HI(n.y,r.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};__(n,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&WI(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),OI(e.latestValues)&&WI(n,e.latestValues)}return OI(this.latestValues)&&WI(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};__(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!OI(e.latestValues))continue;MI(e.latestValues)&&e.updateSnapshot();const s={x:{min:0,max:0},y:{min:0,max:0}};__(s,e.measurePageBox()),L_(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,s)}return OI(this.latestValues)&&L_(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==DC.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==n;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(this.layout&&(r||i)){if(this.resolvedRelativeTargetAt=DC.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},_I(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),__(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var a,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,AI(a.x,o.x,l.x),AI(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):__(this.target,this.layout.layoutBox),BI(this.target,this.targetDelta)):__(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},_I(this.relativeTargetOrigin,this.target,e.target),__(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!MI(this.parent.latestValues)&&!LI(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let s=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(s=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===DC.timestamp&&(s=!1),s)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;__(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,s=!1){const r=n.length;if(!r)return;let i,a;t.x=t.y=1;for(let o=0;o<r;o++){i=n[o],a=i.projectionDelta;const{visualElement:r}=i.options;r&&r.props.style&&"contents"===r.props.style.display||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&WI(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,BI(e,a)),s&&OI(i.latestValues)&&WI(e,i.latestValues))}t.x<$I&&t.x>qI&&(t.x=1),t.y<$I&&t.y>qI&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(P_(this.prevProjectionDelta.x,this.projectionDelta.x),P_(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),EI(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&$_(this.projectionDelta.x,this.prevProjectionDelta.x)&&$_(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,s=n?n.latestValues:{},r={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(mP));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;uP(i.x,e.x,n),uP(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_I(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,s){hP(e.x,t.x,n.x,s),hP(e.y,t.y,n.y,s)}(this.relativeTarget,this.relativeTargetOrigin,a,n),u&&(l=this.relativeTarget,h=u,z_(l.x,h.x)&&z_(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),__(u,this.relativeTarget)),o&&(this.animationValues=r,function(e,t,n,s,r,i){r?(e.opacity=bS(0,n.opacity??1,T_(s)),e.opacityExit=bS(t.opacity??1,0,E_(s))):i&&(e.opacity=bS(t.opacity??1,n.opacity??1,s));for(let a=0;a<N_;a++){const r=`border${j_[a]}Radius`;let i=S_(t,r),o=S_(n,r);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||C_(i)===C_(o)?(e[r]=Math.max(bS(k_(i),k_(o),s),0),(nS.test(o)||nS.test(i))&&(e[r]+="%")):e[r]=o)}(t.rotate||n.rotate)&&(e.rotate=bS(t.rotate||0,n.rotate||0,s))}(r,s,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,s;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(!1),null==(s=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||s.stop(!1),this.pendingAnimation&&(PC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_C.update((()=>{m_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bE(0)),this.currentAnimation=function(e,t,n){const s=OE(e)?e:bE(e);return s.start(rI("",s,t,n)),s.animation}(this.motionValue,[0,1e3],{...e,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:s,latestValues:r}=e;if(t&&n&&s){if(this!==e&&this.layout&&s&&yP(this.options.animationType,this.layout.layoutBox,s.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=SI(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const s=SI(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+s}__(t,n),WI(t,r),EI(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new H_);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const s=this.getStack();s&&s.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const s={};n.z&&Q_("z",e,s,this.animationValues);for(let r=0;r<K_.length;r++)Q_(`rotate${K_[r]}`,e,s,this.animationValues),Q_(`skew${K_[r]}`,e,s,this.animationValues);e.render();for(const r in s)e.setStaticValue(r,s[r]),this.animationValues&&(this.animationValues[r]=s[r]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return W_;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=zA(null==e?void 0:e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=zA(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!OI(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const r=s.animationValues||s.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:i,skewX:a,skewY:o}=n;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),r&&(s+=`rotateX(${r}deg) `),i&&(s+=`rotateY(${i}deg) `),a&&(s+=`skewX(${a}deg) `),o&&(s+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),n&&(t.transform=n(r,t.transform));const{x:i,y:a}=this.projectionDelta;t.transformOrigin=`${100*i.origin}% ${100*a.origin}% 0`,s.animationValues?t.opacity=s===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:t.opacity=s===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const o in bA){if(void 0===r[o])continue;const{correct:e,applyTo:n,isCSSVariable:i}=bA[o],a="none"===t.transform?r[o]:e(r[o],s);if(n){const e=n.length;for(let s=0;s<e;s++)t[n[s]]=a}else i?this.options.visualElement.renderState.vars[o]=a:t[o]=a}return this.options.layoutId&&(t.pointerEvents=s===this?zA(null==e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop(!1)})),this.root.nodes.forEach(sP),this.root.sharedNodes.clear()}}}function J_(e){e.updateLayout()}function Z_(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=e.layout,{animationType:r}=e.options,i=n.source!==e.layout.source;"size"===r?DI((e=>{const s=i?n.measuredBox[e]:n.layoutBox[e],r=SI(s);s.min=t[e].min,s.max=s.min+r})):yP(r,n.layoutBox,t)&&DI((s=>{const r=i?n.measuredBox[s]:n.layoutBox[s],a=SI(t[s]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};EI(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?EI(o,e.applyTransform(s,!0),n.measuredBox):EI(o,t,n.layoutBox);const l=!U_(a);let c=!1;if(!e.resumeFrom){const s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:r,layout:i}=s;if(r&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};_I(a,n.layoutBox,r.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};_I(o,t,i.layoutBox),B_(a,o)||(c=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function eP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nP(e){e.clearSnapshot()}function sP(e){e.clearMeasurements()}function rP(e){e.isLayoutDirty=!1}function iP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oP(e){e.resolveTargetDelta()}function lP(e){e.calcProjection()}function cP(e){e.resetSkewAndRotation()}function dP(e){e.removeLeadSnapshot()}function uP(e,t,n){e.translate=bS(t.translate,0,n),e.scale=bS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hP(e,t,n,s){e.min=bS(t.min,n.min,s),e.max=bS(t.max,n.max,s)}function mP(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const fP={duration:.45,ease:[.4,0,.1,1]},pP=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gP=pP("applewebkit/")&&!pP("chrome/")?Math.round:sC;function xP(e){e.min=gP(e.min),e.max=gP(e.max)}function yP(e,t,n){return"position"===e||"preserve-aspect"===e&&(s=q_(t),r=q_(n),i=.2,!(Math.abs(s-r)<=i));var s,r,i}function vP(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const bP=X_({attachResizeListener:(e,t)=>jI(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wP={current:void 0},jP=X_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wP.current){const e=new bP({});e.mount(window),e.setOptions({layoutScroll:!0}),wP.current=e}return wP.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),NP={pan:{Feature:class extends vI{constructor(){super(...arguments),this.removePointerDownListener=sC}onPointerDown(e){this.session=new XI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:h_(e),onStart:h_(t),onMove:n,onEnd:(e,t)=>{delete this.session,s&&_C.postRender((()=>s(e,t)))}}}mount(){this.removePointerDownListener=kI(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends vI{constructor(e){super(e),this.removeGroupControls=sC,this.removeListeners=sC,this.controls=new d_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sC}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:jP,MeasureLayout:y_}};function kP(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=s["onHover"+n];r&&_C.postRender((()=>r(t,NI(t))))}function CP(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=s["onTap"+("End"===n?"":n)];r&&_C.postRender((()=>r(t,NI(t))))}const SP=new WeakMap,TP=new WeakMap,EP=e=>{const t=SP.get(e.target);t&&t(e)},AP=e=>{e.forEach(EP)};function IP(e,t,n){const s=function({root:e,...t}){const n=e||document;TP.has(n)||TP.set(n,{});const s=TP.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(AP,{root:e,...t})),s[r]}(t);return SP.set(e,n),s.observe(e),()=>{SP.delete(e),s.unobserve(e)}}const _P={some:0,all:1};const PP={inView:{Feature:class extends vI{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:r}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof s?s:_P[s]};return IP(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:s}=this.node.getProps(),i=t?n:s;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends vI{mount(){const{current:e}=this.node;e&&(this.unmount=RE(e,((e,t)=>(CP(this.node,t,"Start"),(e,{success:t})=>CP(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends vI{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Tv){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iC(jI(this.node.current,"focus",(()=>this.onFocus())),jI(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends vI{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[s,r,i]=CE(e,n),a=e=>{if(!SE(e))return;const{target:n}=e,s=t(n,e);if("function"!=typeof s||!n)return;const i=e=>{SE(e)&&(s(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,r)};return s.forEach((e=>{e.addEventListener("pointerenter",a,r)})),i}(e,((e,t)=>(kP(this.node,t,"Start"),e=>kP(this.node,e,"End")))))}unmount(){}}}},DP={layout:{ProjectionNode:jP,MeasureLayout:y_}},RP={current:null},MP={current:!1};const OP=new WeakMap;const LP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FP{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=LC.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,_C.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=aA(t),this.isVariantNode=oA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&OE(e)&&e.set(o[u],!1)}}mount(e){this.current=e,OP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),MP.current||function(){if(MP.current=!0,Kk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>RP.current=e.matches;e.addListener(t),t()}else RP.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||RP.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),PC(this.notifyUpdate),PC(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=CT.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&_C.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),r=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{s(),r(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in QE){const t=QE[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<LP.length;n++){const t=LP[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const s=e["on"+t];s&&(this.propEventSubscriptions[t]=this.on(t,s))}this.prevMotionValues=function(e,t,n){for(const s in t){const r=t[s],i=n[s];if(OE(r))e.addValue(s,r);else if(OE(i))e.addValue(s,bE(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const t=e.getValue(s);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(s);e.addValue(s,bE(void 0!==t?t:r,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=bE(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var s;return null!=n&&("string"==typeof n&&(Zk(n)||tC(n))?n=parseFloat(n):(s=n,!LE.find(iE(s))&&xS.test(t)&&(n=gE(e,t))),this.setBaseTarget(e,OE(n)?n.get():n)),OE(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let s;if("string"==typeof n||"object"==typeof n){const r=UA(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);r&&(s=r[e])}if(n&&void 0!==s)return s;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||OE(r)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new oC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class UP extends FP{constructor(){super(...arguments),this.KeyframeResolver=yE}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;OE(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function zP(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}class VP extends UP{constructor(){super(...arguments),this.type="html",this.renderInstance=zP}readValueFromInstance(e,t){var n,s;if(CT.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?wT(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return jT(n,t)})(e,t);{const n=(s=e,window.getComputedStyle(s)),r=(UC(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GI(e,t)}build(e,t,n){kA(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return qA(e,t,n)}}const BP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class qP extends UP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=PI}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(CT.has(t)){const e=pE(t);return e&&e.default||0}return t=BP.has(t)?t:mA(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return HA(e,t,n)}build(e,t,n){_A(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,s){!function(e,t,n,s){zP(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(BP.has(r)?r:mA(r),t.attrs[r])}(e,t,0,s)}mount(e){this.isSVGTag=DA(e.tagName),super.mount(e)}}const $P=eA(WA({...wI,...PP,...NP,...DP},((e,t)=>OA(e)?new qP(t):new VP(t,{allowProjection:e!==lt.Fragment})))),HP=()=>{try{const{hasNewPosts:e,setHasNewPosts:t}=(()=>{const e=lt.useContext(kb);if(!e)throw new Error("useBlogContext must be used within a BlogProvider");return e})(),[n,s]=lt.useState(!1);lt.useEffect((()=>{if(e){s(!0);const e=setTimeout((()=>{s(!1),t(!1)}),1e4);return()=>clearTimeout(e)}}),[e,t]);const r=()=>{s(!1),t(!1)},i=()=>{s(!1),t(!1)};return X.jsx(KE,{children:n&&X.jsx($P.div,{initial:{opacity:0,y:-100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-100,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed top-4 right-4 z-50 max-w-sm",children:X.jsx(Uk,{className:"border-primary/20 bg-background/95 backdrop-blur-sm shadow-lg",children:X.jsx(qk,{className:"p-4",children:X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx("div",{className:"flex-shrink-0",children:X.jsxs("div",{className:"relative",children:[X.jsx(Ow,{className:"h-5 w-5 text-primary"}),X.jsx(VN,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs",children:"!"})]})}),X.jsxs("div",{className:"flex-1 min-w-0",children:[X.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Nov lnek v blogu!"}),X.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Byl pidn nov lnek do naeho blogu. Pette si nejnovj tipy a rady."}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(Cw,{asChild:!0,size:"sm",className:"text-xs h-7",onClick:i,children:X.jsx(ct,{to:"/blog",children:"Zobrazit blog"})}),X.jsx(Cw,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:r,children:"Pozdji"})]})]}),X.jsx(Cw,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0",onClick:r,children:X.jsx(Hj,{className:"h-3 w-3"})})]})})})})})}catch(e){return null}},KP=({children:e})=>X.jsxs("div",{className:"flex flex-col min-h-screen",children:[X.jsx(Pk,{}),X.jsx("main",{className:"flex-1",children:e}),X.jsx(Fk,{}),X.jsx(HP,{})]});function WP({testimonial:e}){return X.jsx(Uk,{className:"border-none bg-background/50 backdrop-blur-sm",children:X.jsxs(qk,{className:"p-8 text-center",children:[e.imageUrl&&X.jsx("div",{className:"mb-4 flex justify-center",children:X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-16 h-16 rounded-full object-cover"})}),X.jsx("div",{className:"flex justify-center mb-4",children:Array.from({length:5}).map(((t,n)=>X.jsx(Rj,{className:"h-5 w-5 "+(n<e.rating?"text-yellow-500 fill-yellow-500":"text-muted-foreground")},n)))}),X.jsxs("p",{className:"text-lg mb-6 italic",children:['"',e.comment,'"']}),X.jsx("p",{className:"font-semibold",children:e.name})]})})}function GP({product:e}){const{addToCart:t}=jb();return X.jsx(ct,{to:`/product/${e.id}`,className:"group",children:X.jsxs(Uk,{className:"overflow-hidden border-border card-hover h-full",children:[X.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.featured&&X.jsx("div",{className:"absolute top-3 right-3",children:X.jsx(VN,{className:"bg-primary text-primary-foreground",children:"Oblben"})})]}),X.jsxs(qk,{className:"p-4",children:[X.jsx("h3",{className:"font-semibold text-lg mb-1 group-hover:text-primary transition-colors",children:e.name}),X.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:e.description}),X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("p",{className:"font-semibold",children:[e.price," K"]}),X.jsx(Cw,{size:"sm",variant:"outline",onClick:n=>{n.preventDefault(),t({id:e.id,name:e.name,price:e.price,imageUrl:e.imageUrl})},children:"Do koku"})]})]})]})})}const QP=6048e5,YP=Symbol.for("constructDateFrom");function XP(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&YP in e?e[YP](t):e instanceof Date?new e.constructor(t):new Date(t)}function JP(e,t){return XP(t||e,e)}let ZP={};function eD(){return ZP}function tD(e,t){var n,s,r,i;const a=eD(),o=(null==t?void 0:t.weekStartsOn)??(null==(s=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:s.weekStartsOn)??a.weekStartsOn??(null==(i=null==(r=a.locale)?void 0:r.options)?void 0:i.weekStartsOn)??0,l=JP(e,null==t?void 0:t.in),c=l.getDay(),d=(c<o?7:0)+c-o;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function nD(e,t){return tD(e,{...t,weekStartsOn:1})}function sD(e,t){const n=JP(e,null==t?void 0:t.in),s=n.getFullYear(),r=XP(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=nD(r),a=XP(n,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=nD(a);return n.getTime()>=i.getTime()?s+1:n.getTime()>=o.getTime()?s:s-1}function rD(e){const t=JP(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function iD(e,...t){const n=XP.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}function aD(e,t){const n=JP(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function oD(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+JP(e)));var t}const lD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function cD(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dD={date:cD({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:cD({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:cD({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},uD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function hD(e){return(t,n)=>{let s;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=(null==n?void 0:n.width)?String(n.width):t;s=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;s=e.values[r]||e.values[t]}return s[e.argumentCallback?e.argumentCallback(t):t]}}function mD(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const a=i[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function fD(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(r.length)}}}const pD={code:"en-US",formatDistance:(e,t,n)=>{let s;const r=lD[e];return s="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+s:s+" ago":s},formatLong:dD,formatRelative:(e,t,n,s)=>uD[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:hD({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:hD({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hD({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:hD({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:hD({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:fD({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:mD({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mD({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mD({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mD({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mD({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function gD(e,t){const n=JP(e,null==t?void 0:t.in),s=function(e,t,n){const[s,r]=iD(null==n?void 0:n.in,e,t),i=aD(s),a=aD(r),o=+i-rD(i),l=+a-rD(a);return Math.round((o-l)/864e5)}(n,function(e,t){const n=JP(e,null==t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n));return s+1}function xD(e,t){const n=JP(e,null==t?void 0:t.in),s=+nD(n)-+function(e,t){const n=sD(e,t),s=XP(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),nD(s)}(n);return Math.round(s/QP)+1}function yD(e,t){var n,s,r,i;const a=JP(e,null==t?void 0:t.in),o=a.getFullYear(),l=eD(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(s=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:s.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(i=null==(r=l.locale)?void 0:r.options)?void 0:i.firstWeekContainsDate)??1,d=XP((null==t?void 0:t.in)||e,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const u=tD(d,t),h=XP((null==t?void 0:t.in)||e,0);h.setFullYear(o,0,c),h.setHours(0,0,0,0);const m=tD(h,t);return+a>=+u?o+1:+a>=+m?o:o-1}function vD(e,t){const n=JP(e,null==t?void 0:t.in),s=+tD(n,t)-+function(e,t){var n,s,r,i;const a=eD(),o=(null==t?void 0:t.firstWeekContainsDate)??(null==(s=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:s.firstWeekContainsDate)??a.firstWeekContainsDate??(null==(i=null==(r=a.locale)?void 0:r.options)?void 0:i.firstWeekContainsDate)??1,l=yD(e,t),c=XP((null==t?void 0:t.in)||e,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),tD(c,t)}(n,t);return Math.round(s/QP)+1}function bD(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const wD={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return bD("yy"===t?s%100:s,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):bD(n+1,2)},d:(e,t)=>bD(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>bD(e.getHours()%12||12,t.length),H:(e,t)=>bD(e.getHours(),t.length),m:(e,t)=>bD(e.getMinutes(),t.length),s:(e,t)=>bD(e.getSeconds(),t.length),S(e,t){const n=t.length,s=e.getMilliseconds();return bD(Math.trunc(s*Math.pow(10,n-3)),t.length)}},jD="midnight",ND="noon",kD="morning",CD="afternoon",SD="evening",TD="night",ED={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),s=t>0?t:1-t;return n.ordinalNumber(s,{unit:"year"})}return wD.y(e,t)},Y:function(e,t,n,s){const r=yD(e,s),i=r>0?r:1-r;if("YY"===t){return bD(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):bD(i,t.length)},R:function(e,t){return bD(sD(e),t.length)},u:function(e,t){return bD(e.getFullYear(),t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return bD(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return bD(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return wD.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return bD(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=vD(e,s);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):bD(r,t.length)},I:function(e,t,n){const s=xD(e);return"Io"===t?n.ordinalNumber(s,{unit:"week"}):bD(s,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):wD.d(e,t)},D:function(e,t,n){const s=gD(e);return"Do"===t?n.ordinalNumber(s,{unit:"dayOfYear"}):bD(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bD(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bD(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=0===s?7:s;switch(t){case"i":return String(r);case"ii":return bD(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(r=12===s?ND:0===s?jD:s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(r=s>=17?SD:s>=12?CD:s>=4?kD:TD,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return wD.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):wD.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return"Ko"===t?n.ordinalNumber(s,{unit:"hour"}):bD(s,t.length)},k:function(e,t,n){let s=e.getHours();return 0===s&&(s=24),"ko"===t?n.ordinalNumber(s,{unit:"hour"}):bD(s,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wD.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wD.s(e,t)},S:function(e,t){return wD.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return ID(s);case"XXXX":case"XX":return _D(s);default:return _D(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return ID(s);case"xxxx":case"xx":return _D(s);default:return _D(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AD(s,":");default:return"GMT"+_D(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AD(s,":");default:return"GMT"+_D(s,":")}},t:function(e,t,n){return bD(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return bD(+e,t.length)}};function AD(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),i=s%60;return 0===i?n+String(r):n+String(r)+t+bD(i,2)}function ID(e,t){if(e%60==0){return(e>0?"-":"+")+bD(Math.abs(e)/60,2)}return _D(e,t)}function _D(e,t=""){const n=e>0?"-":"+",s=Math.abs(e);return n+bD(Math.trunc(s/60),2)+t+bD(s%60,2)}const PD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},DD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},RD={p:DD,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return PD(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",PD(s,t)).replace("{{time}}",DD(r,t))}},MD=/^D+$/,OD=/^Y+$/,LD=["D","DD","YY","YYYY"];const FD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zD=/^'([^]*?)'?$/,VD=/''/g,BD=/[a-zA-Z]/;function qD(e,t,n){var s,r,i,a,o,l,c,d;const u=eD(),h=(null==n?void 0:n.locale)??u.locale??pD,m=(null==n?void 0:n.firstWeekContainsDate)??(null==(r=null==(s=null==n?void 0:n.locale)?void 0:s.options)?void 0:r.firstWeekContainsDate)??u.firstWeekContainsDate??(null==(a=null==(i=u.locale)?void 0:i.options)?void 0:a.firstWeekContainsDate)??1,f=(null==n?void 0:n.weekStartsOn)??(null==(l=null==(o=null==n?void 0:n.locale)?void 0:o.options)?void 0:l.weekStartsOn)??u.weekStartsOn??(null==(d=null==(c=u.locale)?void 0:c.options)?void 0:d.weekStartsOn)??0,p=JP(e,null==n?void 0:n.in);if(!oD(p))throw new RangeError("Invalid time value");let g=t.match(UD).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,RD[t])(e,h.formatLong)}return e})).join("").match(FD).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:$D(e)};if(ED[t])return{isToken:!0,value:e};if(t.match(BD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));h.localize.preprocessor&&(g=h.localize.preprocessor(p,g));const x={firstWeekContainsDate:m,weekStartsOn:f,locale:h};return g.map((s=>{if(!s.isToken)return s.value;const r=s.value;(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&function(e){return OD.test(e)}(r)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&function(e){return MD.test(e)}(r))&&function(e,t,n){const s=function(e,t,n){const s="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(LD.includes(e))throw new RangeError(s)}(r,t,String(e));return(0,ED[r[0]])(p,r,h.localize,x)})).join("")}function $D(e){const t=e.match(zD);return t?t[1].replace(VD,"'"):e}function HD(e,t,n){const[s,r]=iD(null==n?void 0:n.in,e,t);return+tD(s,n)===+tD(r,n)}function KD(e,t,n){return function(e,t,n){const s=JP(e,null==n?void 0:n.in);return isNaN(t)?XP(e,NaN):t?(s.setDate(s.getDate()+t),s):s}(e,-t,n)}function WD(e,t){if(void 0!==e.one&&1===t)return e.one;const n=t%10,s=t%100;return 1===n&&11!==s?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(s<10||s>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function GD(e){return(t,n)=>(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?e.future?WD(e.future,t):" "+WD(e.regular,t):e.past?WD(e.past,t):WD(e.regular,t)+" ":WD(e.regular,t)}const QD={lessThanXSeconds:GD({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>(null==t?void 0:t.addSuffix)?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:GD({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:GD({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:GD({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},YD={date:cD({formats:{full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},defaultWidth:"full"}),time:cD({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:cD({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})},XD=["","","","","","",""];function JD(e){const t=XD[e];return 2===e?"' "+t+" ' p":"' "+t+" ' p"}const ZD={lastWeek:(e,t,n)=>{const s=e.getDay();return HD(e,t,n)?JD(s):function(e){const t=XD[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}(s)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,n)=>{const s=e.getDay();return HD(e,t,n)?JD(s):function(e){const t=XD[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}(s)},other:"P"},eR={code:"ru",formatDistance:(e,t,n)=>QD[e](t,n),formatLong:YD,formatRelative:(e,t,n,s)=>{const r=ZD[e];return"function"==typeof r?r(t,n,s):r},localize:{ordinalNumber:(e,t)=>{const n=Number(e),s=null==t?void 0:t.unit;let r;return r="date"===s?"-":"week"===s||"minute"===s||"second"===s?"-":"-",n+r},era:hD({values:{narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},defaultWidth:"wide"}),quarter:hD({values:{narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hD({values:{narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},defaultWidth:"wide",formattingValues:{narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},defaultFormattingWidth:"wide"}),day:hD({values:{narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},defaultWidth:"wide"}),dayPeriod:hD({values:{narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},defaultWidth:"any",formattingValues:{narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:fD({matchPattern:/^(\d+)(-?(||||||||||))?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:mD({matchPatterns:{narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^/i,/^/i]},defaultParseWidth:"any"}),quarter:mD({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mD({matchPatterns:{narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},defaultParseWidth:"any"}),day:mD({matchPatterns:{narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},defaultParseWidth:"any"}),dayPeriod:mD({matchPatterns:{narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function tR({post:e,viewMode:t="full"}){const n=e=>e?qD(e,"dd MMMM yyyy",{locale:eR}):"";return"compact"===t?X.jsx(ct,{to:`/blog/${e.id}`,className:"group",children:X.jsx(Uk,{className:"overflow-hidden border-border card-hover h-full",children:X.jsx(qk,{className:"p-4",children:X.jsxs("div",{className:"flex gap-4",children:[X.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-md",children:X.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),X.jsxs("div",{className:"flex-1 min-w-0",children:[e.tags&&e.tags.length>0&&X.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[e.tags.slice(0,2).map((e=>X.jsx(VN,{variant:"secondary",className:"text-xs",children:e},e))),e.tags.length>2&&X.jsxs(VN,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-2]})]}),X.jsx("h3",{className:"font-semibold text-base mb-1 group-hover:text-primary transition-colors line-clamp-2",children:e.title}),X.jsx("p",{className:"text-muted-foreground text-sm mb-2 line-clamp-1",children:e.excerpt}),X.jsxs("div",{className:"flex items-center text-xs text-muted-foreground gap-3",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(Lw,{className:"h-3 w-3 mr-1"}),X.jsx("span",{children:e.publishedAt?n(e.publishedAt):n(e.createdAt)})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Bj,{className:"h-3 w-3 mr-1"}),X.jsx("span",{children:e.author})]})]})]})]})})})}):X.jsx(ct,{to:`/blog/${e.id}`,className:"group",children:X.jsxs(Uk,{className:"overflow-hidden border-border card-hover h-full",children:[X.jsx("div",{className:"aspect-video overflow-hidden",children:X.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),X.jsxs(qk,{className:"p-4",children:[e.tags&&e.tags.length>0&&X.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map((e=>X.jsx(VN,{variant:"secondary",children:e},e)))}),X.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-primary transition-colors",children:e.title}),X.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:e.excerpt}),X.jsxs("div",{className:"flex items-center text-sm text-muted-foreground gap-4",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(Lw,{className:"h-4 w-4 mr-1"}),X.jsx("span",{children:e.publishedAt?n(e.publishedAt):n(e.createdAt)})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Bj,{className:"h-4 w-4 mr-1"}),X.jsx("span",{children:e.author})]})]})]})]})})}const nR="testimonials",sR=async e=>{var t,n;try{const s=Ep(mv,nR,e),r=await Ag(s);if(r.exists()){const e=r.data();return{id:r.id,...e,createdAt:(null==(t=e.createdAt)?void 0:t.toDate())||new Date,updatedAt:null==(n=e.updatedAt)?void 0:n.toDate()}}return null}catch(s){throw s}},rR="/assets/spring-bouquet-B1XwLQ3m.png",iR=[{id:"1",name:"Jana Novkov",comment:"Ndhern kvtiny a skvl servis! Kytice dorazila vas a vypadala pesn jako na fotografii. Urit budu objednvat znovu.",rating:5,imageUrl:"/assets/happy-client-female-B9-7LAkl.png"},{id:"2",name:"Petr Svoboda",comment:"Objednal jsem kytici pro manelku k vro. Byla naden! Kvtiny byly erstv a krsn zabalen. Dkuji za profesionln pstup.",rating:5,imageUrl:"/assets/business-client-CrJD3Spn.png"},{id:"3",name:"Rodina Dvokova",comment:"Pravideln nakupujeme kvtiny pro nae rodinn oslavy a vdy jsme spokojeni. Rostliny jsou zdrav a personl ochotn porad s vbrem.",rating:4,imageUrl:"/assets/family-celebration-DwV1Z4MS.png"}];function aR(){var e,t,n,s,r;const[i,a]=lt.useState([]),[o,l]=lt.useState([]),[c,d]=lt.useState([]),[u,h]=lt.useState(!0),[m,f]=lt.useState(!0),p=async()=>{try{const e=await(async(e=3)=>{try{const t=ug(Tp(mv,fb),mg("published","==",!0),gg("publishedAt","desc"),yg(e));return(await _g(t)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),publishedAt:null==(t=e.data().publishedAt)?void 0:t.toDate(),createdAt:null==(n=e.data().createdAt)?void 0:n.toDate()}}))}catch(t){throw t}})(3);l(e)}catch(e){}finally{f(!1)}},g=async()=>{try{const e=await(async(e=10)=>{try{const t=ug(Tp(mv,nR),gg("createdAt","desc"),yg(e)),n=(await _g(t)).docs.map((e=>{var t,n;const s=e.data();return{id:e.id,...s,createdAt:(null==(t=s.createdAt)?void 0:t.toDate())||new Date,updatedAt:null==(n=s.updatedAt)?void 0:n.toDate()}})).filter((e=>!1!==e.isActive));return n}catch(t){throw t}})(5);e.length>0?d(e):d(iR.map(((e,t)=>({id:e.id||String(t),name:e.name,comment:e.comment,rating:e.rating,imageUrl:e.imageUrl,isActive:!0,createdAt:new Date}))))}catch(e){d(iR.map(((e,t)=>({id:e.id||String(t),name:e.name,comment:e.comment,rating:e.rating,imageUrl:e.imageUrl,isActive:!0,createdAt:new Date}))))}};return lt.useEffect((()=>{(async()=>{try{const e=await cb(4);a(e)}catch(e){}finally{h(!1)}})(),p(),g()}),[]),X.jsxs(KP,{children:[X.jsx("section",{className:"hero-section py-16 md:py-24",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[X.jsxs("div",{className:"space-y-6 animate-fade-in",children:[X.jsx(VN,{className:"bg-secondary text-secondary-foreground px-3 py-1",children:"Kvtinov studio s ukrajinskm ndechem"}),X.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:["Krsn ",X.jsx("span",{className:"text-primary",children:"kvtiny"})," pro kadou pleitost"]}),X.jsx("p",{className:"text-lg text-muted-foreground",children:"Vtejte v Kvitko Sweet, kde tvome originln kytice a kvtinov dekorace s lskou a p. Nabzme erstv kvtiny, doruen po cel Praze a okol."}),X.jsxs("div",{className:"flex flex-wrap gap-4",children:[X.jsx(Cw,{size:"lg",asChild:!0,children:X.jsxs(ct,{to:"/catalog",children:["Prohldnout katalog",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})}),X.jsx(Cw,{size:"lg",variant:"outline",asChild:!0,children:X.jsx(ct,{to:"/custom-bouquet",children:"Vytvoit vlastn kytici"})})]})]}),X.jsxs("div",{className:"relative animate-fade-in animate-delay-200",children:[X.jsx("div",{className:"absolute -inset-4 bg-primary/10 rounded-full blur-3xl"}),X.jsx("img",{src:rR,alt:"Kvtiny Kvitko Sweet",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"}),X.jsx("div",{className:"absolute -bottom-6 -right-6 bg-background p-4 rounded-lg shadow-lg",children:X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:X.jsx(zj,{className:"h-6 w-6 text-primary"})}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:"Doruen po Praze"}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"Zdarma pi objednvce nad 1500 K"})]})]})})]})]})})}),X.jsx("section",{className:"py-16 bg-muted",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[X.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:X.jsx(oj,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"erstv kvtiny"}),X.jsx("p",{className:"text-muted-foreground",children:"Pouvme pouze erstv kvtiny nejvy kvality pro dlouhou trvanlivost."})]}),X.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-100",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:X.jsx(sj,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Run vroba"}),X.jsx("p",{className:"text-muted-foreground",children:"Kad kytice je vytvoena run s lskou a p naimi zkuenmi floristy."})]}),X.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-200",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:X.jsx(zj,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rychl doruen"}),X.jsx("p",{className:"text-muted-foreground",children:"Doruujeme v den objednvky po cel Praze a okol, aby kvtiny byly vdy erstv."})]}),X.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-sm animate-fade-in animate-delay-300",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-fit mb-4",children:X.jsx(ej,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Drkov balen"}),X.jsx("p",{className:"text-muted-foreground",children:"Nabzme elegantn drkov balen a monost pidat osobn vzkaz k va kytici."})]})]})})}),X.jsx("section",{className:"py-16",children:X.jsxs("div",{className:"container-custom",children:[X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"section-title",children:"Nae oblben produkty"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Objevte nae nejpopulrnj kytice a rostliny, kter si zamilovali nai zkaznci."})]}),X.jsx(Cw,{variant:"outline",asChild:!0,className:"mt-4 md:mt-0",children:X.jsxs(ct,{to:"/catalog",children:["Zobrazit ve",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})})]}),X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u?[...Array(4)].map(((e,t)=>X.jsxs("div",{className:"bg-background rounded-lg shadow-sm overflow-hidden animate-pulse",children:[X.jsx("div",{className:"bg-muted h-48"}),X.jsxs("div",{className:"p-4",children:[X.jsx("div",{className:"bg-muted h-4 rounded mb-2"}),X.jsx("div",{className:"bg-muted h-4 rounded w-3/4"})]})]},t))):i.map((e=>X.jsx(GP,{product:e},e.id)))})]})}),X.jsx("section",{className:"py-16 bg-muted leaf-pattern",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[X.jsxs("div",{className:"order-2 lg:order-1 animate-fade-in",children:[X.jsx("h2",{className:"section-title",children:"Vytvote si vlastn kytici"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Navrhnte si kytici podle vaich pedstav. Vyberte si kvtiny, barvy a styl, a my vytvome jedinenou kytici pesn podle vaich pn."}),X.jsxs("div",{className:"space-y-4 mb-8",children:[X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:X.jsx("span",{className:"text-primary font-semibold",children:"1"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Vyberte kvtiny"}),X.jsx("p",{className:"text-muted-foreground",children:"Zvolte sv oblben kvtiny, barvy a mnostv."})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:X.jsx("span",{className:"text-primary font-semibold",children:"2"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Pidejte doplky"}),X.jsx("p",{className:"text-muted-foreground",children:"Vyberte si zpsob balen, stuhy a ppadn drky."})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx("div",{className:"bg-primary/10 p-2 rounded-full mt-1",children:X.jsx("span",{className:"text-primary font-semibold",children:"3"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Dokonete objednvku"}),X.jsx("p",{className:"text-muted-foreground",children:"Zadejte doruovac daje a my se postarme o zbytek."})]})]})]}),X.jsx(Cw,{size:"lg",asChild:!0,children:X.jsxs(ct,{to:"/custom-bouquet",children:["Vytvoit vlastn kytici",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})})]}),X.jsxs("div",{className:"order-1 lg:order-2 relative animate-fade-in animate-delay-200",children:[X.jsx("div",{className:"absolute -inset-4 bg-secondary/30 rounded-full blur-3xl"}),X.jsx("img",{src:(null==(e=i[0])?void 0:e.imageUrl)||rR,alt:"Vlastn kytice",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"})]})]})})}),X.jsx("section",{className:"py-16",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h2",{className:"section-title text-center mb-12",children:"Prozkoumejte nae kategorie"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[X.jsxs(ct,{to:"/catalog/bouquets",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in",children:[X.jsx("img",{src:(null==(t=i[0])?void 0:t.imageUrl)||rR,alt:"Kytice",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:X.jsxs("div",{children:[X.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Kytice"}),X.jsx("p",{className:"text-white/80 mb-4",children:"Originln kytice pro kadou pleitost"}),X.jsxs(Cw,{variant:"secondary",size:"sm",children:["Prohldnout",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})]})})]}),X.jsxs(ct,{to:"/catalog/plants",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in animate-delay-100",children:[X.jsx("img",{src:(null==(n=i[1])?void 0:n.imageUrl)||rR,alt:"Pokojov rostliny",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:X.jsxs("div",{children:[X.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Pokojov rostliny"}),X.jsx("p",{className:"text-white/80 mb-4",children:"Zelen rostliny pro v domov"}),X.jsxs(Cw,{variant:"secondary",size:"sm",children:["Prohldnout",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})]})})]}),X.jsxs(ct,{to:"/catalog/gifts",className:"group relative overflow-hidden rounded-lg aspect-square animate-fade-in animate-delay-200",children:[X.jsx("img",{src:(null==(s=i[2])?void 0:s.imageUrl)||rR,alt:"Drky",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:X.jsxs("div",{children:[X.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Drky"}),X.jsx("p",{className:"text-white/80 mb-4",children:"Drkov pedmty a doplky"}),X.jsxs(Cw,{variant:"secondary",size:"sm",children:["Prohldnout",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})]})})]})]})]})}),X.jsx("section",{className:"py-16 bg-muted",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h2",{className:"section-title text-center mb-2",children:"Co kaj nai zkaznci"}),X.jsx("p",{className:"text-muted-foreground text-center max-w-2xl mx-auto mb-12",children:"Pette si recenze od naich spokojench zkaznk, kte si zamilovali nae kvtiny a sluby."}),X.jsxs(MN,{className:"w-full max-w-4xl mx-auto",children:[X.jsx(ON,{children:c.map((e=>X.jsx(LN,{children:X.jsx(WP,{testimonial:e})},e.id)))}),X.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[X.jsx(FN,{className:"relative inset-0 translate-y-0"}),X.jsx(UN,{className:"relative inset-0 translate-y-0"})]})]})]})}),X.jsx("section",{className:"py-16",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[X.jsxs("div",{className:"relative animate-fade-in",children:[X.jsx("div",{className:"absolute -inset-4 bg-primary/10 rounded-full blur-3xl"}),X.jsx("img",{src:(null==(r=i[0])?void 0:r.imageUrl)||rR,alt:"Doruen kvtin",className:"rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"})]}),X.jsxs("div",{className:"animate-fade-in animate-delay-200",children:[X.jsx("h2",{className:"section-title",children:"Doruen kvtin"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Nabzme rychl a spolehliv doruen kvtin po cel Praze a okol. Vae kytice doraz erstv a krsn, pesn podle vaich pedstav."}),X.jsxs(ak,{defaultValue:"prague",className:"w-full",children:[X.jsxs(ok,{className:"grid w-full grid-cols-2",children:[X.jsx(lk,{value:"prague",children:"Praha"}),X.jsx(lk,{value:"surroundings",children:"Okol Prahy"})]}),X.jsx(ck,{value:"prague",className:"mt-4",children:X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"Expresn doruen (2-3 hodiny)"}),X.jsx("span",{className:"font-semibold",children:"199 K"})]}),X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"Standardn doruen (tent den)"}),X.jsx("span",{className:"font-semibold",children:"149 K"})]}),X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"Doruen v konkrtn as"}),X.jsx("span",{className:"font-semibold",children:"249 K"})]}),X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("span",{className:"text-primary font-medium",children:"Objednvka nad 1500 K"}),X.jsx("span",{className:"font-semibold text-primary",children:"Zdarma"})]})]})}),X.jsx(ck,{value:"surroundings",className:"mt-4",children:X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"Do 10 km od Prahy"}),X.jsx("span",{className:"font-semibold",children:"249 K"})]}),X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"10-20 km od Prahy"}),X.jsx("span",{className:"font-semibold",children:"349 K"})]}),X.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[X.jsx("span",{children:"20-30 km od Prahy"}),X.jsx("span",{className:"font-semibold",children:"449 K"})]}),X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("span",{className:"text-primary font-medium",children:"Objednvka nad 2000 K"}),X.jsx("span",{className:"font-semibold text-primary",children:"Zdarma"})]})]})})]}),X.jsx("div",{className:"mt-8",children:X.jsx(Cw,{size:"lg",asChild:!0,children:X.jsxs(ct,{to:"/delivery",children:["Vce o doruen",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})})})]})]})})}),X.jsx("section",{className:"py-16 bg-muted floral-pattern",children:X.jsxs("div",{className:"container-custom",children:[X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"section-title",children:"N blog o kvtinch"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Pette si nae tipy a rady pro pi o kvtiny a inspirujte se naimi npady."})]}),X.jsx(Cw,{variant:"outline",asChild:!0,className:"mt-4 md:mt-0",children:X.jsxs(ct,{to:"/blog",children:["Vechny lnky",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})})]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m?[...Array(3)].map(((e,t)=>X.jsxs("div",{className:"bg-background rounded-lg shadow-sm overflow-hidden animate-pulse",children:[X.jsx("div",{className:"bg-muted h-48"}),X.jsxs("div",{className:"p-6",children:[X.jsx("div",{className:"bg-muted h-4 rounded mb-2"}),X.jsx("div",{className:"bg-muted h-4 rounded w-3/4 mb-4"}),X.jsx("div",{className:"bg-muted h-3 rounded w-1/2"})]})]},t))):o.map((e=>X.jsx(tR,{post:e,viewMode:"full"},e.id)))})]})}),X.jsx("section",{className:"py-16",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"bg-primary/10 rounded-lg p-8 md:p-12 text-center",children:[X.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Pipraveni objednat krsn kvtiny?"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-8",children:"Prohldnte si n katalog a vyberte si z irok nabdky erstvch kvtin, nebo si vytvote vlastn kytici podle vaich pedstav."}),X.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[X.jsx(Cw,{size:"lg",asChild:!0,children:X.jsx(ct,{to:"/catalog",children:"Prohldnout katalog"})}),X.jsx(Cw,{size:"lg",variant:"outline",asChild:!0,children:X.jsx(ct,{to:"/contact",children:"Kontaktujte ns"})})]})]})})})]})}var oR="Checkbox",[lR,cR]=ee(oR),[dR,uR]=lR(oR);function hR(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:r,disabled:i,form:a,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:u}=e,[h,m]=le({prop:n,defaultProp:r??!1,onChange:l,caller:oR}),[f,p]=lt.useState(null),[g,x]=lt.useState(null),y=lt.useRef(!1),v=!f||(!!a||!!f.closest("form")),b={checked:h,disabled:i,setChecked:m,control:f,setControl:p,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:!wR(r)&&r,isFormControl:v,bubbleInput:g,setBubbleInput:x};return X.jsx(dR,{scope:t,...b,children:bR(u)?u(b):s})}var mR="CheckboxTrigger",fR=lt.forwardRef((({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},r)=>{const{control:i,value:a,disabled:o,checked:l,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:f}=uR(mR,e),p=Fe(r,d),g=lt.useRef(l);return lt.useEffect((()=>{const e=null==i?void 0:i.form;if(e){const t=()=>u(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[i,u]),X.jsx(se.button,{type:"button",role:"checkbox","aria-checked":wR(l)?"mixed":l,"aria-required":c,"data-state":jR(l),"data-disabled":o?"":void 0,disabled:o,value:a,...s,ref:p,onKeyDown:ie(t,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:ie(n,(e=>{u((e=>!!wR(e)||!e)),f&&m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())}))})}));fR.displayName=mR;var pR=lt.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:c,form:d,...u}=e;return X.jsx(hR,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:o,required:a,onCheckedChange:c,name:s,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>X.jsxs(X.Fragment,{children:[X.jsx(fR,{...u,ref:t,__scopeCheckbox:n}),e&&X.jsx(vR,{__scopeCheckbox:n})]})})}));pR.displayName=oR;var gR="CheckboxIndicator",xR=lt.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,i=uR(gR,n);return X.jsx(ae,{present:s||wR(i.checked)||!0===i.checked,children:X.jsx(se.span,{"data-state":jR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})}));xR.displayName=gR;var yR="CheckboxBubbleInput",vR=lt.forwardRef((({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:o,disabled:l,name:c,value:d,form:u,bubbleInput:h,setBubbleInput:m}=uR(yR,e),f=Fe(n,m),p=Ue(i),g=ze(s);lt.useEffect((()=>{const e=h;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,s=!r.current;if(p!==i&&n){const t=new Event("click",{bubbles:s});e.indeterminate=wR(i),n.call(e,!wR(i)&&i),e.dispatchEvent(t)}}),[h,p,i,r]);const x=lt.useRef(!wR(i)&&i);return X.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:o,disabled:l,name:c,value:d,form:u,...t,tabIndex:-1,ref:f,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})}));function bR(e){return"function"==typeof e}function wR(e){return"indeterminate"===e}function jR(e){return wR(e)?"indeterminate":e?"checked":"unchecked"}vR.displayName=yR;const NR=lt.forwardRef((({className:e,...t},n)=>X.jsx(pR,{ref:n,className:Nw("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:X.jsx(xR,{className:Nw("flex items-center justify-center text-current"),children:X.jsx(Uw,{className:"h-4 w-4"})})})));NR.displayName=pR.displayName;var kR=lt.forwardRef(((e,t)=>X.jsx(se.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));kR.displayName="Label";var CR=kR;const SR=Ib("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),TR=lt.forwardRef((({className:e,...t},n)=>X.jsx(CR,{ref:n,className:Nw(SR(),e),...t})));TR.displayName=CR.displayName;var ER="Radio",[AR,IR]=ee(ER),[_R,PR]=AR(ER),DR=lt.forwardRef(((e,t)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:i,disabled:a,value:o="on",onCheck:l,form:c,...d}=e,[u,h]=lt.useState(null),m=Fe(t,(e=>h(e))),f=lt.useRef(!1),p=!u||(c||!!u.closest("form"));return X.jsxs(_R,{scope:n,checked:r,disabled:a,children:[X.jsx(se.button,{type:"button",role:"radio","aria-checked":r,"data-state":LR(r),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:m,onClick:ie(e.onClick,(e=>{r||null==l||l(),p&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))}),p&&X.jsx(OR,{control:u,bubbles:!f.current,name:s,value:o,checked:r,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})}));DR.displayName=ER;var RR="RadioIndicator",MR=lt.forwardRef(((e,t)=>{const{__scopeRadio:n,forceMount:s,...r}=e,i=PR(RR,n);return X.jsx(ae,{present:s||i.checked,children:X.jsx(se.span,{"data-state":LR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})})}));MR.displayName=RR;var OR=lt.forwardRef((({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...r},i)=>{const a=lt.useRef(null),o=Fe(a,i),l=Ue(n),c=ze(t);return lt.useEffect((()=>{const e=a.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&r){const t=new Event("click",{bubbles:s});r.call(e,n),e.dispatchEvent(t)}}),[l,n,s]),X.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function LR(e){return e?"checked":"unchecked"}OR.displayName="RadioBubbleInput";var FR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UR="RadioGroup",[zR,VR]=ee(UR,[te,IR]),BR=te(),qR=IR(),[$R,HR]=zR(UR),KR=lt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:i,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...h}=e,m=BR(n),f=oe(c),[p,g]=le({prop:i,defaultProp:r??null,onChange:u,caller:UR});return X.jsx($R,{scope:n,name:s,required:a,disabled:o,value:p,onValueChange:g,children:X.jsx(ne,{asChild:!0,...m,orientation:l,dir:f,loop:d,children:X.jsx(se.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:f,...h,ref:t})})})}));KR.displayName=UR;var WR="RadioGroupItem",GR=lt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...r}=e,i=HR(WR,n),a=i.disabled||s,o=BR(n),l=qR(n),c=lt.useRef(null),d=Fe(t,c),u=i.value===r.value,h=lt.useRef(!1);return lt.useEffect((()=>{const e=e=>{FR.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),X.jsx(re,{asChild:!0,...o,focusable:!a,active:u,children:X.jsx(DR,{disabled:a,required:i.required,checked:u,...l,...r,name:i.name,ref:d,onCheck:()=>i.onValueChange(r.value),onKeyDown:ie((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:ie(r.onFocus,(()=>{var e;h.current&&(null==(e=c.current)||e.click())}))})})}));GR.displayName=WR;var QR=lt.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,...s}=e,r=qR(n);return X.jsx(MR,{...r,...s,ref:t})}));QR.displayName="RadioGroupIndicator";var YR=KR,XR=GR,JR=QR;const ZR=lt.forwardRef((({className:e,...t},n)=>X.jsx(YR,{className:Nw("grid gap-2",e),...t,ref:n})));ZR.displayName=YR.displayName;const eM=lt.forwardRef((({className:e,...t},n)=>X.jsx(XR,{ref:n,className:Nw("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:X.jsx(JR,{className:"flex items-center justify-center",children:X.jsx(qw,{className:"h-3.5 w-3.5 fill-primary"})})})));function tM(e,[t,n]){return Math.min(n,Math.max(t,e))}eM.displayName=XR.displayName;var nM=["PageUp","PageDown"],sM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},iM="Slider",[aM,oM,lM]=Ve(iM),[cM,dM]=ee(iM,[lM]),[uM,hM]=cM(iM),mM=lt.forwardRef(((e,t)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[s],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:f,...p}=e,g=lt.useRef(new Set),x=lt.useRef(0),y="horizontal"===a?gM:xM,[v=[],b]=le({prop:d,defaultProp:c,onChange:e=>{var t;null==(t=[...g.current][x.current])||t.focus(),u(e)}}),w=lt.useRef(v);function j(e,t,{commit:n}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(i),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-s)/i)*i+s,a),c=tM(o,[s,r]);b(((e=[])=>{const s=function(e=[],t,n){const s=[...e];return s[n]=t,s.sort(((e,t)=>e-t))}(e,c,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map(((t,n)=>e[n+1]-t))}(e);return Math.min(...n)>=t}return!0}(s,l*i)){x.current=s.indexOf(c);const t=String(s)!==String(e);return t&&n&&h(s),t?s:e}return e}))}return X.jsx(uM,{scope:e.__scopeSlider,name:n,disabled:o,min:s,max:r,valueIndexToChangeRef:x,thumbs:g.current,values:v,orientation:a,form:f,children:X.jsx(aM.Provider,{scope:e.__scopeSlider,children:X.jsx(aM.Slot,{scope:e.__scopeSlider,children:X.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...p,ref:t,onPointerDown:ie(p.onPointerDown,(()=>{o||(w.current=v)})),min:s,max:r,inverted:m,onSlideStart:o?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map((e=>Math.abs(e-t))),s=Math.min(...n);return n.indexOf(s)}(v,e);j(e,t)},onSlideMove:o?void 0:function(e){j(e,x.current)},onSlideEnd:o?void 0:function(){const e=w.current[x.current];v[x.current]!==e&&h(v)},onHomeKeyDown:()=>!o&&j(s,0,{commit:!0}),onEndKeyDown:()=>!o&&j(r,v.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){const n=nM.includes(e.key)||e.shiftKey&&sM.includes(e.key)?10:1,s=x.current;j(v[s]+i*n*t,s,{commit:!0})}}})})})})}));mM.displayName=iM;var[fM,pM]=cM(iM,{startEdge:"left",endEdge:"right",size:"width",direction:1}),gM=lt.forwardRef(((e,t)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=lt.useState(null),m=Fe(t,(e=>h(e))),f=lt.useRef(void 0),p=oe(r),g="ltr"===p,x=g&&!i||!g&&i;function y(e){const t=f.current||u.getBoundingClientRect(),r=EM([0,t.width],x?[n,s]:[s,n]);return f.current=t,r(e-t.left)}return X.jsx(fM,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:X.jsx(yM,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=y(e.clientX);null==a||a(t)},onSlideMove:e=>{const t=y(e.clientX);null==o||o(t)},onSlideEnd:()=>{f.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=rM[x?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})})),xM=lt.forwardRef(((e,t)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=e,d=lt.useRef(null),u=Fe(t,d),h=lt.useRef(void 0),m=!r;function f(e){const t=h.current||d.current.getBoundingClientRect(),r=EM([0,t.height],m?[s,n]:[n,s]);return h.current=t,r(e-t.top)}return X.jsx(fM,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:X.jsx(yM,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=f(e.clientY);null==i||i(t)},onSlideMove:e=>{const t=f(e.clientY);null==a||a(t)},onSlideEnd:()=>{h.current=void 0,null==o||o()},onStepKeyDown:e=>{const t=rM[m?"from-bottom":"from-top"].includes(e.key);null==l||l({event:e,direction:t?-1:1})}})})})),yM=lt.forwardRef(((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=e,d=hM(iM,n);return X.jsx(se.span,{...c,ref:t,onKeyDown:ie(e.onKeyDown,(e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):nM.concat(sM).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:ie(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():s(e)})),onPointerMove:ie(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&r(e)})),onPointerUp:ie(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))}))})})),vM="SliderTrack",bM=lt.forwardRef(((e,t)=>{const{__scopeSlider:n,...s}=e,r=hM(vM,n);return X.jsx(se.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:t})}));bM.displayName=vM;var wM="SliderRange",jM=lt.forwardRef(((e,t)=>{const{__scopeSlider:n,...s}=e,r=hM(wM,n),i=pM(wM,n),a=lt.useRef(null),o=Fe(t,a),l=r.values.length,c=r.values.map((e=>TM(e,r.min,r.max))),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return X.jsx(se.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:o,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:u+"%"}})}));jM.displayName=wM;var NM="SliderThumb",kM=lt.forwardRef(((e,t)=>{const n=oM(e.__scopeSlider),[s,r]=lt.useState(null),i=Fe(t,(e=>r(e))),a=lt.useMemo((()=>s?n().findIndex((e=>e.ref.current===s)):-1),[n,s]);return X.jsx(CM,{...e,ref:i,index:a})})),CM=lt.forwardRef(((e,t)=>{const{__scopeSlider:n,index:s,name:r,...i}=e,a=hM(NM,n),o=pM(NM,n),[l,c]=lt.useState(null),d=Fe(t,(e=>c(e))),u=!l||(a.form||!!l.closest("form")),h=ze(l),m=a.values[s],f=void 0===m?0:TM(m,a.min,a.max),p=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,a.values.length),g=null==h?void 0:h[o.size],x=g?function(e,t,n){const s=e/2,r=EM([0,50],[0,s]);return(s-r(t)*n)*n}(g,f,o.direction):0;return lt.useEffect((()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}}),[l,a.thumbs]),X.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${f}% + ${x}px)`},children:[X.jsx(aM.ItemSlot,{scope:e.__scopeSlider,children:X.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:void 0===m?{display:"none"}:e.style,onFocus:ie(e.onFocus,(()=>{a.valueIndexToChangeRef.current=s}))})}),u&&X.jsx(SM,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},s)]})}));kM.displayName=NM;var SM=lt.forwardRef((({__scopeSlider:e,value:t,...n},s)=>{const r=lt.useRef(null),i=Fe(r,s),a=Ue(t);return lt.useEffect((()=>{const e=r.current;if(!e)return;const n=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&s){const n=new Event("input",{bubbles:!0});s.call(e,t),e.dispatchEvent(n)}}),[a,t]),X.jsx(se.input,{style:{display:"none"},...n,ref:i,defaultValue:t})}));function TM(e,t,n){return tM(100/(n-t)*(e-t),[0,100])}function EM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}SM.displayName="RadioBubbleInput";var AM=mM,IM=bM,_M=jM,PM=kM;const DM=lt.forwardRef((({className:e,...t},n)=>X.jsxs(AM,{ref:n,className:Nw("relative flex w-full touch-none select-none items-center",e),...t,children:[X.jsx(IM,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:X.jsx(_M,{className:"absolute h-full bg-primary"})}),X.jsx(PM,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})));DM.displayName=AM.displayName;const RM="categories",MM=async()=>{try{return(await _g(Tp(mv,RM))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}};function OM(){const[e,t]=dt(),n=ut(),s=ht(),[r,i]=lt.useState("grid"),[a,o]=lt.useState([0,2e3]),[l,c]=lt.useState([]),[d,u]=lt.useState([]),[h,m]=lt.useState(!0),f=()=>{const t=n.pathname.split("/");return t.length>2&&"catalog"===t[1]?t[2]:e.get("category")||""};lt.useEffect((()=>{(async()=>{try{m(!0);const e=await ob(),t=await MM();c(e),u(t)}catch(e){}finally{m(!1)}})()}),[]);const p=e=>d.find((t=>t.id===e)),g=e=>{const t=p(e);return t?t.name:e},x=e=>{const t=d.find((t=>t.slug===e));return t?t.name:e},y=f(),v=e.get("sort")||"featured";lt.useEffect((()=>{const n=e.get("category")||"",s=f();if(s&&s!==n){const n=new URLSearchParams(e);n.set("category",s),t(n)}}),[n.pathname,e,t]);const b=(n,r)=>{if("category"===n)s(r?`/catalog/${r}`:"/catalog");else{const s=new URLSearchParams(e);r?s.set(n,r):s.delete(n),t(s)}},w=()=>{s("/catalog"),o([0,2e3])},j=[...l.filter((e=>{if(y&&d.length>0){if((e=>{const t=p(e);return(null==t?void 0:t.slug)||e})(e.category)!==y)return!1}return!(e.price<a[0]||e.price>a[1])}))].sort(((e,t)=>"price-asc"===v?e.price-t.price:"price-desc"===v?t.price-e.price:"name"===v?e.name.localeCompare(t.name):e.featured&&!t.featured?-1:!e.featured&&t.featured?1:0));return h?X.jsx(KP,{children:X.jsx("section",{className:"py-12",children:X.jsx("div",{className:"container-custom text-center",children:X.jsxs("div",{className:"flex justify-center items-center py-32",children:[X.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),X.jsx("span",{className:"ml-3 text-lg",children:"..."})]})})})}):X.jsxs(KP,{children:[X.jsx("section",{className:"bg-muted py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Katalog produkt"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Prohldnte si nai nabdku erstvch kvtin, pokojovch rostlin a drkovch pedmt."})]})}),X.jsx("section",{className:"py-12",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[X.jsx("div",{className:"hidden lg:block w-64 shrink-0",children:X.jsxs("div",{className:"sticky top-24",children:[X.jsxs("div",{className:"flex items-center justify-between mb-6",children:[X.jsx("h2",{className:"font-semibold text-lg",children:"Filtry"}),(y||"featured"!==v||a[0]>0||a[1]<2e3)&&X.jsxs(Cw,{variant:"ghost",size:"sm",onClick:w,children:[X.jsx(Hj,{className:"h-4 w-4 mr-1"}),"Vymazat"]})]}),X.jsxs("div",{className:"mb-6",children:[X.jsx("h3",{className:"font-medium mb-3",children:"Kategorie"}),X.jsx("div",{className:"space-y-2",children:d.map((e=>X.jsxs("div",{className:"flex items-center",children:[X.jsx(NR,{id:`category-${e.id}`,checked:y===e.slug,onCheckedChange:t=>{b("category",t?e.slug:"")}}),X.jsx(TR,{htmlFor:`category-${e.id}`,className:"ml-2 text-sm font-normal cursor-pointer",children:g(e.id)})]},e.id)))})]}),X.jsx(Lk,{className:"my-6"}),X.jsxs("div",{className:"mb-6",children:[X.jsx("h3",{className:"font-medium mb-3",children:"Cena"}),X.jsxs("div",{className:"px-2",children:[X.jsx(DM,{defaultValue:[0,2e3],value:a,max:2e3,step:100,onValueChange:e=>{o(e)},className:"mb-6"}),X.jsxs("div",{className:"flex items-center justify-between text-sm",children:[X.jsxs("span",{children:[a[0]," K"]}),X.jsxs("span",{children:[a[1]," K"]})]})]})]}),X.jsx(Lk,{className:"my-6"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-medium mb-3",children:"adit podle"}),X.jsxs(ZR,{defaultValue:"featured",value:v,onValueChange:e=>b("sort",e),children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"featured",id:"featured"}),X.jsx(TR,{htmlFor:"featured",children:"Doporuen"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"price-asc",id:"price-asc"}),X.jsx(TR,{htmlFor:"price-asc",children:"Cena (nejni)"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"price-desc",id:"price-desc"}),X.jsx(TR,{htmlFor:"price-desc",children:"Cena (nejvy)"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"name",id:"name"}),X.jsx(TR,{htmlFor:"name",children:"Nzev (A-Z)"})]})]})]})]})}),X.jsxs("div",{className:"lg:hidden mb-6",children:[X.jsxs("div",{className:"flex items-center justify-between mb-4",children:[X.jsxs(uk,{children:[X.jsx(hk,{asChild:!0,children:X.jsxs(Cw,{variant:"outline",size:"sm",children:[X.jsx(Jw,{className:"h-4 w-4 mr-2"}),"Filtry"]})}),X.jsx(gk,{side:"left",children:X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex items-center justify-between mb-6",children:[X.jsx("h2",{className:"font-semibold text-lg",children:"Filtry"}),(y||"featured"!==v||a[0]>0||a[1]<2e3)&&X.jsxs(Cw,{variant:"ghost",size:"sm",onClick:w,children:[X.jsx(Hj,{className:"h-4 w-4 mr-1"}),"Vymazat"]})]}),X.jsxs("div",{className:"mb-6",children:[X.jsx("h3",{className:"font-medium mb-3",children:"Kategorie"}),X.jsx("div",{className:"space-y-2",children:d.map((e=>X.jsxs("div",{className:"flex items-center",children:[X.jsx(NR,{id:`mobile-category-${e.id}`,checked:y===e.slug,onCheckedChange:t=>{b("category",t?e.slug:"")}}),X.jsx(TR,{htmlFor:`mobile-category-${e.id}`,className:"ml-2 text-sm font-normal cursor-pointer",children:g(e.id)})]},e.id)))})]}),X.jsx(Lk,{className:"my-6"}),X.jsxs("div",{className:"mb-6",children:[X.jsx("h3",{className:"font-medium mb-3",children:"Cena"}),X.jsxs("div",{className:"px-2",children:[X.jsx(DM,{defaultValue:[0,2e3],value:a,max:2e3,step:100,onValueChange:e=>{o(e)},className:"mb-6"}),X.jsxs("div",{className:"flex items-center justify-between text-sm",children:[X.jsxs("span",{children:[a[0]," K"]}),X.jsxs("span",{children:[a[1]," K"]})]})]})]}),X.jsx(Lk,{className:"my-6"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-medium mb-3",children:"adit podle"}),X.jsxs(ZR,{defaultValue:"featured",value:v,onValueChange:e=>b("sort",e),children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"featured",id:"mobile-featured"}),X.jsx(TR,{htmlFor:"mobile-featured",children:"Doporuen"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"price-asc",id:"mobile-price-asc"}),X.jsx(TR,{htmlFor:"mobile-price-asc",children:"Cena (nejni)"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"price-desc",id:"mobile-price-desc"}),X.jsx(TR,{htmlFor:"mobile-price-desc",children:"Cena (nejvy)"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"name",id:"mobile-name"}),X.jsx(TR,{htmlFor:"mobile-name",children:"Nzev (A-Z)"})]})]})]})]})})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(Cw,{variant:"grid"===r?"default":"outline",size:"icon",onClick:()=>i("grid"),"aria-label":"Grid view",children:X.jsx(nj,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"list"===r?"default":"outline",size:"icon",onClick:()=>i("list"),"aria-label":"List view",children:X.jsx(aj,{className:"h-4 w-4"})})]})]}),(y||"featured"!==v||a[0]>0||a[1]<2e3)&&X.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[x(y),X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>b("category",""),children:X.jsx(Hj,{className:"h-3 w-3"})})]}),(a[0]>0||a[1]<2e3)&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[a[0]," K - ",a[1]," K",X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>o([0,2e3]),children:X.jsx(Hj,{className:"h-3 w-3"})})]}),"featured"!==v&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:["price-asc"===v&&"Cena (nejni)","price-desc"===v&&"Cena (nejvy)","name"===v&&"Nzev (A-Z)",X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>b("sort","featured"),children:X.jsx(Hj,{className:"h-3 w-3"})})]})]})]}),X.jsxs("div",{className:"flex-1",children:[X.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[X.jsxs("p",{className:"text-muted-foreground",children:["Zobrazeno ",j.length," produkt"]}),X.jsx("div",{className:"flex items-center gap-4",children:X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("span",{className:"text-sm",children:"Zobrazen:"}),X.jsx(Cw,{variant:"grid"===r?"default":"outline",size:"icon",onClick:()=>i("grid"),"aria-label":"Grid view",children:X.jsx(nj,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"list"===r?"default":"outline",size:"icon",onClick:()=>i("list"),"aria-label":"List view",children:X.jsx(aj,{className:"h-4 w-4"})})]})})]}),X.jsx("div",{className:"hidden lg:block",children:(y||"featured"!==v||a[0]>0||a[1]<2e3)&&X.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[X.jsx("span",{className:"text-sm text-muted-foreground mr-2 pt-0.5",children:"Aktivn filtry:"}),y&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[x(y),X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>b("category",""),children:X.jsx(Hj,{className:"h-3 w-3"})})]}),(a[0]>0||a[1]<2e3)&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[a[0]," K - ",a[1]," K",X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>o([0,2e3]),children:X.jsx(Hj,{className:"h-3 w-3"})})]}),"featured"!==v&&X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:["price-asc"===v&&"Cena (nejni)","price-desc"===v&&"Cena (nejvy)","name"===v&&"Nzev (A-Z)",X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 ml-1",onClick:()=>b("sort","featured"),children:X.jsx(Hj,{className:"h-3 w-3"})})]})]})}),"grid"===r?X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((e=>X.jsx(GP,{product:e},e.id)))}):X.jsx("div",{className:"space-y-6",children:j.map((e=>X.jsx(Uk,{className:"overflow-hidden border-border card-hover",children:X.jsxs("div",{className:"flex flex-col md:flex-row",children:[X.jsxs("div",{className:"md:w-1/3 relative",children:[X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover aspect-square md:aspect-auto"}),e.featured&&X.jsx("div",{className:"absolute top-3 right-3",children:X.jsx(VN,{className:"bg-primary text-primary-foreground",children:"Oblben"})})]}),X.jsxs(qk,{className:"p-6 md:w-2/3 flex flex-col",children:[X.jsx("h3",{className:"font-semibold text-xl mb-2",children:e.name}),X.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),X.jsxs("div",{className:"mt-auto flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[X.jsxs("p",{className:"font-semibold text-lg",children:[e.price," K"]}),X.jsxs("div",{className:"flex gap-3",children:[X.jsx(Cw,{variant:"outline",asChild:!0,children:X.jsx(ct,{to:`/product/${e.id}`,children:"Detail"})}),X.jsx(Cw,{children:"Do koku"})]})]})]})]})},e.id)))}),0===j.length&&X.jsxs("div",{className:"text-center py-12",children:[X.jsx("h3",{className:"text-lg font-semibold mb-2",children:"dn produkty nenalezeny"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Zkuste upravit filtry nebo vyhledat jin produkty."}),X.jsx(Cw,{onClick:w,children:"Vymazat filtry"})]})]})]})})})]})}var LM=(e=>(e.FLOWER="flower",e.WRAPPING="wrapping",e.ADDITION="addition",e))(LM||{});const FM="bouquetFlowers",UM=lt.forwardRef((({className:e,...t},n)=>X.jsx("textarea",{className:Nw("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t})));UM.displayName="Textarea";const zM=[{id:"1",name:"Re",price:35,imageUrl:"/assets/rose-CRYM1O7t.png"},{id:"2",name:"Tulipn",price:25,imageUrl:"/assets/tulip-B8gfOjS9.png"},{id:"3",name:"Pivoka",price:45,imageUrl:"/assets/peony-DJ3evmrr.png"},{id:"4",name:"Slunenice",price:30,imageUrl:"/assets/sunflower-DoJIbGOZ.png"},{id:"5",name:"Lilie",price:40,imageUrl:"/assets/lily-qiWPgNIG.png"},{id:"6",name:"Gerbera",price:28,imageUrl:"/assets/gerbera-B7d-LqUS.png"},{id:"7",name:"Chryzantma",price:32,imageUrl:"/assets/chrysanthemum-CH860pQy.png"},{id:"8",name:"Eustoma",price:38,imageUrl:"/assets/eustoma-D6Z2TJV7.png"}],VM=[{id:"1",name:"Prodn papr",price:50,imageUrl:"/assets/natural-paper-D9dM5QIp.png"},{id:"2",name:"Luxusn papr",price:80,imageUrl:"/assets/luxury-paper-x_4XI6V-.png"},{id:"3",name:"Jutov ltka",price:70,imageUrl:"/assets/jute-fabric-CjKMjqWL.png"},{id:"4",name:"Drkov krabice",price:120,imageUrl:"/assets/gift-box-wrapping-B14mr6e3.png"}],BM=[{id:"1",name:"okoldov box",price:150,imageUrl:"/assets/chocolate-box-CtxO-_2H.png"},{id:"2",name:"Plyov medvdek",price:200,imageUrl:"/assets/teddy-bear-DKYsiEdU.png"},{id:"3",name:"Lhev vna",price:250,imageUrl:"/assets/wine-bottle-DXeB2tuC.png"},{id:"4",name:"Vonn svka",price:180,imageUrl:"/assets/scented-candle-D-thkz_p.png"}];function qM(){const[e,t]=lt.useState(1),[n,s]=lt.useState([]),[r,i]=lt.useState(""),[a,o]=lt.useState([]),[l,c]=lt.useState(""),{addToCart:d}=jb(),[u,h]=lt.useState([]),[m,f]=lt.useState(!0);lt.useEffect((()=>{(async()=>{try{f(!0);const e=await(async()=>{try{const e=ug(Tp(mv,FM),mg("forCustomBouquet","==",!0)),t=await _g(e),n=ug(Tp(mv,"flowers")),s=await _g(n);return[...t.docs,...s.docs].map((e=>{var t;const n=e.data();let s=n.name;"string"==typeof s&&(s={cs:s});const r=void 0===n.forCustomBouquet||n.forCustomBouquet,i=void 0!==n.itemType?n.itemType:"flower";return{id:e.id,...n,name:s,forCustomBouquet:r,itemType:i,createdAt:(null==(t=n.createdAt)?void 0:t.toDate())||new Date}}))}catch(e){throw e}})();h(e)}catch(e){}finally{f(!1)}})()}),[]);const p=()=>{let e=0;if(n.forEach((t=>{const n=u.find((e=>e.id===t.id&&e.itemType===LM.FLOWER));if(n)e+=n.price*t.quantity;else{const n=zM.find((e=>e.id===t.id));n&&(e+=n.price*t.quantity)}})),r){const t=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING));if(t)e+=t.price;else{const t=VM.find((e=>e.id===r));t&&(e+=t.price)}}return a.forEach((t=>{const n=u.find((e=>e.id===t.id&&e.itemType===LM.ADDITION));if(n)e+=n.price*t.quantity;else{const n=BM.find((e=>e.id===t.id));n&&(e+=n.price*t.quantity)}})),e},g=(e,t)=>{if(0===t)s((t=>t.filter((t=>t.id!==e))));else{const r=n.findIndex((t=>t.id===e));if(r>=0){const e=[...n];e[r].quantity=t,s(e)}else s((n=>[...n,{id:e,quantity:t}]))}},x=(e,t)=>{if(0===t)o((t=>t.filter((t=>t.id!==e))));else{const n=a.findIndex((t=>t.id===e));if(n>=0){const e=[...a];e[n].quantity=t,o(e)}else o((n=>[...n,{id:e,quantity:t}]))}},y=e=>{const t=n.find((t=>t.id===e));return t?t.quantity:0},v=e=>{const t=a.find((t=>t.id===e));return t?t.quantity:0},b=e=>{switch(e){case 1:return n.length>0;case 2:return""!==r;case 3:return!0;default:return!1}};return X.jsxs(KP,{children:[X.jsx("section",{className:"bg-muted py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Vytvote si vlastn kytici"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Navrhnte si kytici podle vaich pedstav. Vyberte si kvtiny, barvy a styl, a my vytvome jedinenou kytici pesn podle vaich pn."})]})}),X.jsx("section",{className:"py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("div",{className:"mb-10",children:X.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:X.jsx(Zw,{className:"h-5 w-5"})}),X.jsx("span",{className:"text-sm mt-2",children:"Kvtiny"})]}),X.jsx("div",{className:"h-1 flex-1 mx-2 "+(e>=2?"bg-primary":"bg-muted")}),X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:X.jsx(vj,{className:"h-5 w-5"})}),X.jsx("span",{className:"text-sm mt-2",children:"Balen"})]}),X.jsx("div",{className:"h-1 flex-1 mx-2 "+(e>=3?"bg-primary":"bg-muted")}),X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e>=3?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:X.jsx(pj,{className:"h-5 w-5"})}),X.jsx("span",{className:"text-sm mt-2",children:"Doplky"})]}),X.jsx("div",{className:"h-1 flex-1 mx-2 "+(e>=4?"bg-primary":"bg-muted")}),X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e>=4?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:X.jsx(Uw,{className:"h-5 w-5"})}),X.jsx("span",{className:"text-sm mt-2",children:"Shrnut"})]})]})}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[X.jsxs("div",{className:"lg:col-span-2",children:[1===e&&X.jsxs("div",{className:"animate-fade-in",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Vyberte kvtiny"}),X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m?X.jsxs("div",{className:"flex justify-center items-center py-12 col-span-3",children:[X.jsx("div",{className:"animate-spin mr-2 h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),X.jsx("span",{children:"Natn..."})]}):0===u.filter((e=>e.itemType===LM.FLOWER)).length?X.jsx("div",{className:"text-center py-12 col-span-3",children:X.jsx("p",{className:"text-muted-foreground",children:"V souasn dob nejsou k dispozici dn kvtiny."})}):u.filter((e=>e.itemType===LM.FLOWER)).map((e=>X.jsxs(Uk,{className:"overflow-hidden border "+(n.some((t=>t.id===e.id))?"border-primary":"border-border"),children:[X.jsx("div",{className:"aspect-square overflow-hidden",children:X.jsx("img",{src:e.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(e.name.cs||"")}`,alt:e.name.cs||"",className:"w-full h-full object-cover"})}),X.jsxs(qk,{className:"p-4",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("h3",{className:"font-medium",children:e.name.cs||""}),X.jsxs("span",{children:[e.price," K/ks"]})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>g(e.id,Math.max(0,y(e.id)-1)),disabled:0===y(e.id),children:"-"}),X.jsx("span",{className:"mx-3 min-w-8 text-center",children:y(e.id)}),X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>g(e.id,y(e.id)+1),children:"+"})]})]})]},e.id)))})]}),2===e&&X.jsxs("div",{className:"animate-fade-in",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Vyberte balen"}),X.jsx(ZR,{value:r,onValueChange:i,children:X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m?X.jsxs("div",{className:"flex justify-center items-center py-12 col-span-2",children:[X.jsx("div",{className:"animate-spin mr-2 h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),X.jsx("span",{children:"Natn..."})]}):0===u.filter((e=>e.itemType===LM.WRAPPING)).length?X.jsx("div",{className:"text-center py-12 col-span-2",children:X.jsx("p",{className:"text-muted-foreground",children:"V souasn dob nejsou k dispozici dn monosti balen."})}):u.filter((e=>e.itemType===LM.WRAPPING)).map((e=>X.jsxs("div",{children:[X.jsx(eM,{value:e.id,id:`wrapping-${e.id}`,className:"sr-only"}),X.jsx(TR,{htmlFor:`wrapping-${e.id}`,className:"cursor-pointer block h-full "+(r===e.id?"ring-2 ring-primary":""),children:X.jsxs(Uk,{className:"overflow-hidden h-full",children:[X.jsx("div",{className:"aspect-video overflow-hidden",children:X.jsx("img",{src:e.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(e.name.cs||"")}`,alt:e.name.cs||"",className:"w-full h-full object-cover"})}),X.jsx(qk,{className:"p-4",children:X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h3",{className:"font-medium",children:e.name.cs||""}),X.jsxs("span",{children:[e.price," K"]})]})})]})})]},e.id)))})})]}),3===e&&X.jsxs("div",{className:"animate-fade-in",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Pidejte doplky a vzkaz"}),X.jsxs(ak,{defaultValue:"items",children:[X.jsxs(ok,{className:"mb-6",children:[X.jsx(lk,{value:"items",children:"Doplky"}),X.jsx(lk,{value:"message",children:"Vzkaz"})]}),X.jsx(ck,{value:"items",children:X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:m?X.jsxs("div",{className:"flex justify-center items-center py-12 col-span-2",children:[X.jsx("div",{className:"animate-spin mr-2 h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),X.jsx("span",{children:"Natn..."})]}):0===u.filter((e=>e.itemType===LM.ADDITION)).length?X.jsx("div",{className:"text-center py-12 col-span-2",children:X.jsx("p",{className:"text-muted-foreground",children:"V souasn dob nejsou k dispozici dn doplky."})}):u.filter((e=>e.itemType===LM.ADDITION)).map((e=>X.jsxs(Uk,{className:"overflow-hidden border "+(a.some((t=>t.id===e.id))?"border-primary":"border-border"),children:[X.jsx("div",{className:"aspect-video overflow-hidden",children:X.jsx("img",{src:e.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(e.name.cs||"")}`,alt:e.name.cs||"",className:"w-full h-full object-cover"})}),X.jsxs(qk,{className:"p-4",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("h3",{className:"font-medium",children:e.name.cs||""}),X.jsxs("span",{children:[e.price," K"]})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>x(e.id,Math.max(0,v(e.id)-1)),disabled:0===v(e.id),children:"-"}),X.jsx("span",{className:"mx-3 min-w-8 text-center",children:v(e.id)}),X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>x(e.id,v(e.id)+1),children:"+"})]})]})]},e.id)))})}),X.jsx(ck,{value:"message",children:X.jsx("div",{className:"space-y-4",children:X.jsxs("div",{children:[X.jsx(TR,{htmlFor:"message",children:"Pidat vzkaz ke kytici"}),X.jsx(UM,{id:"message",placeholder:"Napite svj vzkaz...",value:l,onChange:e=>c(e.target.value),className:"mt-2",rows:5})]})})})]})]}),4===e&&X.jsxs("div",{className:"animate-fade-in",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Shrnut objednvky"}),X.jsx(Uk,{className:"mb-6",children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Vybran kvtiny"}),n.length>0?X.jsx("div",{className:"space-y-3",children:n.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.FLOWER)),n=t?null:zM.find((t=>t.id===e.id));return t?X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:X.jsx("img",{src:t.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(t.name.cs||"")}`,alt:t.name.cs||"",className:"w-full h-full object-cover"})}),X.jsxs("span",{children:[t.name.cs||"","  ",e.quantity]})]}),X.jsxs("span",{children:[t.price*e.quantity," K"]})]},t.id):n?X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:X.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"})}),X.jsxs("span",{children:[n.name,"  ",e.quantity]})]}),X.jsxs("span",{children:[n.price*e.quantity," K"]})]},n.id):null}))}):X.jsx("p",{className:"text-muted-foreground",children:"dn kvtiny nebyly vybrny"}),X.jsx(Lk,{className:"my-4"}),X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Balen"}),r?X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:(()=>{const e=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING)),t=e?null:VM.find((e=>e.id===r));return e?X.jsx("img",{src:e.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(e.name.cs||"")}`,alt:e.name.cs||"",className:"w-full h-full object-cover"}):t?X.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}):null})()}),X.jsx("span",{children:(()=>{const e=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING)),t=e?null:VM.find((e=>e.id===r));return e?e.name.cs||"":t?t.name:""})()})]}),X.jsx("span",{children:(()=>{const e=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING)),t=e?null:VM.find((e=>e.id===r));return e?`${e.price} K`:t?`${t.price} K`:""})()})]}):X.jsx("p",{className:"text-muted-foreground",children:"dn balen nebylo vybrno"}),a.length>0&&X.jsxs(X.Fragment,{children:[X.jsx(Lk,{className:"my-4"}),X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Doplky"}),X.jsx("div",{className:"space-y-3",children:a.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.ADDITION)),n=t?null:BM.find((t=>t.id===e.id));return t?X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:X.jsx("img",{src:t.imageUrl||`https://via.placeholder.com/300?text=${encodeURIComponent(t.name.cs||"")}`,alt:t.name.cs||"",className:"w-full h-full object-cover"})}),X.jsxs("span",{children:[t.name.cs||"","  ",e.quantity]})]}),X.jsxs("span",{children:[t.price*e.quantity," K"]})]},t.id):n?X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden",children:X.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"})}),X.jsxs("span",{children:[n.name,"  ",e.quantity]})]}),X.jsxs("span",{children:[n.price*e.quantity," K"]})]},n.id):null}))})]}),l&&X.jsxs(X.Fragment,{children:[X.jsx(Lk,{className:"my-4"}),X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Vzkaz"}),X.jsxs("p",{className:"italic",children:['"',l,'"']})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[X.jsx("span",{children:"Celkov cena"}),X.jsxs("span",{children:[p()," K"]})]})]})}),X.jsx(Cw,{size:"lg",className:"w-full",onClick:async()=>{const e={id:Date.now().toString(),flowers:n.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.FLOWER)),n=t?null:zM.find((t=>t.id===e.id));return{id:e.id,name:t?t.name.cs:n?n.name:"",price:t?t.price:n?n.price:0,quantity:e.quantity,imageUrl:t?t.imageUrl:n?n.imageUrl:"",itemType:LM.FLOWER}})),wrapping:(()=>{if(!r)return null;const e=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING)),t=e?null:VM.find((e=>e.id===r));return e||t?{id:r,name:e?e.name.cs:t?t.name:"",price:e?e.price:t?t.price:0,imageUrl:e?e.imageUrl:t?t.imageUrl:"",itemType:LM.WRAPPING}:null})(),additionalItems:a.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.ADDITION)),n=t?null:BM.find((t=>t.id===e.id));return{id:e.id,name:t?t.name.cs:n?n.name:"",price:t?t.price:n?n.price:0,quantity:e.quantity,imageUrl:t?t.imageUrl:n?n.imageUrl:"",itemType:LM.ADDITION}})),message:l,totalPrice:p()},t=e.flowers[0],s=(null==t?void 0:t.imageUrl)||"";try{await d({id:e.id,name:"Vlastn kytice",price:e.totalPrice,imageUrl:s}),Pt.success("Kytice byla pidna do koku!",{description:`Celkov cena: ${e.totalPrice} K`})}catch(i){Pt.error("Chyba pi pidvn do koku")}},children:"Pidat do koku"})]}),X.jsxs("div",{className:"flex justify-between mt-8",children:[e>1?X.jsxs(Cw,{variant:"outline",onClick:()=>{e>1&&t(e-1)},children:[X.jsx(_w,{className:"mr-2 h-4 w-4"}),"Zpt"]}):X.jsx("div",{}),e<4&&X.jsxs(Cw,{onClick:()=>{e<4&&b(e)&&t(e+1)},disabled:!b(e),children:["Dal",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})]})]}),X.jsx("div",{className:"lg:col-span-1",children:X.jsx("div",{className:"sticky top-24",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Shrnut"}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Vybran kvtiny"}),n.length>0?X.jsx("ul",{className:"space-y-1",children:n.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.FLOWER)),n=t?null:zM.find((t=>t.id===e.id));return t?X.jsxs("li",{className:"flex justify-between text-sm",children:[X.jsxs("span",{children:[t.name.cs||"","  ",e.quantity]}),X.jsxs("span",{children:[t.price*e.quantity," K"]})]},t.id):n?X.jsxs("li",{className:"flex justify-between text-sm",children:[X.jsxs("span",{children:[n.name,"  ",e.quantity]}),X.jsxs("span",{children:[n.price*e.quantity," K"]})]},n.id):null}))}):X.jsx("p",{className:"text-sm text-muted-foreground",children:"dn kvtiny nebyly vybrny"})]}),X.jsxs("div",{children:[X.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Balen"}),r?X.jsx("div",{className:"flex justify-between text-sm",children:(()=>{const e=u.find((e=>e.id===r&&e.itemType===LM.WRAPPING)),t=e?null:VM.find((e=>e.id===r));return e?X.jsxs(X.Fragment,{children:[X.jsx("span",{children:e.name.cs||""}),X.jsxs("span",{children:[e.price," K"]})]}):t?X.jsxs(X.Fragment,{children:[X.jsx("span",{children:t.name}),X.jsxs("span",{children:[t.price," K"]})]}):null})()}):X.jsx("p",{className:"text-sm text-muted-foreground",children:"dn balen nebylo vybrno"})]}),a.length>0&&X.jsxs("div",{children:[X.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Doplky"}),X.jsx("ul",{className:"space-y-1",children:a.map((e=>{const t=u.find((t=>t.id===e.id&&t.itemType===LM.ADDITION)),n=t?null:BM.find((t=>t.id===e.id));return t?X.jsxs("li",{className:"flex justify-between text-sm",children:[X.jsxs("span",{children:[t.name.cs||"","  ",e.quantity]}),X.jsxs("span",{children:[t.price*e.quantity," K"]})]},t.id):n?X.jsxs("li",{className:"flex justify-between text-sm",children:[X.jsxs("span",{children:[n.name,"  ",e.quantity]}),X.jsxs("span",{children:[n.price*e.quantity," K"]})]},n.id):null}))})]}),l&&X.jsxs("div",{children:[X.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Vzkaz"}),X.jsx("p",{className:"text-sm italic truncate",children:l})]}),X.jsx(Lk,{}),X.jsxs("div",{className:"flex justify-between font-semibold",children:[X.jsx("span",{children:"Celkov cena"}),X.jsxs("span",{children:[p()," K"]})]})]})]})})})})]})]})})]})}const $M=(e={})=>{const{publishedOnly:t=!0,limit:n,realTime:s=!0}=e,[r,i]=lt.useState([]),[a,o]=lt.useState(!0),[l,c]=lt.useState(null),d=lt.useCallback((()=>{const e=[];return e.push(gg("createdAt","desc")),n&&e.push(yg(n)),ug(Tp(mv,"blogPosts"),...e)}),[n]),u=lt.useCallback((async()=>{try{o(!0);const e=d(),n=(await _g(e)).docs.map((e=>{var t,n;const s=e.data();return{id:e.id,...s,publishedAt:(null==(t=s.publishedAt)?void 0:t.toDate())||null,createdAt:(null==(n=s.createdAt)?void 0:n.toDate())||null}})),s=t?n.filter((e=>null!==e.publishedAt)):n;i(s),c(null)}catch(e){c("  ")}finally{o(!1)}}),[d,t]),h=lt.useCallback((()=>{u()}),[u]);return lt.useEffect((()=>{let e=null;if(s)try{const n=d();e=function(e,...t){var n,s,r;e=ss(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Pp(t[a])||(i=t[a],a++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Pp(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),t[a+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let l,c,d;if(e instanceof Cp)c=vp(e.firestore,Dp),d=kd(e._key.path),l={next:n=>{t[a]&&t[a](Lg(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=vp(e,kp);c=vp(n.firestore,Dp),d=n._query;const s=new Ig(c);l={next:e=>{t[a]&&t[a](new Tg(c,s,n,e))},error:t[a+1],complete:t[a+2]},lg(e._query)}return function(e,t,n,s){const r=new ap(s),i=new Tf(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>bf(await hp(e),i))),()=>{r.yu(),e.asyncQueue.enqueueAndForget((async()=>wf(await hp(e),i)))}}(Rp(c),d,o,l)}(n,(e=>{const n=e.docs.map((e=>{var t,n;const s=e.data();return{id:e.id,...s,publishedAt:(null==(t=s.publishedAt)?void 0:t.toDate())||null,createdAt:(null==(n=s.createdAt)?void 0:n.toDate())||null}})),s=t?n.filter((e=>null!==e.publishedAt)):n;i(s),o(!1),c(null)}),(e=>{u()}))}catch(n){u()}else u();return()=>{e&&e()}}),[t,n,s,d,u]),{posts:r,loading:a,error:l,refreshPosts:h}};function HM(){const[e,t]=lt.useState(""),[n,s]=lt.useState(null),[r,i]=lt.useState([]),[a,o]=lt.useState("full"),{posts:l,loading:c}=$M({publishedOnly:!0,realTime:!0});lt.useEffect((()=>{(async()=>{try{const e=await pb();i(e)}catch(e){}})()}),[]);const d=l.filter((t=>{var s;const r=t.title.toLowerCase().includes(e.toLowerCase())||t.excerpt.toLowerCase().includes(e.toLowerCase()),i=!n||(null==(s=t.tags)?void 0:s.includes(n));return r&&i}));return X.jsxs(KP,{children:[X.jsx("section",{className:"bg-muted py-12",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-end gap-4",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Blog o kvtinch"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Pette si nae tipy a rady pro pi o kvtiny a inspirujte se naimi npady."})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("span",{className:"text-sm text-muted-foreground hidden sm:block",children:"Zobrazen:"}),X.jsx(Cw,{variant:"outline",size:"sm",onClick:()=>o("compact"===a?"full":"compact"),className:"flex items-center gap-2",title:"compact"===a?"Pepnout na pln reim":"Pepnout na kompaktn reim",children:"compact"===a?X.jsxs(X.Fragment,{children:[X.jsx(nj,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:"Kompaktn"})]}):X.jsxs(X.Fragment,{children:[X.jsx(cj,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:"Pln"})]})})]})]})})}),X.jsx("section",{className:"py-12",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[X.jsx("div",{className:"md:col-span-2 space-y-8",children:c?X.jsxs("div",{className:"flex justify-center items-center py-20",children:[X.jsx(dj,{className:"h-10 w-10 animate-spin text-primary"}),X.jsx("span",{className:"ml-4 text-lg",children:"Natn lnk..."})]}):X.jsxs(X.Fragment,{children:[(e||n)&&X.jsxs("div",{className:"mb-6",children:[X.jsxs("h2",{className:"text-xl font-semibold mb-2",children:[e&&n&&`Vsledky pro "${e}" v kategorii "${n}"`,e&&!n&&`Vsledky pro "${e}"`,!e&&n&&`lnky v kategorii "${n}"`]}),X.jsxs("p",{className:"text-muted-foreground",children:["Nalezeno ",d.length," lnk"]})]}),d.length>0?d.map(((e,t)=>X.jsx("div",{className:"animate-fade-in",style:{animationDelay:100*t+"ms"},children:X.jsx(tR,{post:e,viewMode:a})},e.id))):X.jsxs("div",{className:"text-center py-12",children:[X.jsx("h3",{className:"text-lg font-semibold mb-2",children:"dn lnky nenalezeny"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Zkuste upravit vyhledvn nebo vybrat jinou kategorii."}),X.jsx(Cw,{onClick:()=>{t(""),s(null)},children:"Zobrazit vechny lnky"})]})]})}),X.jsx("div",{className:"md:col-span-1",children:X.jsxs("div",{className:"sticky top-24 space-y-8",children:[X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Hledat"}),X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{placeholder:"Hledat lnky...",className:"pl-10",value:e,onChange:e=>t(e.target.value)})]})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Kategorie"}),c?X.jsx("div",{className:"flex justify-center py-4",children:X.jsx(dj,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):X.jsxs("div",{className:"flex flex-wrap gap-2",children:[X.jsx(Cw,{variant:null===n?"default":"secondary",className:"cursor-pointer",onClick:()=>s(null),children:"Vechny"}),r.map((e=>X.jsx(Cw,{variant:n===e?"default":"secondary",className:"cursor-pointer",onClick:()=>s(n===e?null:e),children:e},e)))]})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Nejnovj lnky"}),c?X.jsx("div",{className:"flex justify-center py-4",children:X.jsx(dj,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):X.jsx("div",{className:"space-y-4",children:l.slice(0,3).map((e=>X.jsxs(ct,{to:`/blog/${e.id}`,className:"flex gap-3 group",children:[X.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden shrink-0",children:X.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),X.jsxs("div",{children:[X.jsx("h4",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:e.title}),X.jsx("p",{className:"text-xs text-muted-foreground",children:e.publishedAt?qD(e.publishedAt,"dd.MM.yyyy",{locale:eR}):qD(e.createdAt,"dd.MM.yyyy",{locale:eR})})]})]},e.id)))})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Odbr novinek"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:"Pihlaste se k odbru a dostvejte nejnovj lnky pmo do va e-mailov schrnky."}),X.jsxs("div",{className:"space-y-3",children:[X.jsx(dk,{placeholder:"V e-mail",type:"email"}),X.jsx(Cw,{className:"w-full",children:"Odebrat"})]})]})})]})})]})})})]})}const KM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GM={};function QM(e,t){return(GM.jsx?WM:KM).test(e)}const YM=/[ \t\n\f\r]/g;function XM(e){return""===e.replace(YM,"")}class JM{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function ZM(e,t){const n={},s={};for(const r of e)Object.assign(n,r.property),Object.assign(s,r.normal);return new JM(n,s,t)}function eO(e){return e.toLowerCase()}JM.prototype.normal={},JM.prototype.property={},JM.prototype.space=void 0;class tO{constructor(e,t){this.attribute=t,this.property=e}}tO.prototype.attribute="",tO.prototype.booleanish=!1,tO.prototype.boolean=!1,tO.prototype.commaOrSpaceSeparated=!1,tO.prototype.commaSeparated=!1,tO.prototype.defined=!1,tO.prototype.mustUseProperty=!1,tO.prototype.number=!1,tO.prototype.overloadedBoolean=!1,tO.prototype.property="",tO.prototype.spaceSeparated=!1,tO.prototype.space=void 0;let nO=0;const sO=dO(),rO=dO(),iO=dO(),aO=dO(),oO=dO(),lO=dO(),cO=dO();function dO(){return 2**++nO}const uO=Object.freeze(Object.defineProperty({__proto__:null,boolean:sO,booleanish:rO,commaOrSpaceSeparated:cO,commaSeparated:lO,number:aO,overloadedBoolean:iO,spaceSeparated:oO},Symbol.toStringTag,{value:"Module"})),hO=Object.keys(uO);class mO extends tO{constructor(e,t,n,s){let r=-1;if(super(e,t),fO(this,"space",s),"number"==typeof n)for(;++r<hO.length;){const e=hO[r];fO(this,hO[r],(n&uO[e])===uO[e])}}}function fO(e,t,n){n&&(e[t]=n)}function pO(e){const t={},n={};for(const[s,r]of Object.entries(e.properties)){const i=new mO(s,e.transform(e.attributes||{},s),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(i.mustUseProperty=!0),t[s]=i,n[eO(s)]=s,n[eO(i.attribute)]=s}return new JM(t,n,e.space)}mO.prototype.defined=!0;const gO=pO({properties:{ariaActiveDescendant:null,ariaAtomic:rO,ariaAutoComplete:null,ariaBusy:rO,ariaChecked:rO,ariaColCount:aO,ariaColIndex:aO,ariaColSpan:aO,ariaControls:oO,ariaCurrent:null,ariaDescribedBy:oO,ariaDetails:null,ariaDisabled:rO,ariaDropEffect:oO,ariaErrorMessage:null,ariaExpanded:rO,ariaFlowTo:oO,ariaGrabbed:rO,ariaHasPopup:null,ariaHidden:rO,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oO,ariaLevel:aO,ariaLive:null,ariaModal:rO,ariaMultiLine:rO,ariaMultiSelectable:rO,ariaOrientation:null,ariaOwns:oO,ariaPlaceholder:null,ariaPosInSet:aO,ariaPressed:rO,ariaReadOnly:rO,ariaRelevant:null,ariaRequired:rO,ariaRoleDescription:oO,ariaRowCount:aO,ariaRowIndex:aO,ariaRowSpan:aO,ariaSelected:rO,ariaSetSize:aO,ariaSort:null,ariaValueMax:aO,ariaValueMin:aO,ariaValueNow:aO,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function xO(e,t){return t in e?e[t]:t}function yO(e,t){return xO(e,t.toLowerCase())}const vO=pO({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lO,acceptCharset:oO,accessKey:oO,action:null,allow:null,allowFullScreen:sO,allowPaymentRequest:sO,allowUserMedia:sO,alt:null,as:null,async:sO,autoCapitalize:null,autoComplete:oO,autoFocus:sO,autoPlay:sO,blocking:oO,capture:null,charSet:null,checked:sO,cite:null,className:oO,cols:aO,colSpan:null,content:null,contentEditable:rO,controls:sO,controlsList:oO,coords:aO|lO,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sO,defer:sO,dir:null,dirName:null,disabled:sO,download:iO,draggable:rO,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sO,formTarget:null,headers:oO,height:aO,hidden:sO,high:aO,href:null,hrefLang:null,htmlFor:oO,httpEquiv:oO,id:null,imageSizes:null,imageSrcSet:null,inert:sO,inputMode:null,integrity:null,is:null,isMap:sO,itemId:null,itemProp:oO,itemRef:oO,itemScope:sO,itemType:oO,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sO,low:aO,manifest:null,max:null,maxLength:aO,media:null,method:null,min:null,minLength:aO,multiple:sO,muted:sO,name:null,nonce:null,noModule:sO,noValidate:sO,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sO,optimum:aO,pattern:null,ping:oO,placeholder:null,playsInline:sO,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sO,referrerPolicy:null,rel:oO,required:sO,reversed:sO,rows:aO,rowSpan:aO,sandbox:oO,scope:null,scoped:sO,seamless:sO,selected:sO,shadowRootClonable:sO,shadowRootDelegatesFocus:sO,shadowRootMode:null,shape:null,size:aO,sizes:null,slot:null,span:aO,spellCheck:rO,src:null,srcDoc:null,srcLang:null,srcSet:null,start:aO,step:null,style:null,tabIndex:aO,target:null,title:null,translate:null,type:null,typeMustMatch:sO,useMap:null,value:rO,width:aO,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:oO,axis:null,background:null,bgColor:null,border:aO,borderColor:null,bottomMargin:aO,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sO,declare:sO,event:null,face:null,frame:null,frameBorder:null,hSpace:aO,leftMargin:aO,link:null,longDesc:null,lowSrc:null,marginHeight:aO,marginWidth:aO,noResize:sO,noHref:sO,noShade:sO,noWrap:sO,object:null,profile:null,prompt:null,rev:null,rightMargin:aO,rules:null,scheme:null,scrolling:rO,standby:null,summary:null,text:null,topMargin:aO,valueType:null,version:null,vAlign:null,vLink:null,vSpace:aO,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sO,disableRemotePlayback:sO,prefix:null,property:null,results:aO,security:null,unselectable:null},space:"html",transform:yO}),bO=pO({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cO,accentHeight:aO,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:aO,amplitude:aO,arabicForm:null,ascent:aO,attributeName:null,attributeType:null,azimuth:aO,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:aO,by:null,calcMode:null,capHeight:aO,className:oO,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:aO,diffuseConstant:aO,direction:null,display:null,dur:null,divisor:aO,dominantBaseline:null,download:sO,dx:null,dy:null,edgeMode:null,editable:null,elevation:aO,enableBackground:null,end:null,event:null,exponent:aO,externalResourcesRequired:null,fill:null,fillOpacity:aO,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lO,g2:lO,glyphName:lO,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:aO,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:aO,horizOriginX:aO,horizOriginY:aO,id:null,ideographic:aO,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:aO,k:aO,k1:aO,k2:aO,k3:aO,k4:aO,kernelMatrix:cO,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:aO,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:aO,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:aO,overlineThickness:aO,paintOrder:null,panose1:null,path:null,pathLength:aO,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oO,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:aO,pointsAtY:aO,pointsAtZ:aO,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cO,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cO,rev:cO,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cO,requiredFeatures:cO,requiredFonts:cO,requiredFormats:cO,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:aO,specularExponent:aO,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:aO,strikethroughThickness:aO,string:null,stroke:null,strokeDashArray:cO,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:aO,strokeOpacity:aO,strokeWidth:null,style:null,surfaceScale:aO,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cO,tabIndex:aO,tableValues:null,target:null,targetX:aO,targetY:aO,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cO,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:aO,underlineThickness:aO,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:aO,values:null,vAlphabetic:aO,vMathematical:aO,vectorEffect:null,vHanging:aO,vIdeographic:aO,version:null,vertAdvY:aO,vertOriginX:aO,vertOriginY:aO,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:aO,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xO}),wO=pO({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),jO=pO({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yO}),NO=pO({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),kO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CO=/[A-Z]/g,SO=/-[a-z]/g,TO=/^data[-\w.:]+$/i;function EO(e){return"-"+e.toLowerCase()}function AO(e){return e.charAt(1).toUpperCase()}const IO=ZM([gO,vO,wO,jO,NO],"html"),_O=ZM([gO,bO,wO,jO,NO],"svg");var PO={},DO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,RO=/\n/g,MO=/^\s*/,OO=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,LO=/^:\s*/,FO=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,UO=/^[;\s]*/,zO=/^\s+|\s+$/g,VO="";function BO(e){return e?e.replace(zO,VO):VO}var qO=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PO,"__esModule",{value:!0}),PO.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var s=(0,$O.default)(e),r="function"==typeof t;return s.forEach((function(e){if("declaration"===e.type){var s=e.property,i=e.value;r?t(s,i,e):i&&((n=n||{})[s]=i)}})),n};var $O=qO((function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,s=1;function r(e){var t=e.match(RO);t&&(n+=t.length);var r=e.lastIndexOf("\n");s=~r?e.length-r:s+e.length}function i(){var e={line:n,column:s};return function(t){return t.position=new a(e),c(),t}}function a(e){this.start=e,this.end={line:n,column:s},this.source=t.source}function o(r){var i=new Error(t.source+":"+n+":"+s+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=s,i.source=e,!t.silent)throw i}function l(t){var n=t.exec(e);if(n){var s=n[0];return r(s),e=e.slice(s.length),n}}function c(){l(MO)}function d(e){var t;for(e=e||[];t=u();)!1!==t&&e.push(t);return e}function u(){var t=i();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;VO!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,VO===e.charAt(n-1))return o("End of comment missing");var a=e.slice(2,n-2);return s+=2,r(a),e=e.slice(n),s+=2,t({type:"comment",comment:a})}}function h(){var e=i(),t=l(OO);if(t){if(u(),!l(LO))return o("property missing ':'");var n=l(FO),s=e({type:"declaration",property:BO(t[0].replace(DO,VO)),value:n?BO(n[0].replace(DO,VO)):VO});return l(UO),s}}return a.prototype.content=e,c(),function(){var e,t=[];for(d(t);e=h();)!1!==e&&(t.push(e),d(t));return t}()}));var HO={};Object.defineProperty(HO,"__esModule",{value:!0}),HO.camelCase=void 0;var KO=/^--[a-zA-Z0-9_-]+$/,WO=/-([a-z])/g,GO=/^[^-]+$/,QO=/^-(webkit|moz|ms|o|khtml)-/,YO=/^-(ms)-/,XO=function(e,t){return t.toUpperCase()},JO=function(e,t){return"".concat(t,"-")};HO.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||GO.test(e)||KO.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(YO,JO):e.replace(QO,JO)).replace(WO,XO))};var ZO=(mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(PO),eL=HO;function tL(e,t){var n={};return e&&"string"==typeof e?((0,ZO.default)(e,(function(e,s){e&&s&&(n[(0,eL.camelCase)(e,t)]=s)})),n):n}tL.default=tL;const nL=ft(tL),sL=iL("end"),rL=iL("start");function iL(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function aL(e){return e&&"object"==typeof e?"position"in e||"type"in e?lL(e.position):"start"in e||"end"in e?lL(e):"line"in e||"column"in e?oL(e):"":""}function oL(e){return cL(e&&e.line)+":"+cL(e&&e.column)}function lL(e){return oL(e&&e.start)+"-"+oL(e&&e.end)}function cL(e){return e&&"number"==typeof e?e:1}class dL extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let s="",r={},i=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?s=e:!r.cause&&e&&(i=!0,s=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?r.ruleId=n:(r.source=n.slice(0,e),r.ruleId=n.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){const e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}const a=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=a?a.line:void 0,this.name=aL(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=i&&r.cause&&"string"==typeof r.cause.stack?r.cause.stack:"",this.actual,this.expected,this.note,this.url}}dL.prototype.file="",dL.prototype.name="",dL.prototype.reason="",dL.prototype.message="",dL.prototype.stack="",dL.prototype.column=void 0,dL.prototype.line=void 0,dL.prototype.ancestors=void 0,dL.prototype.cause=void 0,dL.prototype.fatal=void 0,dL.prototype.place=void 0,dL.prototype.ruleId=void 0,dL.prototype.source=void 0;const uL={}.hasOwnProperty,hL=new Map,mL=/[A-Z]/g,fL=new Set(["table","tbody","thead","tfoot","tr"]),pL=new Set(["td","th"]),gL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xL(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=function(e,t){return n;function n(n,s,r,i){const a=Array.isArray(r.children),o=rL(n);return t(s,r,i,a,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");s=function(e,t,n){return s;function s(e,s,r,i){const a=Array.isArray(r.children)?n:t;return i?a(s,r,i):a(s,r)}}(0,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?_O:IO,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=yL(r,e,void 0);return i&&"string"!=typeof i?i:r.create(e,r.Fragment,{children:i||void 0},void 0)}function yL(e,t,n){return"element"===t.type?function(e,t,n){const s=e.schema;let r=s;"svg"===t.tagName.toLowerCase()&&"html"===s.space&&(r=_O,e.schema=r);e.ancestors.push(t);const i=NL(e,t.tagName,!1),a=function(e,t){const n={};let s,r;for(r in t.properties)if("children"!==r&&uL.call(t.properties,r)){const i=jL(e,r,t.properties[r]);if(i){const[r,a]=i;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof a&&pL.has(t.tagName)?s=a:n[r]=a}}if(s){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=s}return n}(e,t);let o=wL(e,t);fL.has(t.tagName)&&(o=o.filter((function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&XM(t.value):XM(t));var t})));return vL(e,a,i,t),bL(a,o),e.ancestors.pop(),e.schema=s,e.create(t,i,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}kL(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const s=e.schema;let r=s;"svg"===t.name&&"html"===s.space&&(r=_O,e.schema=r);e.ancestors.push(t);const i=null===t.name?e.Fragment:NL(e,t.name,!0),a=function(e,t){const n={};for(const s of t.attributes)if("mdxJsxExpressionAttribute"===s.type)if(s.data&&s.data.estree&&e.evaluater){const t=s.data.estree.body[0];t.type;const r=t.expression;r.type;const i=r.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else kL(e,t.position);else{const r=s.name;let i;if(s.value&&"object"==typeof s.value)if(s.value.data&&s.value.data.estree&&e.evaluater){const t=s.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else kL(e,t.position);else i=null===s.value||s.value;n[r]=i}return n}(e,t),o=wL(e,t);return vL(e,a,i,t),bL(a,o),e.ancestors.pop(),e.schema=s,e.create(t,i,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);kL(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const s={};return bL(s,wL(e,t)),e.create(t,e.Fragment,s,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function vL(e,t,n,s){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=s)}function bL(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function wL(e,t){const n=[];let s=-1;const r=e.passKeys?new Map:hL;for(;++s<t.children.length;){const i=t.children[s];let a;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=r.get(e)||0;a=e+"-"+t,r.set(e,t+1)}}const o=yL(e,i,a);void 0!==o&&n.push(o)}return n}function jL(e,t,n){const s=function(e,t){const n=eO(t);let s=t,r=tO;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&TO.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(SO,AO);s="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!SO.test(e)){let n=e.replace(CO,EO);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=mO}return new r(s,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===s.property){let t="object"==typeof n?n:function(e,t){try{return nL(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,s=new dL("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=gL+"#cannot-parse-style-attribute",s}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)uL.call(e,n)&&(t[CL(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&s.space?kO[s.property]||s.property:s.attribute,n]}}function NL(e,t,n){let s;if(n)if(t.includes(".")){const e=t.split(".");let n,r=-1;for(;++r<e.length;){const t=QM(e[r])?{type:"Identifier",name:e[r]}:{type:"Literal",value:e[r]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(r&&"Literal"===t.type),optional:!1}:t}s=n}else s=QM(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else s={type:"Literal",value:t};if("Literal"===s.type){const t=s.value;return uL.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(s);kL(e)}function kL(e,t){const n=new dL("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=gL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CL(e){let t=e.replace(mL,SL);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function SL(e){return"-"+e.toLowerCase()}const TL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EL={};function AL(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return IL(e.children,t,n)}return Array.isArray(e)?IL(e,t,n):""}function IL(e,t,n){const s=[];let r=-1;for(;++r<e.length;)s[r]=AL(e[r],t,n);return s.join("")}const _L=document.createElement("i");function PL(e){const t="&"+e+";";_L.innerHTML=t;const n=_L.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function DL(e,t,n,s){const r=e.length;let i,a=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,s.length<1e4)i=Array.from(s),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<s.length;)i=s.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function RL(e,t){return e.length>0?(DL(e,e.length,0,t),e):t}const ML={}.hasOwnProperty;function OL(e,t){let n;for(n in t){const s=(ML.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let i;if(r)for(i in r){ML.call(s,i)||(s[i]=[]);const e=r[i];LL(s[i],Array.isArray(e)?e:e?[e]:[])}}}function LL(e,t){let n=-1;const s=[];for(;++n<t.length;)("after"===t[n].add?e:s).push(t[n]);DL(e,0,0,s)}function FL(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function UL(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zL=JL(/[A-Za-z]/),VL=JL(/[\dA-Za-z]/),BL=JL(/[#-'*+\--9=?A-Z^-~]/);function qL(e){return null!==e&&(e<32||127===e)}const $L=JL(/\d/),HL=JL(/[\dA-Fa-f]/),KL=JL(/[!-/:-@[-`{-~]/);function WL(e){return null!==e&&e<-2}function GL(e){return null!==e&&(e<0||32===e)}function QL(e){return-2===e||-1===e||32===e}const YL=JL(new RegExp("\\p{P}|\\p{S}","u")),XL=JL(/\s/);function JL(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function ZL(e){const t=[];let n=-1,s=0,r=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(37===i&&VL(e.charCodeAt(n+1))&&VL(e.charCodeAt(n+2)))r=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(a=String.fromCharCode(i,t),r=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(s,n),encodeURIComponent(a)),s=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(s)}function eF(e,t,n,s){const r=s?s-1:Number.POSITIVE_INFINITY;let i=0;return function(s){if(QL(s))return e.enter(n),a(s);return t(s)};function a(s){return QL(s)&&i++<r?(e.consume(s),a):(e.exit(n),t(s))}}const tF={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),eF(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),s(t)}));let n;return t;function s(t){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):WL(t)?(e.consume(t),e.exit("chunkText"),s):(e.consume(t),r)}}};const nF={tokenize:function(e){const t=this,n=[];let s,r,i,a=0;return o;function o(s){if(a<n.length){const r=n[a];return t.containerState=r[1],e.attempt(r[0].continuation,l,c)(s)}return c(s)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&y();const n=t.events.length;let r,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){r=t.events[i][1].end;break}x(a);let o=n;for(;o<t.events.length;)t.events[o][1].end={...r},o++;return DL(t.events,i+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(r){if(a===n.length){if(!s)return h(r);if(s.currentConstruct&&s.currentConstruct.concrete)return f(r);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sF,d,u)(r)}function d(e){return s&&y(),x(a),h(e)}function u(e){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(sF,m,f)(n)}function m(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(s&&y(),x(0),void e.consume(n)):(s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:r}),p(n))}function p(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):WL(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,o):(e.consume(n),p)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=r,r&&(r.next=e),r=e,s.defineSkip(e.start),s.write(o),t.parser.lazy[e.start.line]){let e=s.events.length;for(;e--;)if(s.events[e][1].start.offset<i&&(!s.events[e][1].end||s.events[e][1].end.offset>i))return;const n=t.events.length;let r,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(r){o=t.events[l][1].end;break}r=!0}for(x(a),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;DL(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function x(s){let r=n.length;for(;r-- >s;){const s=n[r];t.containerState=s[1],s[0].exit.call(t,e)}n.length=s}function y(){s.write([null]),r=void 0,s=void 0,t.containerState._closeFlow=void 0}}},sF={tokenize:function(e,t,n){return eF(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function rF(e){return null===e||GL(e)||XL(e)?1:YL(e)?2:void 0}function iF(e,t,n){const s=[];let r=-1;for(;++r<e.length;){const i=e[r].resolveAll;i&&!s.includes(i)&&(t=i(t,n),s.push(i))}return t}const aF={name:"attention",resolveAll:function(e,t){let n,s,r,i,a,o,l,c,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close)for(n=d;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;const u={...e[n][1].end},h={...e[d][1].start};oF(u,-o),oF(h,o),i={type:o>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},a={type:o>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:h},r={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[d][1].start}},s={type:o>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[n][1].end={...i.start},e[d][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=RL(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=RL(l,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",r,t]]),l=RL(l,iF(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),l=RL(l,[["exit",r,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[d][1].end.offset-e[d][1].start.offset?(c=2,l=RL(l,[["enter",e[d][1],t],["exit",e[d][1],t]])):c=0,DL(e,n-1,d-n+3,l),d=n+l.length-c-2;break}d=-1;for(;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,r=rF(s);let i;return function(t){return i=t,e.enter("attentionSequence"),a(t)};function a(o){if(o===i)return e.consume(o),a;const l=e.exit("attentionSequence"),c=rF(o),d=!c||2===c&&r||n.includes(o),u=!r||2===r&&c||n.includes(s);return l._open=Boolean(42===i?d:d&&(r||!u)),l._close=Boolean(42===i?u:u&&(c||!d)),t(o)}}};function oF(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lF={name:"autolink",tokenize:function(e,t,n){let s=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return zL(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||VL(e)?(s=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),s=0,o):(43===t||45===t||46===t||VL(t))&&s++<32?(e.consume(t),a):(s=0,l(t))}function o(s){return 62===s?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(s),e.exit("autolinkMarker"),e.exit("autolink"),t):null===s||32===s||60===s||qL(s)?n(s):(e.consume(s),o)}function l(t){return 64===t?(e.consume(t),c):BL(t)?(e.consume(t),l):n(t)}function c(e){return VL(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),s=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||VL(t))&&s++<63){const n=45===t?u:d;return e.consume(t),n}return n(t)}}};const cF={partial:!0,tokenize:function(e,t,n){return function(t){return QL(t)?eF(e,s,"linePrefix")(t):s(t)};function s(e){return null===e||WL(e)?t(e):n(e)}}};const dF={continuation:{tokenize:function(e,t,n){const s=this;return function(t){if(QL(t))return eF(e,r,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return r(t)};function r(s){return e.attempt(dF,t,n)(s)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const s=this;return function(t){if(62===t){const n=s.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return QL(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const uF={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),s};function s(s){return KL(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}};const hF={name:"characterReference",tokenize:function(e,t,n){const s=this;let r,i,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,i=VL,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=HL,c):(e.enter("characterReferenceValue"),r=7,i=$L,c(t))}function c(o){if(59===o&&a){const r=e.exit("characterReferenceValue");return i!==VL||PL(s.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&a++<r?(e.consume(o),c):n(o)}}};const mF={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}},fF={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const s=this,r={partial:!0,tokenize:function(e,t,n){let r=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),QL(t)?eF(e,c,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),d(t)):n(t)}function d(t){return t===i?(r++,e.consume(t),d):r>=o?(e.exit("codeFencedFenceSequence"),QL(t)?eF(e,u,"whitespace")(t):u(t)):n(t)}function u(s){return null===s||WL(s)?(e.exit("codeFencedFence"),t(s)):n(s)}}};let i,a=0,o=0;return function(t){return function(t){const n=s.events[s.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),QL(t)?eF(e,c,"whitespace")(t):c(t))}function c(n){return null===n||WL(n)?(e.exit("codeFencedFence"),s.interrupt?t(n):e.check(mF,m,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return null===t||WL(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):QL(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),eF(e,u,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),d)}function u(t){return null===t||WL(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||WL(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),h)}function m(t){return e.attempt(r,y,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),p}function p(t){return a>0&&QL(t)?eF(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||WL(t)?e.check(mF,m,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||WL(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function y(n){return e.exit("codeFenced"),t(n)}}};const pF={name:"codeIndented",tokenize:function(e,t,n){const s=this;return function(t){return e.enter("codeIndented"),eF(e,r,"linePrefix",5)(t)};function r(e){const t=s.events[s.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?o(t):WL(t)?e.attempt(gF,i,o)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||WL(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),a)}function o(n){return e.exit("codeIndented"),t(n)}}},gF={partial:!0,tokenize:function(e,t,n){const s=this;return r;function r(t){return s.parser.lazy[s.now().line]?n(t):WL(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):eF(e,i,"linePrefix",5)(t)}function i(e){const i=s.events[s.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):WL(e)?r(e):n(e)}}};const xF={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,s=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[s][1].type&&"space"!==e[s][1].type))for(t=r;++t<s;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[s][1].type="codeTextPadding",r+=2,s-=2;break}t=r-1,s++;for(;++t<=s;)void 0===n?t!==s&&"lineEnding"!==e[t][1].type&&(n=t):t!==s&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),s-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let s,r,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),i++,a):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(r=e.enter("codeTextSequence"),s=0,c(t)):WL(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||WL(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),s++,c):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",l(n))}}};class yF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const s=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&vF(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),vF(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),vF(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);vF(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);vF(this.left,t.reverse())}}}function vF(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function bF(e){const t={};let n,s,r,i,a,o,l,c=-1;const d=new yF(e);for(;++c<d.length;){for(;c in t;)c=t[c];if(n=d.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&(o=n[1]._tokenizer.events,r=0,r<o.length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,wF(d,c)),c=t[c],l=!0);else if(n[1]._container){for(r=c,s=void 0;r--;)if(i=d.get(r),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=r);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;s&&(n[1].end={...d.get(s)[1].start},a=d.slice(s,c),a.unshift(n),d.splice(s,c-s+1,a))}}return DL(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function wF(e,t){const n=e.get(t)[1],s=e.get(t)[2];let r=t-1;const i=[];let a=n._tokenizer;a||(a=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let d,u,h=-1,m=n,f=0,p=0;const g=[p];for(;m;){for(;e.get(++r)[1]!==m;);i.push(r),m._tokenizer||(d=s.sliceStream(m),m.next||d.push(null),u&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(p=h+1,g.push(p),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const jF={resolve:function(e){return bF(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(t)};function s(t){return null===t?r(t):WL(t)?e.check(NF,i,r)(t):(e.consume(t),s)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}},NF={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),eF(e,r,"linePrefix")};function r(r){if(null===r||WL(r))return n(r);const i=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(r):e.interrupt(s.parser.constructs.flow,n,t)(r)}}};function kF(e,t,n,s,r,i,a,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return function(t){if(60===t)return e.enter(s),e.enter(r),e.enter(i),e.consume(t),e.exit(i),u;if(null===t||32===t||41===t||qL(t))return n(t);return e.enter(s),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t)};function u(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),e.exit(s),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||WL(t)?n(t):(e.consume(t),92===t?m:h)}function m(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(r){return d||null!==r&&41!==r&&!GL(r)?d<c&&40===r?(e.consume(r),d++,f):41===r?(e.consume(r),d--,f):null===r||32===r||40===r||qL(r)?n(r):(e.consume(r),92===r?p:f):(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(s),t(r))}function p(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function CF(e,t,n,s,r,i){const a=this;let o,l=0;return function(t){return e.enter(s),e.enter(r),e.consume(t),e.exit(r),e.enter(i),c};function c(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(u):93===u?(e.exit(i),e.enter(r),e.consume(u),e.exit(r),e.exit(s),t):WL(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||WL(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!QL(t)),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,d):d(t)}}function SF(e,t,n,s,r,i){let a;return function(t){if(34===t||39===t||40===t)return e.enter(s),e.enter(r),e.consume(t),e.exit(r),a=40===t?41:t,o;return n(t)};function o(n){return n===a?(e.enter(r),e.consume(n),e.exit(r),e.exit(s),t):(e.enter(i),l(n))}function l(t){return t===a?(e.exit(i),o(a)):null===t?n(t):WL(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),eF(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||WL(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return t===a||92===t?(e.consume(t),c):c(t)}}function TF(e,t){let n;return function s(r){if(WL(r))return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,s;if(QL(r))return eF(e,s,n?"linePrefix":"lineSuffix")(r);return t(r)}}const EF={name:"definition",tokenize:function(e,t,n){const s=this;let r;return function(t){return e.enter("definition"),function(t){return CF.call(s,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return r=UL(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return GL(t)?TF(e,o)(t):o(t)}function o(t){return kF(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(AF,c,c)(t)}function c(t){return QL(t)?eF(e,d,"whitespace")(t):d(t)}function d(i){return null===i||WL(i)?(e.exit("definition"),s.parser.defined.push(r),t(i)):n(i)}}},AF={partial:!0,tokenize:function(e,t,n){return function(t){return GL(t)?TF(e,s)(t):n(t)};function s(t){return SF(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function r(t){return QL(t)?eF(e,i,"whitespace")(t):i(t)}function i(e){return null===e||WL(e)?t(e):n(e)}}};const IF={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),s};function s(s){return WL(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}};const _F={name:"headingAtx",resolve:function(e,t){let n,s,r=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);r-2>i&&"whitespace"===e[r][1].type&&(r-=2);"atxHeadingSequence"===e[r][1].type&&(i===r-1||r-4>i&&"whitespace"===e[r-2][1].type)&&(r-=i+1===r?2:4);r>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},s={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},DL(e,i,r-i+1,[["enter",n,t],["enter",s,t],["exit",s,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let s=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),r(t)}(t)};function r(t){return 35===t&&s++<6?(e.consume(t),r):null===t||GL(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||WL(n)?(e.exit("atxHeading"),t(n)):QL(n)?eF(e,i,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),i(t))}function o(t){return null===t||35===t||GL(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),o)}}};const PF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],DF=["pre","script","style","textarea"],RF={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const s=this;let r,i,a,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),d):47===o?(e.consume(o),i=!0,m):63===o?(e.consume(o),r=3,s.interrupt?t:R):zL(o)?(e.consume(o),a=String.fromCharCode(o),f):n(o)}function d(i){return 45===i?(e.consume(i),r=2,u):91===i?(e.consume(i),r=5,o=0,h):zL(i)?(e.consume(i),r=4,s.interrupt?t:R):n(i)}function u(r){return 45===r?(e.consume(r),s.interrupt?t:R):n(r)}function h(r){const i="CDATA[";return r===i.charCodeAt(o++)?(e.consume(r),6===o?s.interrupt?t:S:h):n(r)}function m(t){return zL(t)?(e.consume(t),a=String.fromCharCode(t),f):n(t)}function f(o){if(null===o||47===o||62===o||GL(o)){const l=47===o,c=a.toLowerCase();return l||i||!DF.includes(c)?PF.includes(a.toLowerCase())?(r=6,l?(e.consume(o),p):s.interrupt?t(o):S(o)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(o):i?g(o):x(o)):(r=1,s.interrupt?t(o):S(o))}return 45===o||VL(o)?(e.consume(o),a+=String.fromCharCode(o),f):n(o)}function p(r){return 62===r?(e.consume(r),s.interrupt?t:S):n(r)}function g(t){return QL(t)?(e.consume(t),g):k(t)}function x(t){return 47===t?(e.consume(t),k):58===t||95===t||zL(t)?(e.consume(t),y):QL(t)?(e.consume(t),x):k(t)}function y(t){return 45===t||46===t||58===t||95===t||VL(t)?(e.consume(t),y):v(t)}function v(t){return 61===t?(e.consume(t),b):QL(t)?(e.consume(t),v):x(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):QL(t)?(e.consume(t),b):j(t)}function w(t){return t===l?(e.consume(t),l=null,N):null===t||WL(t)?n(t):(e.consume(t),w)}function j(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||GL(t)?v(t):(e.consume(t),j)}function N(e){return 47===e||62===e||QL(e)?x(e):n(e)}function k(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||WL(t)?S(t):QL(t)?(e.consume(t),C):n(t)}function S(t){return 45===t&&2===r?(e.consume(t),I):60===t&&1===r?(e.consume(t),_):62===t&&4===r?(e.consume(t),M):63===t&&3===r?(e.consume(t),R):93===t&&5===r?(e.consume(t),D):!WL(t)||6!==r&&7!==r?null===t||WL(t)?(e.exit("htmlFlowData"),T(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(MF,O,T)(t))}function T(t){return e.check(OF,E,O)(t)}function E(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||WL(t)?T(t):(e.enter("htmlFlowData"),S(t))}function I(t){return 45===t?(e.consume(t),R):S(t)}function _(t){return 47===t?(e.consume(t),a="",P):S(t)}function P(t){if(62===t){const n=a.toLowerCase();return DF.includes(n)?(e.consume(t),M):S(t)}return zL(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),P):S(t)}function D(t){return 93===t?(e.consume(t),R):S(t)}function R(t){return 62===t?(e.consume(t),M):45===t&&2===r?(e.consume(t),R):S(t)}function M(t){return null===t||WL(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),M)}function O(n){return e.exit("htmlFlow"),t(n)}}},MF={partial:!0,tokenize:function(e,t,n){return function(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(cF,t,n)}}},OF={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){if(WL(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r;return n(t)};function r(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}};const LF={name:"htmlText",tokenize:function(e,t,n){const s=this;let r,i,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),y):zL(t)?(e.consume(t),N):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,m):zL(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):WL(t)?(a=d,P(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),h):d(t)}function h(e){return 62===e?_(e):45===e?u(e):d(e)}function m(t){const s="CDATA[";return t===s.charCodeAt(i++)?(e.consume(t),6===i?f:m):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),p):WL(t)?(a=f,P(t)):(e.consume(t),f)}function p(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?_(t):93===t?(e.consume(t),g):f(t)}function x(t){return null===t||62===t?_(t):WL(t)?(a=x,P(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),v):WL(t)?(a=y,P(t)):(e.consume(t),y)}function v(e){return 62===e?_(e):y(e)}function b(t){return zL(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||VL(t)?(e.consume(t),w):j(t)}function j(t){return WL(t)?(a=j,P(t)):QL(t)?(e.consume(t),j):_(t)}function N(t){return 45===t||VL(t)?(e.consume(t),N):47===t||62===t||GL(t)?k(t):n(t)}function k(t){return 47===t?(e.consume(t),_):58===t||95===t||zL(t)?(e.consume(t),C):WL(t)?(a=k,P(t)):QL(t)?(e.consume(t),k):_(t)}function C(t){return 45===t||46===t||58===t||95===t||VL(t)?(e.consume(t),C):S(t)}function S(t){return 61===t?(e.consume(t),T):WL(t)?(a=S,P(t)):QL(t)?(e.consume(t),S):k(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,E):WL(t)?(a=T,P(t)):QL(t)?(e.consume(t),T):(e.consume(t),A)}function E(t){return t===r?(e.consume(t),r=void 0,I):null===t?n(t):WL(t)?(a=E,P(t)):(e.consume(t),E)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||GL(t)?k(t):(e.consume(t),A)}function I(e){return 47===e||62===e||GL(e)?k(e):n(e)}function _(s){return 62===s?(e.consume(s),e.exit("htmlTextData"),e.exit("htmlText"),t):n(s)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return QL(t)?eF(e,R,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):R(t)}function R(t){return e.enter("htmlTextData"),a(t)}}};const FF={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),"labelImage"===s.type||"labelLink"===s.type||"labelEnd"===s.type){const e="labelImage"===s.type?4:2;s.type="data",t+=e}}e.length!==n.length&&DL(e,0,e.length,n);return e},resolveTo:function(e,t){let n,s,r,i,a=e.length,o=0;for(;a--;)if(n=e[a][1],s){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(s=a,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(r=a);const l={type:"labelLink"===e[s][1].type?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[r][1].end}},d={type:"labelText",start:{...e[s+o+2][1].end},end:{...e[r-2][1].start}};return i=[["enter",l,t],["enter",c,t]],i=RL(i,e.slice(s+1,s+o+3)),i=RL(i,[["enter",d,t]]),i=RL(i,iF(t.parser.constructs.insideSpan.null,e.slice(s+o+4,r-3),t)),i=RL(i,[["exit",d,t],e[r-2],e[r-1],["exit",c,t]]),i=RL(i,e.slice(r+1)),i=RL(i,[["exit",l,t]]),DL(e,s,e.length,i),e},tokenize:function(e,t,n){const s=this;let r,i,a=s.events.length;for(;a--;)if(("labelImage"===s.events[a][1].type||"labelLink"===s.events[a][1].type)&&!s.events[a][1]._balanced){r=s.events[a][1];break}return function(t){if(!r)return n(t);if(r._inactive)return d(t);return i=s.parser.defined.includes(UL(s.sliceSerialize({start:r.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(UF,c,i?c:d)(t):91===t?e.attempt(zF,c,i?l:d)(t):i?c(t):d(t)}function l(t){return e.attempt(VF,c,d)(t)}function c(e){return t(e)}function d(e){return r._balanced=!0,n(e)}}},UF={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),s};function s(t){return GL(t)?TF(e,r)(t):r(t)}function r(t){return 41===t?c(t):kF(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return GL(t)?TF(e,o)(t):c(t)}function a(e){return n(e)}function o(t){return 34===t||39===t||40===t?SF(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return GL(t)?TF(e,c)(t):c(t)}function c(s){return 41===s?(e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),e.exit("resource"),t):n(s)}}},zF={tokenize:function(e,t,n){const s=this;return function(t){return CF.call(s,e,r,i,"reference","referenceMarker","referenceString")(t)};function r(e){return s.parser.defined.includes(UL(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},VF={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),s};function s(s){return 93===s?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}};const BF={name:"labelStartImage",resolveAll:FF.resolveAll,tokenize:function(e,t,n){const s=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in s.parser.constructs?n(e):t(e)}}};const qF={name:"labelStartLink",resolveAll:FF.resolveAll,tokenize:function(e,t,n){const s=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in s.parser.constructs?n(e):t(e)}}};const $F={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),eF(e,t,"linePrefix")}}};const HF={name:"thematicBreak",tokenize:function(e,t,n){let s,r=0;return function(t){return e.enter("thematicBreak"),function(e){return s=e,i(e)}(t)};function i(i){return i===s?(e.enter("thematicBreakSequence"),a(i)):r>=3&&(null===i||WL(i))?(e.exit("thematicBreak"),t(i)):n(i)}function a(t){return t===s?(e.consume(t),r++,a):(e.exit("thematicBreakSequence"),QL(t)?eF(e,i,"whitespace")(t):i(t))}}};const KF={continuation:{tokenize:function(e,t,n){const s=this;return s.containerState._closeFlow=void 0,e.check(cF,(function(n){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,eF(e,t,"listItemIndent",s.containerState.size+1)(n)}),(function(n){if(s.containerState.furtherBlankLines||!QL(n))return s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,r(n);return s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(GF,t,r)(n)}));function r(r){return s.containerState._closeFlow=!0,s.interrupt=void 0,eF(e,e.attempt(KF,t,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const s=this,r=s.events[s.events.length-1];let i=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,a=0;return function(t){const r=s.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!s.containerState.marker||t===s.containerState.marker:$L(t)){if(s.containerState.type||(s.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(HF,n,l)(t):l(t);if(!s.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return $L(t)&&++a<10?(e.consume(t),o):(!s.interrupt||a<2)&&(s.containerState.marker?t===s.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||t,e.check(cF,s.interrupt?n:c,e.attempt(WF,u,d))}function c(e){return s.containerState.initialBlankLine=!0,i++,u(e)}function d(t){return QL(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return s.containerState.size=i+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},WF={partial:!0,tokenize:function(e,t,n){const s=this;return eF(e,(function(e){const r=s.events[s.events.length-1];return!QL(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)}),"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},GF={partial:!0,tokenize:function(e,t,n){const s=this;return eF(e,(function(e){const r=s.events[s.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===s.containerState.size?t(e):n(e)}),"listItemIndent",s.containerState.size+1)}};const QF={name:"setextUnderline",resolveTo:function(e,t){let n,s,r,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(s=i)}else"content"===e[i][1].type&&e.splice(i,1),r||"definition"!==e[i][1].type||(r=i);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[s][1].type="setextHeadingText",r?(e.splice(s,0,["enter",a,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end={...e[r][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const s=this;let r;return function(t){let a,o=s.events.length;for(;o--;)if("lineEnding"!==s.events[o][1].type&&"linePrefix"!==s.events[o][1].type&&"content"!==s.events[o][1].type){a="paragraph"===s.events[o][1].type;break}if(!s.parser.lazy[s.now().line]&&(s.interrupt||a))return e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===r?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),QL(t)?eF(e,a,"lineSuffix")(t):a(t))}function a(s){return null===s||WL(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}}};const YF={tokenize:function(e){const t=this,n=e.attempt(cF,(function(s){if(null===s)return void e.consume(s);return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,s,eF(e,e.attempt(this.parser.constructs.flow,s,e.attempt(jF,s)),"linePrefix")));return n;function s(s){if(null!==s)return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(s)}}};const XF={resolveAll:tU()},JF=eU("string"),ZF=eU("text");function eU(e){return{resolveAll:tU("text"===e?nU:void 0),tokenize:function(t){const n=this,s=this.parser.constructs[e],r=t.attempt(s,i,a);return i;function i(e){return l(e)?r(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),r(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=s[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function tU(e){return function(t,n){let s,r=-1;for(;++r<=t.length;)void 0===s?t[r]&&"data"===t[r][1].type&&(s=r,r++):t[r]&&"data"===t[r][1].type||(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return e?e(t,n):t}}function nU(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const s=e[n-1][1],r=t.sliceStream(s);let i,a=r.length,o=-1,l=0;for(;a--;){const e=r[a];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)i=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const r={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:s.start._bufferIndex+o,_index:s.start._index+a,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...r.start},s.start.offset===s.end.offset?Object.assign(s,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}const sU={42:KF,43:KF,45:KF,48:KF,49:KF,50:KF,51:KF,52:KF,53:KF,54:KF,55:KF,56:KF,57:KF,62:dF},rU={91:EF},iU={[-2]:pF,[-1]:pF,32:pF},aU={35:_F,42:HF,45:[QF,HF],60:RF,61:QF,95:HF,96:fF,126:fF},oU={38:hF,92:uF},lU={[-5]:$F,[-4]:$F,[-3]:$F,33:BF,38:hF,42:aF,60:[lF,LF],91:qF,92:[IF,uF],93:FF,95:aF,96:xF},cU={null:[aF,XF]},dU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:rU,disable:{null:[]},document:sU,flow:aU,flowInitial:iU,insideSpan:cU,string:oU,text:lU},Symbol.toStringTag,{value:"Module"}));function uU(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},i=[];let a=[],o=[];const l={attempt:g((function(e,t){x(e,t.from)})),check:g(p),consume:function(e){WL(e)?(s.line++,s.column=1,s.offset+=-3===e?2:1,y()):-1!==e&&(s.column++,s.offset++);s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===a[s._index].length&&(s._bufferIndex=-1,s._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(p,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){r[e.line]=e.column,y()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const s=[];let r;for(;++n<e.length;){const i=e[n];let a;if("string"==typeof i)a=i;else switch(i){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&r)continue;a=" ";break;default:a=String.fromCharCode(i)}r=-2===i,s.push(a)}return s.join("")}(u(e),t)},sliceStream:u,write:function(e){if(a=RL(a,e),m(),null!==a[a.length-1])return[];return x(t,0),c.events=iF(i,c.events,c),c.events}};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function u(e){return function(e,t){const n=t.start._index,s=t.start._bufferIndex,r=t.end._index,i=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(s,i)];else{if(a=e.slice(n,r),s>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(s):a.shift()}i>0&&a.push(e[r].slice(0,i))}return a}(a,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:r,offset:i}=s;return{_bufferIndex:e,_index:t,line:n,column:r,offset:i}}function m(){let e;for(;s._index<a.length;){const t=a[s._index];if("string"==typeof t)for(e=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===e&&s._bufferIndex<t.length;)f(t.charCodeAt(s._bufferIndex));else f(t)}}function f(e){d=d(e)}function p(e,t){t.restore()}function g(e,t){return function(n,r,i){let a,d,u,m;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],s=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(s)?s:s?[s]:[]])(t)}}(n);function f(e){return a=e,d=0,0===e.length?i:p(e[d])}function p(e){return function(n){m=function(){const e=h(),t=c.previous,n=c.currentConstruct,r=c.events.length,i=Array.from(o);return{from:r,restore:a};function a(){s=e,c.previous=t,c.currentConstruct=n,c.events.length=r,o=i,y()}}(),u=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,x)(n)}}function g(t){return e(u,m),r}function x(e){return m.restore(),++d<a.length?p(a[d]):i}}}function x(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&DL(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){s.line in r&&s.column<2&&(s.column=r[s.line],s.offset+=r[s.line]-1)}}function hU(e){const t={constructs:function(e){const t={};let n=-1;for(;++n<e.length;)OL(t,e[n]);return t}([dU,...(e||{}).extensions||[]]),content:n(tF),defined:[],document:n(nF),flow:n(YF),lazy:{},string:n(JF),text:n(ZF)};return t;function n(e){return function(n){return uU(t,e,n)}}}const mU=/[\0\t\n\r]/g;const fU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pU(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return FL(n.slice(t?2:1),t?16:10)}return PL(n)||e}const gU={}.hasOwnProperty;function xU(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:C,autolinkEmail:C,atxHeading:i(X),blockQuote:i(K),characterEscape:C,characterReference:C,codeFenced:i(W),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(W,a),codeText:i(G,a),codeTextData:C,data:C,codeFlowValue:C,definition:i(Q),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Y),hardBreakEscape:i(J),hardBreakTrailing:i(J),htmlFlow:i(Z,a),htmlFlowData:C,htmlText:i(Z,a),htmlTextData:C,image:i(ee),label:a,link:i(te),listItem:i(se),listItemValue:h,listOrdered:i(ne,u),listUnordered:i(ne),paragraph:i(re),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(X),strong:i(ie),thematicBreak:i(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:H,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:B,characterReference:q,codeFenced:l(g),codeFencedFence:p,codeFencedFenceInfo:m,codeFencedFenceMeta:f,codeFlowValue:S,codeIndented:l(x),codeText:l(_),codeTextData:S,data:S,definition:l(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(A),htmlFlowData:S,htmlText:l(I),htmlTextData:S,image:l(D),label:M,labelText:R,lineEnding:T,link:l(P),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:O,resourceTitleString:L,resource:F,setextHeading:l(k),setextHeadingLineSequence:N,setextHeadingText:j,strong:l(),thematicBreak:l()}};vU(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(e){let s={type:"root",children:[]};const i={stack:[s],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:n},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=r(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];gU.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},i),e[u][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||wU).call(i,void 0,e[0])}for(s.position={start:yU(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:yU(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)s=t.transforms[u](s)||s;return s}function r(e,t,n){let s,r,i,a,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!s||a||l||i||(i=o),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(s){let a=o;for(r=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",r=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!r||i<r)&&(s._spread=!0),s.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||o,0,["exit",s,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};s=r,e.splice(o,0,["enter",r,t[2]]),o++,n++,i=void 0,a=!0}}}return e[t][1]._spread=c,n}function i(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:yU(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),s=this.tokenStack.pop();if(!s)throw new Error("Cannot close `"+e.type+"` ("+aL({start:e.start,end:e.end})+"): its not open");if(s[0].type!==e.type)if(t)t.call(this,e,s[0]);else{(s[1]||wU).call(this,e,s[0])}n.position.end=yU(e.end)}function d(){return function(e){return AL(e,"boolean"!=typeof EL.includeImageAlt||EL.includeImageAlt,"boolean"!=typeof EL.includeHtml||EL.includeHtml)}(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=UL(this.sliceSerialize(e)).toLowerCase()}function v(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function N(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:yU(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=yU(e.end)}function T(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=yU(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),S.call(this,e))}function E(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(fU,pU)}(t),n.identifier=UL(t).toLowerCase()}function M(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function O(){const e=this.resume();this.stack[this.stack.length-1].url=e}function L(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=UL(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function V(e){this.data.characterReferenceType=e.type}function B(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let s;if(n)s=FL(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{s=PL(t)}this.stack[this.stack.length-1].value+=s}function q(e){this.stack.pop().position.end=yU(e.end)}function $(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function H(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function se(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!bF(e););return e}(hU(n).document().write(function(){let e,t=1,n="",s=!0;return function(r,i,a){const o=[];let l,c,d,u,h;for(r=n+("string"==typeof r?r.toString():new TextDecoder(i||void 0).decode(r)),d=0,n="",s&&(65279===r.charCodeAt(0)&&d++,s=void 0);d<r.length;){if(mU.lastIndex=d,l=mU.exec(r),u=l&&void 0!==l.index?l.index:r.length,h=r.charCodeAt(u),!l){n=r.slice(d);break}if(10===h&&d===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),d<u&&(o.push(r.slice(d,u)),t+=u-d),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}d=u+1}return a&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function yU(e){return{line:e.line,column:e.column,offset:e.offset}}function vU(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?vU(e,s):bU(e,s)}}function bU(e,t){let n;for(n in t)if(gU.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function wU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+aL({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+aL({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+aL({start:t.start,end:t.end})+") is still open")}function jU(e){const t=this;t.parser=function(n){return xU(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function NU(e,t){const n=t.referenceType;let s="]";if("collapsed"===n?s+="[]":"full"===n&&(s+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+s}];const r=e.all(t),i=r[0];i&&"text"===i.type?i.value="["+i.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&"text"===a.type?a.value+=s:r.push({type:"text",value:s}),r}function kU(e){const t=e.spread;return null==t?e.children.length>1:t}function CU(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),r=0;const i=[];for(;s;)i.push(SU(t.slice(r,s.index),r>0,!0),s[0]),r=s.index+s[0].length,s=n.exec(t);return i.push(SU(t.slice(r),r>0,!1)),i.join("")}function SU(e,t,n){let s=0,r=e.length;if(t){let t=e.codePointAt(s);for(;9===t||32===t;)s++,t=e.codePointAt(s)}if(n){let t=e.codePointAt(r-1);for(;9===t||32===t;)r--,t=e.codePointAt(r-1)}return r>s?e.slice(s,r):""}const TU={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",s={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(s.className=["language-"+r[0]]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),r=ZL(s.toLowerCase()),i=e.footnoteOrder.indexOf(s);let a,o=e.footnoteCounts.get(s);void 0===o?(o=0,e.footnoteOrder.push(s),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(s,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return NU(e,t);const r={src:ZL(s.url||""),alt:t.alt};null!==s.title&&void 0!==s.title&&(r.title=s.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:ZL(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return NU(e,t);const r={href:ZL(s.url||"")};null!==s.title&&void 0!==s.title&&(r.title=s.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:ZL(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},listItem:function(e,t,n){const s=e.all(t),r=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=kU(n[s])}return t}(n):kU(t),i={},a=[];if("boolean"==typeof t.checked){const e=s[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},s.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<s.length;){const e=s[o];(r||0!==o||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?a.push(e):a.push(...e.children)}const l=s[s.length-1];l&&(r||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},s=e.all(t);let r=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++r<s.length;){const e=s[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),s=n.shift(),r=[];if(s){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],n),r.push(n)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=rL(t.children[1]),a=sL(t.children[t.children.length-1]);i&&a&&(s.position={start:i,end:a}),r.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const s=n?n.children:void 0,r=0===(s?s.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,a=i?i.length:t.children.length;let o=-1;const l=[];for(;++o<a;){const n=t.children[o],s={},a=i?i[o]:void 0;a&&(s.align=a);let c={type:"element",tagName:r,properties:s,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:CU(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:EU,yaml:EU,definition:EU,footnoteDefinition:EU};function EU(){}const AU="object"==typeof self?self:globalThis,IU=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),s=r=>{if(e.has(r))return e.get(r);const[i,a]=t[r];switch(i){case 0:case-1:return n(a,r);case 1:{const e=n([],r);for(const t of a)e.push(s(t));return e}case 2:{const e=n({},r);for(const[t,n]of a)e[s(t)]=s(n);return e}case 3:return n(new Date(a),r);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),r)}case 5:{const e=n(new Map,r);for(const[t,n]of a)e.set(s(t),s(n));return e}case 6:{const e=n(new Set,r);for(const t of a)e.add(s(t));return e}case 7:{const{name:e,message:t}=a;return n(new AU[e](t),r)}case 8:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new AU[i](a),r)};return s})(new Map,e)(0),_U="",{toString:PU}={},{keys:DU}=Object,RU=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=PU.call(e).slice(8,-1);switch(n){case"Array":return[1,_U];case"Object":return[2,_U];case"Date":return[3,_U];case"RegExp":return[4,_U];case"Map":return[5,_U];case"Set":return[6,_U];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},MU=([e,t])=>0===e&&("function"===t||"symbol"===t),OU=(e,{json:t,lossy:n}={})=>{const s=[];return((e,t,n,s)=>{const r=(e,t)=>{const r=s.push(e)-1;return n.set(t,r),r},i=s=>{if(n.has(s))return n.get(s);let[a,o]=RU(s);switch(a){case 0:{let t=s;switch(o){case"bigint":a=8,t=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return r([-1],s)}return r([a,t],s)}case 1:{if(o){let e=s;return"DataView"===o?e=new Uint8Array(s.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(s)),r([o,[...e]],s)}const e=[],t=r([a,e],s);for(const n of s)e.push(i(n));return t}case 2:{if(o)switch(o){case"BigInt":return r([o,s.toString()],s);case"Boolean":case"Number":case"String":return r([o,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const n=[],l=r([a,n],s);for(const t of DU(s))!e&&MU(RU(s[t]))||n.push([i(t),i(s[t])]);return l}case 3:return r([a,s.toISOString()],s);case 4:{const{source:e,flags:t}=s;return r([a,{source:e,flags:t}],s)}case 5:{const t=[],n=r([a,t],s);for(const[r,a]of s)(e||!MU(RU(r))&&!MU(RU(a)))&&t.push([i(r),i(a)]);return n}case 6:{const t=[],n=r([a,t],s);for(const r of s)!e&&MU(RU(r))||t.push(i(r));return n}}const{message:l}=s;return r([a,{name:o,message:l}],s)};return i})(!(t||n),!!t,new Map,s)(e),s},LU="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?IU(OU(e,t)):structuredClone(e):(e,t)=>IU(OU(e,t));function FU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function UU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const zU=function(e){if(null==e)return BU;if("function"==typeof e)return VU(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zU(e[n]);return VU(s);function s(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return VU(n);function n(n){const s=n;let r;for(r in e)if(s[r]!==t[r])return!1;return!0}}(e);if("string"==typeof e)return function(e){return VU(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function VU(e){return function(t,n,s){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,s||void 0))}}function BU(){return!0}const qU=[],$U=!0,HU=!1;function KU(e,t,n,s){let r;"function"==typeof t&&"function"!=typeof n?(s=n,n=t):r=t;const i=zU(r),a=s?-1:1;!function e(r,o,l){const c=r&&"object"==typeof r?r:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+r.type+(e?"<"+e+">":"")+")"})}return d;function d(){let c,d,u,h=qU;if((!t||i(r,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[$U,e];return null==e?qU:[e]}(n(r,l)),h[0]===HU))return h;if("children"in r&&r.children){const t=r;if(t.children&&"skip"!==h[0])for(d=(s?t.children.length:-1)+a,u=l.concat(t);d>-1&&d<t.children.length;){const n=t.children[d];if(c=e(n,d,u)(),c[0]===HU)return c;d="number"==typeof c[1]?c[1]:d+a}}return h}}(e,void 0,[])()}function WU(e,t,n,s){let r,i,a;"function"==typeof t?(i=void 0,a=t,r=n):(i=t,a=n,r=s),KU(e,i,(function(e,t){const n=t[t.length-1],s=n?n.children.indexOf(e):void 0;return a(e,s,n)}),r)}const GU={}.hasOwnProperty,QU={};function YU(e,t){e.position&&(t.position=function(e){const t=rL(e),n=sL(e);if(t&&n)return{start:t,end:n}}(e))}function XU(e,t){let n=t;if(e&&e.data){const t=e.data.hName,s=e.data.hChildren,r=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&r&&Object.assign(n.properties,LU(r)),"children"in n&&n.children&&null!=s&&(n.children=s)}return n}function JU(e,t){const n=t.data||{},s=!("value"in t)||GU.call(n,"hProperties")||GU.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,s),e.applyData(t,s)}function ZU(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:"\n"});++s<e.length;)s&&n.push({type:"text",value:"\n"}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function ez(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function tz(e,t){const n=function(e,t){const n=t||QU,s=new Map,r=new Map,i=new Map,a={...TU,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let s=-1;for(;++s<n.length;){const r=o.one(n[s],e);if(r){if(s&&"break"===n[s-1].type&&(Array.isArray(r)||"text"!==r.type||(r.value=ez(r.value)),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=ez(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t},applyData:XU,definitionById:s,footnoteById:r,footnoteCounts:i,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,s=o.handlers[n];if(GU.call(o.handlers,n)&&s)return s(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,s=LU(n);return s.children=o.all(e),s}return LU(e)}return(o.options.unknownHandler||JU)(o,e,t)},options:n,patch:YU,wrap:ZU};return WU(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?s:r,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}(e,t),s=n.one(e,void 0),r=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||FU,s=e.options.footnoteBackLabel||UU,r=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const r=e.footnoteById.get(e.footnoteOrder[l]);if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),c=ZL(a.toLowerCase());let d=0;const u=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++d<=h;){u.length>0&&u.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,d);"string"==typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof s?s:s(l,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const m=i[i.length-1];if(m&&"element"===m.type&&"p"===m.tagName){const e=m.children[m.children.length-1];e&&"text"===e.type?e.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...u)}else i.push(...u);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(r,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...LU(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return r&&i.children.push({type:"text",value:"\n"},r),i}function nz(e,t){return e&&"run"in e?async function(n,s){const r=tz(n,{file:s,...t});await e.run(r,s)}:function(n,s){return tz(n,{file:s,...e||t})}}function sz(e){if(e)throw e}var rz=Object.prototype.hasOwnProperty,iz=Object.prototype.toString,az=Object.defineProperty,oz=Object.getOwnPropertyDescriptor,lz=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===iz.call(e)},cz=function(e){if(!e||"[object Object]"!==iz.call(e))return!1;var t,n=rz.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&rz.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!s)return!1;for(t in e);return void 0===t||rz.call(e,t)},dz=function(e,t){az&&"__proto__"===t.name?az(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},uz=function(e,t){if("__proto__"===t){if(!rz.call(e,t))return;if(oz)return oz(e,t).value}return e[t]},hz=function e(){var t,n,s,r,i,a,o=arguments[0],l=1,c=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)s=uz(o,n),o!==(r=uz(t,n))&&(d&&r&&(cz(r)||(i=lz(r)))?(i?(i=!1,a=s&&lz(s)?s:[]):a=s&&cz(s)?s:{},dz(o,{name:n,newValue:e(d,a,r)})):void 0!==r&&dz(o,{name:n,newValue:r}));return o};const mz=ft(hz);function fz(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function pz(){const e=[],t={run:function(...t){let n=-1;const s=t.pop();if("function"!=typeof s)throw new TypeError("Expected function as last argument, not "+s);!function r(i,...a){const o=e[++n];let l=-1;if(i)s(i);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,o?function(e,t){let n;return s;function s(...t){const s=e.length>t.length;let o;s&&t.push(r);try{o=e.apply(this,t)}catch(i){if(s&&n)throw i;return r(i)}s||(o&&o.then&&"function"==typeof o.then?o.then(a,r):o instanceof Error?r(o):a(o))}function r(e,...s){n||(n=!0,t(e,...s))}function a(e){r(null,e)}}(o,r)(...a):s(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const gz={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');xz(e);let n,s=0,r=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){s=i+1;break}}else r<0&&(n=!0,r=i+1);return r<0?"":e.slice(s,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){s=i+1;break}}else a<0&&(n=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));s===r?r=a:r<0&&(r=e.length);return e.slice(s,r)},dirname:function(e){if(xz(e),0===e.length)return".";let t,n=-1,s=e.length;for(;--s;)if(47===e.codePointAt(s)){if(t){n=s;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){xz(e);let t,n=e.length,s=-1,r=0,i=-1,a=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)s<0&&(t=!0,s=n+1),46===o?i<0?i=n:1!==a&&(a=1):i>-1&&(a=-1);else if(t){r=n+1;break}}if(i<0||s<0||0===a||1===a&&i===s-1&&i===r+1)return"";return e.slice(i,s)},join:function(...e){let t,n=-1;for(;++n<e.length;)xz(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){xz(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,s,r="",i=0,a=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(r.length<2||2!==i||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2))if(r.length>2){if(s=r.lastIndexOf("/"),s!==r.length-1){s<0?(r="",i=0):(r=r.slice(0,s),i=r.length-1-r.lastIndexOf("/")),a=l,o=0;continue}}else if(r.length>0){r="",i=0,a=l,o=0;continue}t&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),i=l-a-1;a=l,o=0}else 46===n&&o>-1?o++:o=-1}return r}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function xz(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yz={cwd:function(){return"/"}};function vz(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function bz(e){if("string"==typeof e)e=new URL(e);else if(!vz(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const wz=["history","path","basename","stem","extname","dirname"];class jz{constructor(e){let t;t=e?vz(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":yz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,s=-1;for(;++s<wz.length;){const e=wz[s];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)wz.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?gz.basename(this.path):void 0}set basename(e){kz(e,"basename"),Nz(e,"basename"),this.path=gz.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?gz.dirname(this.path):void 0}set dirname(e){Cz(this.basename,"dirname"),this.path=gz.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?gz.extname(this.path):void 0}set extname(e){if(Nz(e,"extname"),Cz(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gz.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){vz(e)&&(e=bz(e)),kz(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?gz.basename(this.path,this.extname):void 0}set stem(e){kz(e,"stem"),Nz(e,"stem"),this.path=gz.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const s=this.message(e,t,n);throw s.fatal=!0,s}info(e,t,n){const s=this.message(e,t,n);return s.fatal=void 0,s}message(e,t,n){const s=new dL(e,t,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Nz(e,t){if(e&&e.includes(gz.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gz.sep+"`")}function kz(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Cz(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Sz=function(e){const t=this.constructor.prototype,n=t[e],s=function(){return n.apply(s,arguments)};return Object.setPrototypeOf(s,t),s},Tz={}.hasOwnProperty;class Ez extends Sz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pz()}copy(){const e=new Ez;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(mz(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(Pz("data",this.frozen),this.namespace[e]=t,this):Tz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Pz("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const s=t.call(e,...n);"function"==typeof s&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Mz(e),n=this.parser||this.Parser;return Iz("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Iz("process",this.parser||this.Parser),_z("process",this.compiler||this.Compiler),t?s(void 0,t):new Promise(s);function s(s,r){const i=Mz(e),a=n.parse(i);function o(e,n){e||!n?r(e):s?s(n):t(void 0,n)}n.run(a,i,(function(e,t,s){if(e||!t||!s)return o(e);const r=t,i=n.stringify(r,s);var a;"string"==typeof(a=i)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?s.value=i:s.result=i,o(e,s)}))}}processSync(e){let t,n=!1;return this.freeze(),Iz("processSync",this.parser||this.Parser),_z("processSync",this.compiler||this.Compiler),this.process(e,(function(e,s){n=!0,sz(e),t=s})),Rz("processSync","process",n),t}run(e,t,n){Dz(e),this.freeze();const s=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(r,i){const a=Mz(t);s.run(e,a,(function(t,s,a){const o=s||e;t?i(t):r?r(o):n(void 0,o,a)}))}}runSync(e,t){let n,s=!1;return this.run(e,t,(function(e,t){sz(e),n=t,s=!0})),Rz("runSync","run",s),n}stringify(e,t){this.freeze();const n=Mz(t),s=this.compiler||this.Compiler;return _z("stringify",s),Dz(e),s(e,n)}use(e,...t){const n=this.attachers,s=this.namespace;if(Pz("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):i(e)}return this;function r(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else i(e)}}function i(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(s.settings=mz(!0,s.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){r(e[t])}}}function o(e,t){let s=-1,r=-1;for(;++s<n.length;)if(n[s][0]===e){r=s;break}if(-1===r)n.push([e,...t]);else if(t.length>0){let[s,...i]=t;const a=n[r][1];fz(a)&&fz(s)&&(s=mz(!0,a,s)),n[r]=[e,s,...i]}}}}const Az=(new Ez).freeze();function Iz(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function _z(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Pz(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dz(e){if(!fz(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Rz(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Mz(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new jz(e)}const Oz=[],Lz={allowDangerousHtml:!0},Fz=/^(https?|ircs?|mailto|xmpp)$/i,Uz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zz(e){const t=function(e){const t=e.rehypePlugins||Oz,n=e.remarkPlugins||Oz,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Lz}:Lz,r=Az().use(jU).use(n).use(nz,s).use(t);return r}(e),n=function(e){const t=e.children||"",n=new jz;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,s=t.allowElement,r=t.components,i=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Vz;for(const d of Uz)Object.hasOwn(t,d.from)&&(d.from,d.to&&d.to,d.id);return WU(e,c),xL(e,{Fragment:X.Fragment,components:r,ignoreInvalidStyle:!0,jsx:X.jsx,jsxs:X.jsxs,passKeys:!0,passNode:!0});function c(e,t,r){if("raw"===e.type&&r&&"number"==typeof t)return a?r.children.splice(t,1):r.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in TL)if(Object.hasOwn(TL,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],s=TL[t];(null===s||s.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!a&&s&&"number"==typeof t&&(a=!s(e,t,r)),a&&r&&"number"==typeof t)return o&&e.children?r.children.splice(t,1,...e.children):r.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function Vz(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),r=e.indexOf("/");return-1===t||-1!==r&&t>r||-1!==n&&t>n||-1!==s&&t>s||Fz.test(e.slice(0,t))?e:""}function Bz(){const{id:e}=pt(),[t,n]=lt.useState(null),[s,r]=lt.useState(!0),[i,a]=lt.useState([]),o=e=>e?qD(e,"dd MMMM yyyy",{locale:eR}):"";return lt.useEffect((()=>{(async()=>{if(e){r(!0);try{const s=await(async e=>{var t,n;try{const s=Ep(mv,fb,e),r=await Ag(s);return r.exists()?{id:r.id,...r.data(),publishedAt:null==(t=r.data().publishedAt)?void 0:t.toDate(),createdAt:null==(n=r.data().createdAt)?void 0:n.toDate()}:null}catch(s){throw s}})(e);if(s&&(n(s),s.tags&&s.tags.length>0)){const n=s.tags[0];try{const t=await(async(e,t,n=3)=>{try{const s=ug(Tp(mv,fb),mg("published","==",!0),mg("tags","array-contains",t),gg("publishedAt","desc"));return(await _g(s)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),publishedAt:null==(t=e.data().publishedAt)?void 0:t.toDate(),createdAt:null==(n=e.data().createdAt)?void 0:n.toDate()}})).filter((t=>t.id!==e)).slice(0,n)}catch(s){return[]}})(e,n,3);a(t)}catch(t){}}}catch(t){}finally{r(!1)}}})()}),[e]),s?X.jsx(KP,{children:X.jsx("div",{className:"container-custom py-12",children:X.jsx("p",{children:"Natn lnku..."})})}):t?X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-12",children:[X.jsx("div",{className:"mb-8",children:X.jsx(Cw,{variant:"outline",asChild:!0,children:X.jsxs(ct,{to:"/blog",className:"flex items-center",children:[X.jsx(_w,{className:"mr-2 h-4 w-4"}),"Zpt na blog"]})})}),X.jsxs("div",{className:"mb-8",children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:t.title}),X.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-6",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(Lw,{className:"mr-2 h-4 w-4"}),t.publishedAt?o(t.publishedAt):o(t.createdAt)]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Bj,{className:"mr-2 h-4 w-4"}),t.author]})]}),t.tags&&t.tags.length>0&&X.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map((e=>X.jsx(VN,{variant:"secondary",children:e},e)))}),X.jsx("div",{className:"aspect-[21/9] relative rounded-lg overflow-hidden mb-8",children:X.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover"})})]}),X.jsx("div",{className:"prose prose-lg max-w-none mb-12",children:X.jsx(zz,{children:t.content})}),i.length>0&&X.jsxs("div",{className:"mt-16",children:[X.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Souvisejc lnky"}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((e=>X.jsx(ct,{to:`/blog/${e.id}`,className:"block",children:X.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[X.jsx("div",{className:"aspect-[16/9] relative",children:X.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),X.jsxs("div",{className:"p-4",children:[X.jsx("h3",{className:"font-semibold mb-2",children:e.title}),X.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.excerpt})]})]})},e.id)))})]})]})}):X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-12",children:[X.jsx("h1",{className:"text-2xl font-bold mb-4",children:"lnek nenalezen"}),X.jsx("p",{className:"mb-6",children:"Poadovan lnek bohuel neexistuje."}),X.jsx(Cw,{asChild:!0,children:X.jsx(ct,{to:"/blog",children:"Zpt na blog"})})]})})}function qz(){const[e,t]=lt.useState({name:"",email:"",phone:"",subject:"general",message:""}),[n,s]=lt.useState(!1),[r,i]=lt.useState(!1),a=e=>{const{name:n,value:s}=e.target;t((e=>({...e,[n]:s})))};return X.jsxs(KP,{children:[X.jsx("section",{className:"bg-muted py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Kontaktujte ns"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Mte dotaz nebo chcete objednat kvtiny? Nevhejte ns kontaktovat."})]})}),X.jsx("section",{className:"py-12",children:X.jsx("div",{className:"container-custom",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[X.jsx("div",{children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Napite nm"}),r?X.jsxs("div",{className:"text-center py-8",children:[X.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:X.jsx(Uw,{className:"h-8 w-8 text-primary"})}),X.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Zprva byla odeslna"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Dkujeme za vai zprvu. Budeme vs kontaktovat co nejdve."}),X.jsx(Cw,{onClick:()=>i(!1),children:"Odeslat dal zprvu"})]}):X.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(!0),setTimeout((()=>{s(!1),i(!0),t({name:"",email:"",phone:"",subject:"general",message:""})}),1500)},className:"space-y-6",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"name",children:"Jmno a pjmen"}),X.jsx(dk,{id:"name",name:"name",value:e.name,onChange:a,required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"email",children:"E-mail"}),X.jsx(dk,{id:"email",name:"email",type:"email",value:e.email,onChange:a,required:!0})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"phone",children:"Telefon"}),X.jsx(dk,{id:"phone",name:"phone",value:e.phone,onChange:a})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{children:"Pedmt zprvy"}),X.jsxs(ZR,{value:e.subject,onValueChange:e=>{t((t=>({...t,subject:e})))},children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"general",id:"general"}),X.jsx(TR,{htmlFor:"general",children:"Obecn dotaz"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"order",id:"order"}),X.jsx(TR,{htmlFor:"order",children:"Objednvka"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"custom",id:"custom"}),X.jsx(TR,{htmlFor:"custom",children:"Vlastn kytice"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(eM,{value:"other",id:"other"}),X.jsx(TR,{htmlFor:"other",children:"Jin"})]})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"message",children:"Zprva"}),X.jsx(UM,{id:"message",name:"message",rows:5,value:e.message,onChange:a,required:!0})]}),X.jsx(Cw,{type:"submit",className:"w-full",disabled:n,children:n?X.jsxs(X.Fragment,{children:[X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),"Odesln..."]}):X.jsxs(X.Fragment,{children:[X.jsx(Sj,{className:"mr-2 h-4 w-4"}),"Odeslat zprvu"]})})]})]})})}),X.jsxs("div",{className:"space-y-8",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Kontaktn informace"}),X.jsx(Uk,{children:X.jsx(qk,{className:"p-6",children:X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-start gap-4",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:X.jsx(mj,{className:"h-5 w-5 text-primary"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Adresa"}),X.jsx("p",{className:"text-muted-foreground",children:"Kvtinov 123"}),X.jsx("p",{className:"text-muted-foreground",children:"110 00 Praha 1"})]})]}),X.jsx(Lk,{}),X.jsxs("div",{className:"flex items-start gap-4",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:X.jsx(bj,{className:"h-5 w-5 text-primary"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Telefon"}),X.jsx("p",{className:"text-muted-foreground",children:X.jsx("a",{href:"tel:+420123456789",className:"hover:text-primary transition-colors",children:"+420 123 456 789"})})]})]}),X.jsx(Lk,{}),X.jsxs("div",{className:"flex items-start gap-4",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:X.jsx(hj,{className:"h-5 w-5 text-primary"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"E-mail"}),X.jsx("p",{className:"text-muted-foreground",children:X.jsx("a",{href:"mailto:info@kvitkos.cz",className:"hover:text-primary transition-colors",children:"info@kvitkos.cz"})})]})]}),X.jsx(Lk,{}),X.jsxs("div",{className:"flex items-start gap-4",children:[X.jsx("div",{className:"bg-primary/10 p-3 rounded-full shrink-0",children:X.jsx($w,{className:"h-5 w-5 text-primary"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold",children:"Otevrac doba"}),X.jsxs("div",{className:"grid grid-cols-2 gap-2 text-muted-foreground",children:[X.jsx("span",{children:"Pondl - Ptek:"}),X.jsx("span",{children:"9:00 - 19:00"}),X.jsx("span",{children:"Sobota:"}),X.jsx("span",{children:"9:00 - 17:00"}),X.jsx("span",{children:"Nedle:"}),X.jsx("span",{children:"10:00 - 15:00"})]})]})]})]})})})]}),X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Kde ns najdete"}),X.jsx(Uk,{className:"overflow-hidden",children:X.jsx("div",{className:"aspect-video w-full",children:X.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2560.9058953816!2d14.4194153!3d50.0874654!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b94e9e08e3b33%3A0x7acff08b90e9352!2sWenceslas%20Square!5e0!3m2!1sen!2scz!4v1651234567890!5m2!1sen!2scz",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa"})})})]})]})]})})}),X.jsx("section",{className:"py-12 bg-muted",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h2",{className:"text-2xl font-semibold text-center mb-10",children:"asto kladen otzky"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak dlouho dopedu je teba objednat kvtiny?"}),X.jsx("p",{className:"text-muted-foreground",children:"Pro bn objednvky doporuujeme objednat alespo 24 hodin pedem. Pro vt udlosti, jako jsou svatby, doporuujeme objednat nkolik tdn a msc dopedu."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak jsou monosti doruen?"}),X.jsx("p",{className:"text-muted-foreground",children:"Nabzme doruen po cel Praze a okol. Mete si tak vyzvednout objednvku osobn v na prodejn."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Mohu si objednat kvtiny na konkrtn as?"}),X.jsx("p",{className:"text-muted-foreground",children:"Ano, nabzme doruen v konkrtnm asovm rozmez za pplatek. Kontaktujte ns pro vce informac."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak dlouho vydr vae kvtiny?"}),X.jsx("p",{className:"text-muted-foreground",children:"Nae kvtiny jsou vdy erstv a pi sprvn pi vydr 7-14 dn. Ke kad kytici pikldme nvod na pi."})]})})]})]})})]})}function $z(){return X.jsx(KP,{children:X.jsxs("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[X.jsx("div",{className:"absolute w-96 h-96 bg-primary/10 rounded-full blur-3xl top-0 -right-48 animate-pulse"}),X.jsx("div",{className:"absolute w-80 h-80 bg-secondary/10 rounded-full blur-3xl -bottom-20 -left-20"}),X.jsxs("div",{className:"relative z-10 max-w-md w-full text-center",children:[X.jsx("h1",{className:"text-9xl font-bold mb-2 text-primary",children:"404"}),X.jsx("div",{className:"w-16 h-1 bg-primary/20 mx-auto my-4"}),X.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Strnka nenalezena"}),X.jsx("p",{className:"text-muted-foreground mb-8",children:"Omlouvme se, ale strnka, kterou hledte, neexistuje nebo byla pesunuta."}),X.jsx(Cw,{asChild:!0,size:"lg",children:X.jsxs(ct,{to:"/",children:[X.jsx(_w,{className:"mr-2 h-4 w-4"}),"Zpt na vodn strnku"]})})]})]})})}function Hz(){const{id:e}=pt(),[t,n]=lt.useState(null),[s,r]=lt.useState([]),[i,a]=lt.useState(!0),[o,l]=lt.useState(1),{addToCart:c}=jb();lt.useEffect((()=>{(async()=>{if(e){a(!0);try{const t=await lb(e);if(t){n(t);const s=(await cb()).filter((t=>t.id!==e));r(s.slice(0,4))}}catch(t){Pt.error("Dolo k chyb pi natn produktu")}finally{a(!1)}}})()}),[e]);return i?X.jsx(KP,{children:X.jsx("div",{className:"container-custom py-16",children:X.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:X.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-r-transparent"})})})}):t?X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-8",children:[X.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-6",children:[X.jsx(ct,{to:"/",className:"hover:text-foreground transition-colors",children:"Dom"}),X.jsx(Vw,{className:"h-4 w-4 mx-2"}),X.jsx(ct,{to:"/catalog",className:"hover:text-foreground transition-colors",children:"Katalog"}),X.jsx(Vw,{className:"h-4 w-4 mx-2"}),X.jsx(ct,{to:`/catalog/${t.category}`,className:"hover:text-foreground transition-colors",children:"bouquets"===t.category?"Kytice":"plants"===t.category?"Pokojov rostliny":"wedding"===t.category?"Svatebn kvtiny":"gifts"===t.category?"Drky":t.category}),X.jsx(Vw,{className:"h-4 w-4 mx-2"}),X.jsx("span",{children:t.name})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:[X.jsxs("div",{className:"relative",children:[X.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:X.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),t.featured&&X.jsx(VN,{className:"absolute top-4 left-4 bg-primary text-primary-foreground",children:"Oblben"}),X.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[X.jsx(Cw,{variant:"secondary",size:"icon",className:"rounded-full",children:X.jsx(sj,{className:"h-5 w-5"})}),X.jsx(Cw,{variant:"secondary",size:"icon",className:"rounded-full",children:X.jsx(Ej,{className:"h-5 w-5"})})]})]}),X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),X.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[X.jsx("div",{className:"flex",children:[1,2,3,4,5].map((e=>X.jsx(Rj,{className:"h-5 w-5 "+(e<=4?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),X.jsx("span",{className:"text-sm text-muted-foreground",children:"(12 recenz)"})]}),X.jsxs("div",{className:"text-2xl font-semibold mb-6",children:[t.price," K"]}),X.jsx("p",{className:"text-muted-foreground mb-6",children:t.description}),X.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[X.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",children:X.jsx(Uw,{className:"h-3 w-3 text-white"})}),X.jsx("span",{className:"text-green-600 font-medium",children:"Skladem"})]}),X.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[X.jsxs("div",{className:"flex items-center border border-input rounded-md",children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>l(Math.max(1,o-1)),className:"rounded-none",children:X.jsx(gj,{className:"h-4 w-4"})}),X.jsx("span",{className:"w-10 text-center",children:o}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>l(o+1),className:"rounded-none",children:X.jsx(jj,{className:"h-4 w-4"})})]}),X.jsxs(Cw,{className:"flex-1",onClick:()=>{if(t)try{for(let e=0;e<o;e++)c({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl});Pt.success(`${t.name} pidn do koku`)}catch(e){Pt.error("Nepodailo se pidat produkt do koku")}},children:[X.jsx(_j,{className:"mr-2 h-5 w-5"}),"Pidat do koku"]})]}),X.jsx(Uk,{className:"mb-6",children:X.jsx(qk,{className:"p-4",children:X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(zj,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:"Doruen"}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:["Doruen po Praze bhem 2-3 hodin. ",X.jsx(ct,{to:"/delivery",className:"text-primary hover:underline",children:"Vce o doruen"})]})]})]})})}),t.tags&&t.tags.length>0&&X.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(((e,t)=>X.jsx(VN,{variant:"secondary",children:e},t)))})]})]}),X.jsxs(ak,{defaultValue:"details",className:"mb-16",children:[X.jsxs(ok,{className:"w-full sm:w-auto",children:[X.jsx(lk,{value:"details",children:"Detaily"}),X.jsx(lk,{value:"care",children:"Pe"}),X.jsx(lk,{value:"reviews",children:"Recenze (12)"})]}),X.jsx(ck,{value:"details",className:"mt-6",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Popis produktu"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:t.description}),X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Specifikace"}),X.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"flex justify-between pb-2 border-b border-border",children:[X.jsx("span",{className:"text-muted-foreground",children:"Kategorie"}),X.jsx("span",{children:"bouquets"===t.category?"Kytice":"plants"===t.category?"Pokojov rostliny":"wedding"===t.category?"Svatebn kvtiny":"gifts"===t.category?"Drky":t.category})]}),X.jsxs("div",{className:"flex justify-between pb-2 border-b border-border",children:[X.jsx("span",{className:"text-muted-foreground",children:"Kd produktu"}),X.jsxs("span",{children:["KS-",t.id.slice(0,6)]})]})]})]})})}),X.jsx(ck,{value:"care",className:"mt-6",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Doporuen k pi"}),"plants"===t.category?X.jsxs("div",{className:"space-y-4",children:[X.jsx("p",{className:"text-muted-foreground",children:"Pro zajitn dlouhho ivota va pokojov rostliny, dodrujte tato doporuen:"}),X.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-muted-foreground",children:[X.jsx("li",{children:"Umstte rostlinu na msto s jasnm nepmm svtlem"}),X.jsx("li",{children:"Zalvejte stdm, nechte vrchn vrstvu pdy vyschnout mezi zalvnm"}),X.jsx("li",{children:"Udrujte vlhkost vzduchu, zejmna v zim"}),X.jsx("li",{children:"Pihnojujte hnojivem pro pokojov rostliny v obdob aktivnho rstu"}),X.jsx("li",{children:"Pravideln kontrolujte, zda rostlina nem kdce"})]})]}):X.jsxs("div",{className:"space-y-4",children:[X.jsx("p",{className:"text-muted-foreground",children:"Aby vae kvtiny zstaly sv co nejdle, dodrujte tato jednoduch doporuen:"}),X.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-muted-foreground",children:[X.jsx("li",{children:"Vlote kytici do ist vzy s chladnou vodou"}),X.jsx("li",{children:"Zkrate stonky ikmo ped vloenm do vody"}),X.jsx("li",{children:"Mte vodu kad 2-3 dny"}),X.jsx("li",{children:"Udrujte kvtiny mimo pm slunen svtlo a zdroje tepla"}),X.jsx("li",{children:"Odstraujte zvadl kvty a listy"})]})]})]})})}),X.jsx(ck,{value:"reviews",className:"mt-6",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"flex justify-between items-center mb-6",children:[X.jsx("h3",{className:"text-lg font-semibold",children:"Recenze zkaznk"}),X.jsx(Cw,{children:"Napsat recenzi"})]}),X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"border-b border-border pb-6",children:[X.jsxs("div",{className:"flex justify-between mb-2",children:[X.jsx("span",{className:"font-medium",children:"Anna K."}),X.jsx("span",{className:"text-sm text-muted-foreground",children:"15.04.2023"})]}),X.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>X.jsx(Rj,{className:"h-4 w-4 "+(e<=5?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),X.jsx("p",{className:"text-muted-foreground",children:"Krsn kvtiny, vypadaj jet lpe ne na fotografii. Doruen bylo vas. Jsem velmi spokojen!"})]}),X.jsxs("div",{className:"border-b border-border pb-6",children:[X.jsxs("div",{className:"flex justify-between mb-2",children:[X.jsx("span",{className:"font-medium",children:"Petr V."}),X.jsx("span",{className:"text-sm text-muted-foreground",children:"03.04.2023"})]}),X.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>X.jsx(Rj,{className:"h-4 w-4 "+(e<=4?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),X.jsx("p",{className:"text-muted-foreground",children:"Objednal jsem kytici pro manelku k vro. Kvalita je vynikajc, kvtiny jsou erstv. Manelka byla naden!"})]}),X.jsxs("div",{children:[X.jsxs("div",{className:"flex justify-between mb-2",children:[X.jsx("span",{className:"font-medium",children:"Marie D."}),X.jsx("span",{className:"text-sm text-muted-foreground",children:"25.03.2023"})]}),X.jsx("div",{className:"flex mb-2",children:[1,2,3,4,5].map((e=>X.jsx(Rj,{className:"h-4 w-4 "+(e<=5?"text-yellow-400 fill-yellow-400":"text-gray-300")},e)))}),X.jsx("p",{className:"text-muted-foreground",children:"Ji nkolikrt jsem objednala kvtiny v Kvitko Sweet a vdy jsem spokojen. erstv kvtiny, krsn prava, rychl doruen!"})]})]})]})})})]}),s.length>0&&X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Mohlo by se vm tak lbit"}),X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((e=>X.jsx(GP,{product:e},e.id)))})]})]})}):X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-16",children:[X.jsx("h1",{className:"text-2xl font-bold",children:"Produkt nebyl nalezen"}),X.jsx("p",{className:"mt-4",children:"Bohuel poadovan produkt neexistuje nebo byl odstrann."}),X.jsx(Cw,{asChild:!0,className:"mt-6",children:X.jsx(ct,{to:"/catalog",children:"Zpt do katalogu"})})]})})}function Kz(){const{cart:e,removeFromCart:t,updateQuantity:n,getTotal:s,clearCart:r}=jb();return 0===e.length?X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-16 text-center",children:[X.jsx(_j,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),X.jsx("h1",{className:"text-2xl font-bold mb-4",children:"V kok je przdn"}),X.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-8",children:"Vypad to, e jste si zatm nic nevybrali. Prozkoumejte n katalog a objevte krsn kvtiny."}),X.jsx(Cw,{asChild:!0,children:X.jsx(ct,{to:"/catalog",children:"Prozkoumat katalog"})})]})}):X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-12",children:[X.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Nkupn kok"}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[X.jsxs("div",{className:"lg:col-span-2",children:[X.jsx("div",{className:"space-y-6",children:e.map((e=>X.jsxs("div",{className:"flex items-center gap-4 border-b border-border pb-6",children:[X.jsx("div",{className:"w-20 h-20 shrink-0 rounded-md overflow-hidden",children:X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),X.jsxs("div",{className:"flex-1",children:[X.jsx("h3",{className:"font-semibold",children:e.name}),X.jsxs("p",{className:"text-muted-foreground",children:[e.price," K"]})]}),X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>n(e.id,e.quantity-1),children:"-"}),X.jsx("span",{className:"min-w-8 text-center",children:e.quantity}),X.jsx(Cw,{variant:"outline",size:"icon",onClick:()=>n(e.id,e.quantity+1),children:"+"})]}),X.jsx("div",{className:"text-right min-w-24",children:X.jsxs("p",{className:"font-semibold",children:[e.price*e.quantity," K"]})}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>t(e.id),"aria-label":"Odstranit poloku",children:X.jsx(Lj,{className:"h-4 w-4"})})]},e.id)))}),X.jsxs("div",{className:"flex justify-between mt-6",children:[X.jsx(Cw,{variant:"outline",onClick:r,children:"Vyprzdnit kok"}),X.jsx(Cw,{variant:"outline",asChild:!0,children:X.jsx(ct,{to:"/catalog",children:"Pokraovat v nkupu"})})]})]}),X.jsx("div",{className:"lg:col-span-1",children:X.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[X.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Souhrn objednvky"}),X.jsxs("div",{className:"space-y-3",children:[X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),X.jsxs("span",{children:[s()," K"]})]}),X.jsxs("div",{className:"flex justify-between",children:[X.jsx("span",{className:"text-muted-foreground",children:"Doprava:"}),X.jsx("span",{children:"Vypoteno v dalm kroku"})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[X.jsx("span",{children:"Celkem:"}),X.jsxs("span",{children:[s()," K"]})]})]}),X.jsx(Cw,{className:"w-full mt-6",asChild:!0,children:X.jsxs(ct,{to:"/checkout",children:["Pokraovat k pokladn",X.jsx(Pw,{className:"ml-2 h-4 w-4"})]})})]})})]})]})})}var Wz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gz=at.createContext&&at.createContext(Wz),Qz=["attr","size","title"];function Yz(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xz(){return Xz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xz.apply(this,arguments)}function Jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Zz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jz(Object(n),!0).forEach((function(t){eV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){return e&&e.map(((e,t)=>at.createElement(e.tag,Zz({key:t},e.attr),tV(e.child))))}function nV(e){return t=>at.createElement(sV,Xz({attr:Zz({},e.attr)},t),tV(e.child))}function sV(e){var t=t=>{var n,{attr:s,size:r,title:i}=e,a=Yz(e,Qz),o=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),at.createElement("svg",Xz({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,a,{className:n,style:Zz(Zz({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&at.createElement("title",null,i),e.children)};return void 0!==Gz?at.createElement(Gz.Consumer,null,(e=>t(e))):t(Wz)}function rV(e){return nV({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}function iV(){var e,t;const[n,s]=lt.useState(""),[r,i]=lt.useState(""),[a,o]=lt.useState(!1),{login:l,loginWithGoogle:c}=yb(),d=ht(),u=(null==(t=null==(e=ut().state)?void 0:e.from)?void 0:t.pathname)||"/";return X.jsx(KP,{children:X.jsx("div",{className:"container-custom py-12 flex items-center justify-center min-h-[70vh]",children:X.jsx("div",{className:"w-full max-w-md",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"text-center mb-6",children:[X.jsx("h1",{className:"text-2xl font-bold",children:"Pihlen"}),X.jsx("p",{className:"text-muted-foreground mt-2",children:"Pihlaste se pro pstup ke svmu tu"})]}),X.jsxs(Cw,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2 mb-4",onClick:async()=>{o(!0);try{await c(),Pt.success("Pihlen pes Google spn"),d(u,{replace:!0})}catch(e){Pt.error("Google pihlen se nezdailo")}finally{o(!1)}},disabled:a,children:[X.jsx(rV,{size:22}),"Pihlsit se pes Google"]}),X.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await l(n,r),Pt.success("Pihlen spn"),d(u,{replace:!0})}catch(t){let e="Pihlen se nezdailo";"auth/invalid-email"===t.code?e="Neplatn formt e-mailu":"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?e="Nesprvn e-mail nebo heslo":"auth/too-many-requests"===t.code&&(e="Pli mnoho pokus o pihlen. Zkuste to prosm pozdji"),Pt.error(e)}finally{o(!1)}},className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"email",children:"E-mail"}),X.jsx(dk,{id:"email",type:"email",value:n,onChange:e=>s(e.target.value),placeholder:"Zadejte svj e-mail",required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx(TR,{htmlFor:"password",children:"Heslo"}),X.jsx(ct,{to:"/reset-password",className:"text-sm text-primary hover:underline",children:"Zapomenut heslo?"})]}),X.jsx(dk,{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),placeholder:"Zadejte sv heslo",required:!0})]}),X.jsx(Cw,{type:"submit",className:"w-full",disabled:a,children:a?"Pihlauji...":"Pihlsit se"})]}),X.jsx("div",{className:"mt-6 text-center",children:X.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nemte jet et?"," ",X.jsx(ct,{to:"/register",className:"text-primary hover:underline",children:"Zaregistrujte se"})]})})]})})})})})}function aV(){const[e,t]=lt.useState(""),[n,s]=lt.useState(""),[r,i]=lt.useState(""),[a,o]=lt.useState(""),[l,c]=lt.useState(!1),[d,u]=lt.useState(!1),{register:h}=yb(),m=ht();return X.jsx(KP,{children:X.jsx("div",{className:"container-custom py-12 flex items-center justify-center min-h-[70vh]",children:X.jsx("div",{className:"w-full max-w-md",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"text-center mb-6",children:[X.jsx("h1",{className:"text-2xl font-bold",children:"Registrace"}),X.jsx("p",{className:"text-muted-foreground mt-2",children:"Vytvote si et pro pstup k rozenm funkcm"})]}),X.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),r===a)if(l){u(!0);try{await h(n,r,e),Pt.success("Registrace probhla spn"),m("/")}catch(s){let e="Registrace se nezdaila";"auth/email-already-in-use"===s.code?e="Tento e-mail je ji pouvn":"auth/invalid-email"===s.code?e="Neplatn formt e-mailu":"auth/weak-password"===s.code&&(e="Pli slab heslo"),Pt.error(e)}finally{u(!1)}}else Pt.error("Je nutn souhlasit s obchodnmi podmnkami");else Pt.error("Hesla se neshoduj")},className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"displayName",children:"Jmno"}),X.jsx(dk,{id:"displayName",value:e,onChange:e=>t(e.target.value),placeholder:"Zadejte sv jmno",required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"email",children:"E-mail"}),X.jsx(dk,{id:"email",type:"email",value:n,onChange:e=>s(e.target.value),placeholder:"Zadejte svj e-mail",required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"password",children:"Heslo"}),X.jsx(dk,{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),placeholder:"Zadejte heslo",required:!0,minLength:6}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimln 6 znak"})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"confirmPassword",children:"Potvrte heslo"}),X.jsx(dk,{id:"confirmPassword",type:"password",value:a,onChange:e=>o(e.target.value),placeholder:"Zopakujte heslo",required:!0,minLength:6})]}),X.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[X.jsx(NR,{id:"terms",checked:l,onCheckedChange:e=>c(e)}),X.jsxs(TR,{htmlFor:"terms",className:"text-sm font-normal",children:["Souhlasm s"," ",X.jsx(ct,{to:"/terms",className:"text-primary hover:underline",children:"obchodnmi podmnkami"})," ","a"," ",X.jsx(ct,{to:"/privacy",className:"text-primary hover:underline",children:"zsadami ochrany osobnch daj"})]})]}),X.jsx(Cw,{type:"submit",className:"w-full",disabled:d||!l,children:d?"Registruji...":"Zaregistrovat se"})]}),X.jsx("div",{className:"mt-6 text-center",children:X.jsxs("p",{className:"text-sm text-muted-foreground",children:["U mte et?"," ",X.jsx(ct,{to:"/login",className:"text-primary hover:underline",children:"Pihlsit se"})]})})]})})})})})}function oV(){var e,t,n,s;const[r,i]=lt.useState("profile"),[a,o]=lt.useState(!0),[l,c]=lt.useState([]),[d,u]=lt.useState([]),{user:h,updateProfile:m,logout:f}=yb(),[p,g]=lt.useState({displayName:(null==h?void 0:h.displayName)||"",email:(null==h?void 0:h.email)||"",phoneNumber:(null==h?void 0:h.phoneNumber)||"",address:{street:(null==(e=null==h?void 0:h.address)?void 0:e.street)||"",city:(null==(t=null==h?void 0:h.address)?void 0:t.city)||"",postalCode:(null==(n=null==h?void 0:h.address)?void 0:n.postalCode)||"",country:(null==(s=null==h?void 0:h.address)?void 0:s.country)||""}});lt.useEffect((()=>{if(h){(async()=>{try{const e=await(async()=>[])(h.id);c(e);const t=await(async()=>[])(h.id);u(t)}catch(e){Pt.error("Nepodailo se nast data. Zkuste to prosm pozdji.")}finally{o(!1)}})()}}),[h]);const x=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,s]=t.split(".");"address"===e&&g((e=>({...e,address:{...e.address,[s]:n}})))}else g((e=>({...e,[t]:n})))};return X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-12",children:[X.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Mj et"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[X.jsx("div",{className:"md:col-span-1",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"flex flex-col items-center mb-6",children:[X.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),X.jsx("h2",{className:"font-semibold text-lg",children:(null==h?void 0:h.displayName)||"Uivatel"}),X.jsx("p",{className:"text-sm text-muted-foreground",children:null==h?void 0:h.email})]}),X.jsx(Lk,{className:"mb-6"}),X.jsxs("nav",{className:"space-y-1",children:[X.jsxs(Cw,{variant:"profile"===r?"default":"ghost",className:"w-full justify-start",onClick:()=>i("profile"),children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Osobn daje"]}),X.jsxs(Cw,{variant:"orders"===r?"default":"ghost",className:"w-full justify-start",onClick:()=>i("orders"),children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Moje objednvky"]}),X.jsxs(Cw,{variant:"bouquets"===r?"default":"ghost",className:"w-full justify-start",onClick:()=>i("bouquets"),children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Moje kytice"]}),X.jsxs(Cw,{variant:"settings"===r?"default":"ghost",className:"w-full justify-start",onClick:()=>i("settings"),children:[X.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Nastaven"]}),X.jsx(Lk,{className:"my-2"}),X.jsxs(Cw,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:async()=>{try{await f(),Pt.success("spn jste se odhlsili")}catch(e){Pt.error("Chyba pi odhlen")}},children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Odhlsit se"]})]})]})})}),X.jsxs("div",{className:"md:col-span-3",children:["profile"===r&&X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Osobn daje"}),X.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await m({displayName:p.displayName,phoneNumber:p.phoneNumber,address:p.address}),Pt.success("Profil byl spn aktualizovn")}catch(t){Pt.error("Nepodailo se aktualizovat profil. Zkuste to prosm pozdji.")}finally{o(!1)}},children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"displayName",children:"Jmno"}),X.jsx(dk,{id:"displayName",name:"displayName",value:p.displayName,onChange:x})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"email",children:"E-mail"}),X.jsx(dk,{id:"email",name:"email",value:p.email,onChange:x,disabled:!0}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"E-mail nelze zmnit"})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"phoneNumber",children:"Telefon"}),X.jsx(dk,{id:"phoneNumber",name:"phoneNumber",value:p.phoneNumber,onChange:x})]})]}),X.jsx("h3",{className:"text-lg font-medium mb-4",children:"Doruovac adresa"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"address.street",children:"Ulice a slo"}),X.jsx(dk,{id:"address.street",name:"address.street",value:p.address.street,onChange:x})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"address.city",children:"Msto"}),X.jsx(dk,{id:"address.city",name:"address.city",value:p.address.city,onChange:x})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"address.postalCode",children:"PS"}),X.jsx(dk,{id:"address.postalCode",name:"address.postalCode",value:p.address.postalCode,onChange:x})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"address.country",children:"Zem"}),X.jsx(dk,{id:"address.country",name:"address.country",value:p.address.country,onChange:x})]})]}),X.jsx(Cw,{type:"submit",disabled:a,children:a?"Ukldn...":"Uloit zmny"})]})]})}),"orders"===r&&X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Moje objednvky"}),l.length>0?X.jsx("div",{className:"space-y-6",children:l.map((e=>X.jsx(Uk,{className:"overflow-hidden",children:X.jsxs(qk,{className:"p-4",children:[X.jsxs("div",{className:"flex justify-between items-start mb-4",children:[X.jsxs("div",{children:[X.jsxs("p",{className:"font-medium",children:["Objednvka #",e.id.slice(0,6)]}),X.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("cs-CZ")})]}),X.jsx("div",{children:X.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("delivered"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"delivered"===e.status?"Dorueno":"shipped"===e.status?"Odeslno":"processing"===e.status?"Zpracovv se":"pending"===e.status?"ek na platbu":"Zrueno"})})]}),X.jsx("div",{className:"space-y-2 mb-4",children:e.items.map(((e,t)=>X.jsxs("div",{className:"flex justify-between",children:[X.jsxs("span",{children:[e.name,"  ",e.quantity]}),X.jsxs("span",{children:[e.price*e.quantity," K"]})]},t)))}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex justify-between font-semibold",children:[X.jsx("span",{children:"Celkem:"}),X.jsxs("span",{children:[e.totalAmount," K"]})]})]})},e.id)))}):X.jsxs("div",{className:"text-center py-12",children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-muted-foreground mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),X.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zatm nemte dn objednvky"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"A zadte prvn objednvku, zobraz se zde."}),X.jsx(Cw,{asChild:!0,children:X.jsx("a",{href:"/catalog",children:"Pejt do katalogu"})})]})]})}),"bouquets"===r&&X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Moje kytice"}),d.length>0?X.jsx("div",{className:"space-y-6",children:d.map((e=>X.jsx(Uk,{className:"overflow-hidden",children:X.jsxs(qk,{className:"p-4",children:[X.jsxs("div",{className:"flex justify-between items-start mb-4",children:[X.jsxs("div",{children:[X.jsxs("p",{className:"font-medium",children:["Kytice #",e.id.slice(0,6)]}),X.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("cs-CZ")})]}),X.jsx("div",{children:X.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("completed"===e.status?"bg-green-100 text-green-800":"ordered"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Dokoneno":"ordered"===e.status?"Objednno":"Koncept"})})]}),X.jsxs("div",{className:"space-y-2 mb-4",children:[X.jsx("p",{className:"font-medium",children:"Kvtiny:"}),e.flowers.map(((e,t)=>X.jsx("div",{className:"flex justify-between",children:X.jsxs("span",{children:["Kvtina ID ",e.flowerId,"  ",e.quantity]})},t))),e.message&&X.jsxs("div",{className:"mt-4",children:[X.jsx("p",{className:"font-medium",children:"Zprva:"}),X.jsxs("p",{className:"italic",children:['"',e.message,'"']})]})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex justify-between font-semibold",children:[X.jsx("span",{children:"Cena:"}),X.jsxs("span",{children:[e.price," K"]})]}),"draft"===e.status&&X.jsx("div",{className:"mt-4",children:X.jsx(Cw,{className:"w-full",children:"Dokonit objednvku"})})]})},e.id)))}):X.jsxs("div",{className:"text-center py-12",children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-muted-foreground mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),X.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zatm nemte dn vlastn kytice"}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"Vytvote si svou prvn uniktn kytici."}),X.jsx(Cw,{asChild:!0,children:X.jsx("a",{href:"/custom-bouquet",children:"Vytvoit kytici"})})]})]})}),"settings"===r&&X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Nastaven"}),X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Zmna hesla"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:"Pro zmnu hesla vm zaleme e-mail na vai e-mailovou adresu."}),X.jsx(Cw,{children:"Resetovat heslo"})]}),X.jsx(Lk,{}),X.jsxs("div",{children:[X.jsx("h3",{className:"text-lg font-medium mb-2",children:"Smazn tu"}),X.jsx("p",{className:"text-muted-foreground mb-4",children:"Upozornn! Tato akce nenvratn smae v et a vechna souvisejc data."}),X.jsx(Cw,{variant:"destructive",children:"Smazat et"})]})]})]})})]})]})]})})}const lV=[{id:"prague-1",name:"Praha 1",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-2",name:"Praha 2",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-3",name:"Praha 3",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-4",name:"Praha 4",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-5",name:"Praha 5",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-6",name:"Praha 6",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-7",name:"Praha 7",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-8",name:"Praha 8",time:"2-3 hodiny",price:149,freeOver:1500},{id:"prague-9",name:"Praha 9",time:"3-4 hodiny",price:199,freeOver:1500},{id:"prague-10",name:"Praha 10",time:"3-4 hodiny",price:199,freeOver:1500}],cV=[{id:"zone-1",name:"Do 10 km od Prahy",time:"3-5 hodin",price:249,freeOver:2e3},{id:"zone-2",name:"10-20 km od Prahy",time:"3-5 hodin",price:349,freeOver:2500},{id:"zone-3",name:"20-30 km od Prahy",time:"4-6 hodin",price:449,freeOver:3e3}],dV=[{id:"standard",name:"Standardn doruen",description:"Doruen ve stejn den, pokud je objednvka zadna do 14:00",price:149,icon:zj},{id:"express",name:"Expresn doruen",description:"Doruen do 2-3 hodin od objednvky",price:249,icon:$w},{id:"scheduled",name:"Plnovan doruen",description:"Vyberte konkrtn datum a asov rozmez",price:199,icon:Lw},{id:"pickup",name:"Osobn odbr",description:"Vyzvednut objednvky v na prodejn",price:0,icon:yj}];function uV(){const[e,t]=lt.useState(null);return X.jsxs(KP,{children:[X.jsx("section",{className:"bg-muted py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Doruen a platba"}),X.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Nabzme rychl a spolehliv doruen po Praze a okol. Vyberte si zpsob doruen a platby, kter vm vyhovuje."})]})}),X.jsx("section",{className:"py-12",children:X.jsxs("div",{className:"container-custom",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6 flex flex-col items-center text-center",children:[X.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:X.jsx(zj,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Rychl doruen"}),X.jsx("p",{className:"text-muted-foreground",children:"Doruujeme v den objednvky po cel Praze. Do okol doruujeme do 3-5 hodin."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6 flex flex-col items-center text-center",children:[X.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:X.jsx(Fw,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Doprava zdarma"}),X.jsx("p",{className:"text-muted-foreground",children:"Pi objednvce nad 1500 K je doprava po Praze zdarma. Pro okol od 2000 K."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6 flex flex-col items-center text-center",children:[X.jsx("div",{className:"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:X.jsx(Hw,{className:"h-6 w-6 text-primary"})}),X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Rzn zpsoby platby"}),X.jsx("p",{className:"text-muted-foreground",children:"Pijmme platby kartou, hotov pi doruen a bankovnm pevodem."})]})})]}),X.jsxs("div",{className:"mb-12",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Monosti doruen"}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:dV.map((e=>X.jsx(Uk,{className:"transition-all hover:border-primary hover:shadow-md",children:X.jsxs(qk,{className:"p-6",children:[X.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center mb-4",children:X.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),X.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),X.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:e.description}),X.jsx("div",{className:"flex justify-between items-center",children:X.jsx("span",{className:"font-semibold",children:e.price>0?`${e.price} K`:"Zdarma"})})]})},e.id)))})]}),X.jsxs("div",{className:"mb-12",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Zny doruen"}),X.jsxs(ak,{defaultValue:"prague",className:"w-full",children:[X.jsxs(ok,{className:"mb-4",children:[X.jsx(lk,{value:"prague",children:"Praha"}),X.jsx(lk,{value:"surroundings",children:"Okol"})]}),X.jsx(ck,{value:"prague",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("div",{className:"mb-4",children:X.jsx("p",{className:"text-muted-foreground",children:"Doruujeme do vech st Prahy. Cena doruen zvis na mstsk sti. Pi objednvce nad 1500 K je doruen zdarma."})}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:lV.map((n=>X.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors "+(e===n.id?"border-primary bg-primary/5":"border-muted hover:border-primary/50"),onClick:()=>t(n.id),children:[X.jsxs("div",{className:"flex justify-between mb-2",children:[X.jsx("span",{className:"font-medium",children:n.name}),X.jsxs("span",{className:"font-medium",children:[n.price," K"]})]}),X.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[X.jsxs("span",{children:["Doba doruen: ",n.time]}),n.freeOver&&X.jsxs("span",{children:["Zdarma od ",n.freeOver," K"]})]})]},n.id)))})]})})}),X.jsx(ck,{value:"surroundings",children:X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("div",{className:"mb-4",children:X.jsx("p",{className:"text-muted-foreground",children:"Doruujeme tak do okol Prahy. Cena a as doruen zvis na vzdlenosti."})}),X.jsx("div",{className:"grid grid-cols-1 gap-4",children:cV.map((n=>X.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors "+(e===n.id?"border-primary bg-primary/5":"border-muted hover:border-primary/50"),onClick:()=>t(n.id),children:[X.jsxs("div",{className:"flex justify-between mb-2",children:[X.jsx("span",{className:"font-medium",children:n.name}),X.jsxs("span",{className:"font-medium",children:[n.price," K"]})]}),X.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[X.jsxs("span",{children:["Doba doruen: ",n.time]}),n.freeOver&&X.jsxs("span",{children:["Zdarma od ",n.freeOver," K"]})]})]},n.id)))})]})})})]})]}),X.jsxs("div",{className:"mb-12",children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Zpsoby platby"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[X.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:X.jsx(Hw,{className:"h-5 w-5 text-primary"})}),X.jsx("h3",{className:"font-semibold",children:"Platebn karta"})]}),X.jsx("p",{className:"text-muted-foreground",children:"Zaplate objednvku online platebn kartou Visa, Mastercard, American Express."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[X.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:X.jsx(mj,{className:"h-5 w-5 text-primary"})}),X.jsx("h3",{className:"font-semibold",children:"Hotov pi doruen"})]}),X.jsx("p",{className:"text-muted-foreground",children:"Zaplate objednvku hotov kurrovi pi pevzet."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[X.jsx("div",{className:"bg-primary/10 w-10 h-10 rounded-full flex items-center justify-center",children:X.jsx(yj,{className:"h-5 w-5 text-primary"})}),X.jsx("h3",{className:"font-semibold",children:"Bankovn pevod"})]}),X.jsx("p",{className:"text-muted-foreground",children:"Zaplate objednvku bankovnm pevodem. Objednvka bude zpracovna po pijet platby."})]})})]})]}),X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"asto kladen otzky"}),X.jsxs("div",{className:"space-y-4",children:[X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Jak rychle doruujete?"}),X.jsx("p",{className:"text-muted-foreground",children:"Pro Prahu standardn doruen probh ve stejn den, pokud je objednvka zadna do 14:00. Expresn doruen je k dispozici do 2-3 hodin od potvrzen objednvky. Pro okol doruujeme do 3-6 hodin v zvislosti na vzdlenosti."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Mohu si vybrat konkrtn as doruen?"}),X.jsx("p",{className:"text-muted-foreground",children:"Ano, mete si vybrat plnovan doruen a urit poadovan datum a asov interval. Tato sluba stoj 199 K."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Co dlat, kdy pjemce nen doma?"}),X.jsx("p",{className:"text-muted-foreground",children:"V ppad neptomnosti pjemce se s nm kurr spoj telefonicky. Pokud se nepoda spojit, kurr zanech oznmen a kvtiny budou vrceny do obchodu. Kontaktujeme vs pro zorganizovn opakovanho doruen."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Je mon doruit kvtiny anonymn?"}),X.jsx("p",{className:"text-muted-foreground",children:"Ano, mete uvst, e si pejete zachovat anonymitu. V tomto ppad pjemce nebude vdt, kdo kvtiny poslal, pokud to neuvedete v kartice se zprvou."})]})}),X.jsx(Uk,{children:X.jsxs(qk,{className:"p-6",children:[X.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Doruujete i do jinch mst v esk republice?"}),X.jsx("p",{className:"text-muted-foreground",children:"V souasn dob zajiujeme doruen pouze po Praze a nejblim okol v okruhu 30 km. Pro doruen do jinch mst ns prosm kontaktujte pro individuln kalkulaci."})]})})]})]})]})}),X.jsx("section",{className:"py-12 bg-muted",children:X.jsxs("div",{className:"container-custom text-center",children:[X.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Jste pipraveni objednat?"}),X.jsx("p",{className:"text-muted-foreground mb-6 max-w-lg mx-auto",children:"Vyberte si ideln kytici z naeho katalogu nebo si vytvote svou vlastn. Dorume ji s lskou a p."}),X.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[X.jsx(Cw,{size:"lg",asChild:!0,children:X.jsx("a",{href:"/catalog",children:"Pejt do katalogu"})}),X.jsx(Cw,{variant:"outline",size:"lg",asChild:!0,children:X.jsx("a",{href:"/custom-bouquet",children:"Vytvoit vlastn kytici"})})]})]})})]})}function hV({children:e,adminOnly:t=!1}){const{user:n,isAuthenticated:s,loading:r}=yb(),i=ut();return r?X.jsx(KP,{children:X.jsx("div",{className:"container-custom py-16 flex items-center justify-center",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-r-transparent mb-4"}),X.jsx("p",{className:"text-lg",children:" ..."})]})})}):s?t&&!(null==n?void 0:n.isAdmin)?X.jsx(KP,{children:X.jsxs("div",{className:"container-custom py-16 text-center",children:[X.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),X.jsx("p",{className:"text-muted-foreground mb-6",children:"        ."}),X.jsx(Cw,{asChild:!0,children:X.jsx(ct,{to:"/",children:"  "})})]})}):X.jsx(X.Fragment,{children:e}):X.jsx(gt,{to:"/login",state:{from:i},replace:!0})}function mV({children:e}){const[t,n]=lt.useState(!1),{user:s,logout:r}=yb(),i=ut(),a=ht(),o=e=>i.pathname===e||i.pathname.startsWith(`${e}/`),l="bg-primary/10 text-primary",c=async()=>{try{await r(),Pt.success("    "),a("/login")}catch(e){Pt.error("    ")}},d=[{path:"/admin",label:" ",icon:ij},{path:"/admin/products",label:"",icon:vj},{path:"/admin/categories",label:"",icon:Mj},{path:"/admin/flowers",label:"",icon:Zw},{path:"/admin/orders",label:"",icon:_j},{path:"/admin/users",label:"",icon:qj},{path:"/admin/testimonials",label:"",icon:pj},{path:"/admin/blog",label:"",icon:Xw},{path:"/admin/settings",label:"",icon:Tj}];return X.jsxs("div",{className:"flex min-h-screen bg-muted/30",children:[X.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0 z-[80] bg-background border-r",children:X.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto",children:[X.jsx("div",{className:"flex items-center justify-center h-16 flex-shrink-0 px-4 mb-2",children:X.jsx(_k,{})}),X.jsx("div",{className:"px-3 mb-6",children:X.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:""})}),X.jsx("nav",{className:"flex-1 px-3 space-y-1",children:d.map((e=>X.jsxs(ct,{to:e.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${o(e.path)?l:"text-muted-foreground hover:bg-muted"}`,children:[X.jsx(e.icon,{className:"mr-3 h-5 w-5 "+(o(e.path)?"text-primary":"text-muted-foreground")}),e.label]},e.path)))}),X.jsxs("div",{className:"px-3 mt-6",children:[X.jsx(Lk,{className:"mb-3"}),X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",className:"w-full justify-start",children:X.jsxs("div",{className:"flex items-center",children:[X.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-2",children:X.jsx(qj,{className:"h-4 w-4 text-primary"})}),X.jsxs("div",{className:"flex-1 text-left",children:[X.jsx("p",{className:"text-sm font-medium",children:(null==s?void 0:s.displayName)||""}),X.jsx("p",{className:"text-xs text-muted-foreground",children:null==s?void 0:s.email})]}),X.jsx(zw,{className:"h-4 w-4 text-muted-foreground"})]})})}),X.jsxs(Tk,{align:"end",className:"w-56",children:[X.jsx(Ak,{children:" "}),X.jsx(Ik,{}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/admin/profile",children:""})}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/admin/settings",children:""})}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/",target:"_blank",children:" "})}),X.jsx(Ik,{}),X.jsxs(Ek,{onClick:c,className:"text-destructive focus:text-destructive",children:[X.jsx(uj,{className:"mr-2 h-4 w-4"}),X.jsx("span",{children:""})]})]})]})]})]})}),X.jsxs("div",{className:"sticky top-0 z-30 flex h-16 w-full items-center gap-x-4 border-b bg-background px-4 md:hidden",children:[X.jsx(Cw,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(!0),children:X.jsx(fj,{className:"h-6 w-6"})}),X.jsx("div",{className:"flex-1",children:X.jsx(_k,{})}),X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"icon",children:X.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:X.jsx(qj,{className:"h-4 w-4 text-primary"})})})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:X.jsxs("div",{children:[X.jsx("p",{className:"text-sm font-medium",children:(null==s?void 0:s.displayName)||""}),X.jsx("p",{className:"text-xs text-muted-foreground",children:null==s?void 0:s.email})]})}),X.jsx(Ik,{}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/admin/profile",children:""})}),X.jsx(Ek,{asChild:!0,children:X.jsx(ct,{to:"/",target:"_blank",children:" "})}),X.jsx(Ik,{}),X.jsxs(Ek,{onClick:c,className:"text-destructive focus:text-destructive",children:[X.jsx(uj,{className:"mr-2 h-4 w-4"}),X.jsx("span",{children:""})]})]})]})]}),X.jsx(uk,{open:t,onOpenChange:n,children:X.jsx(gk,{side:"left",className:"w-64 p-0",children:X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[X.jsx(_k,{}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>n(!1),children:X.jsx(Hj,{className:"h-5 w-5"})})]}),X.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:X.jsx("nav",{className:"px-3 space-y-1",children:d.map((e=>X.jsxs(ct,{to:e.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${o(e.path)?l:"text-muted-foreground hover:bg-muted"}`,onClick:()=>n(!1),children:[X.jsx(e.icon,{className:"mr-3 h-5 w-5 "+(o(e.path)?"text-primary":"text-muted-foreground")}),e.label]},e.path)))})}),X.jsx("div",{className:"p-4 border-t",children:X.jsxs(Cw,{variant:"outline",className:"w-full",onClick:c,children:[X.jsx(uj,{className:"mr-2 h-4 w-4"}),""]})})]})})}),X.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:e})]})}const fV="users",pV=async()=>{try{const e=ug(Tp(mv,fV),gg("createdAt","desc"));return(await _g(e)).docs.map((e=>{var t,n,s;const r=e.data();return{id:e.id,displayName:r.displayName||(null==(t=r.email)?void 0:t.split("@")[0])||"",email:r.email||"",photoURL:r.photoURL,isAdmin:r.isAdmin||!1,createdAt:(null==(n=r.createdAt)?void 0:n.toDate())||new Date,lastLogin:null==(s=r.lastLogin)?void 0:s.toDate(),status:r.status||"active",phone:r.phone,address:r.address}}))}catch(e){throw e}},gV=({title:e,value:t,description:n,icon:s,trend:r,percentage:i})=>X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:e}),X.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center",children:X.jsx(s,{className:"h-5 w-5 text-primary"})})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:t}),X.jsxs("p",{className:"text-xs mt-1 text-muted-foreground flex items-center",children:[r&&X.jsxs(X.Fragment,{children:["up"===r?X.jsx(Dw,{className:"h-3 w-3 text-green-500 mr-1"}):"down"===r?X.jsx(Iw,{className:"h-3 w-3 text-red-500 mr-1"}):null,X.jsxs("span",{className:"up"===r?"text-green-500":"down"===r?"text-red-500":"",children:[i,"%"]}),X.jsx("span",{className:"text-muted-foreground ml-1",children:n})]}),!r&&n]})]})]}),xV=[{id:"ORD-123456",customer:" ",date:"2023-05-15",status:"delivered",total:1290},{id:"ORD-123455",customer:" ",date:"2023-05-14",status:"processing",total:890},{id:"ORD-123454",customer:" ",date:"2023-05-14",status:"pending",total:1490},{id:"ORD-123453",customer:" ",date:"2023-05-13",status:"cancelled",total:690},{id:"ORD-123452",customer:" ",date:"2023-05-13",status:"shipped",total:1190}],yV=e=>{const t=new Date(e);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric"}).format(t)};function vV(){const[e,t]=lt.useState(!0),[n,s]=lt.useState({totalProducts:0,totalCategories:0,totalUsers:0,totalOrders:0,revenueToday:0,revenueWeek:0,revenueMonth:0,popularProducts:[],blogPosts:0});lt.useEffect((()=>{(async()=>{t(!0);try{const e=await ob(),t=await ub(),n=await(async()=>{try{const e=ug(Tp(mv,fb),mg("published","==",!0),gg("publishedAt","desc"));return(await _g(e)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),publishedAt:null==(t=e.data().publishedAt)?void 0:t.toDate(),createdAt:null==(n=e.data().createdAt)?void 0:n.toDate()}}))}catch(e){throw e}})();let r,i;try{r=await(async()=>{try{const e=await mb(),t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),r=new Date(t.getFullYear(),t.getMonth(),1),i=e.filter((e=>"delivered"===e.status));return{totalOrders:e.length,pendingOrders:e.filter((e=>"pending"===e.status)).length,processingOrders:e.filter((e=>"processing"===e.status)).length,shippedOrders:e.filter((e=>"shipped"===e.status)).length,deliveredOrders:i.length,cancelledOrders:e.filter((e=>"cancelled"===e.status)).length,totalRevenue:i.reduce(((e,t)=>e+(t.totalPrice||0)),0),todayRevenue:i.filter((e=>e.createdAt>=n)).reduce(((e,t)=>e+(t.totalPrice||0)),0),weekRevenue:i.filter((e=>e.createdAt>=s)).reduce(((e,t)=>e+(t.totalPrice||0)),0),monthRevenue:i.filter((e=>e.createdAt>=r)).reduce(((e,t)=>e+(t.totalPrice||0)),0)}}catch(e){throw e}})()}catch{r={totalOrders:0,todayRevenue:0,weekRevenue:0,monthRevenue:0}}try{i=await(async()=>{try{const e=await pV(),t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1);return{totalUsers:e.length,activeUsers:e.filter((e=>"active"===e.status)).length,blockedUsers:e.filter((e=>"blocked"===e.status)).length,adminUsers:e.filter((e=>e.isAdmin)).length,newUsersThisMonth:e.filter((e=>e.createdAt>=n)).length}}catch(e){throw e}})()}catch{i={totalUsers:0}}s({totalProducts:e.length,totalCategories:t.length,blogPosts:n.length,totalUsers:i.totalUsers||0,totalOrders:r.totalOrders||0,revenueToday:r.todayRevenue||0,revenueWeek:r.weekRevenue||0,revenueMonth:r.monthRevenue||0,popularProducts:e.slice(0,3)})}catch(e){Pt.error("      ")}finally{t(!1)}})()}),[]);const r={delivered:{color:"bg-green-100 text-green-800",icon:Uw},processing:{color:"bg-blue-100 text-blue-800",icon:$w},pending:{color:"bg-yellow-100 text-yellow-800",icon:$w},shipped:{color:"bg-purple-100 text-purple-800",icon:_j},cancelled:{color:"bg-red-100 text-red-800",icon:Rw}};return e?X.jsx(mV,{children:X.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:X.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):X.jsx(mV,{children:X.jsxs("div",{className:"space-y-8",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),X.jsx("p",{className:"text-muted-foreground",children:"     Kvitko Sweet"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[X.jsx(gV,{title:" ",value:`${n.revenueToday} K`,description:"   ",icon:Ww,trend:"up",percentage:12}),X.jsx(gV,{title:"",value:n.totalOrders,description:"  ",icon:_j,trend:"up",percentage:8}),X.jsx(gV,{title:"",value:n.totalProducts,description:" ",icon:vj}),X.jsx(gV,{title:"",value:n.totalUsers,description:" ",icon:qj,trend:"up",percentage:5})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between",children:[X.jsx(Vk,{children:" "}),X.jsx(ak,{defaultValue:"week",children:X.jsxs(ok,{children:[X.jsx(lk,{value:"day",children:""}),X.jsx(lk,{value:"week",children:""}),X.jsx(lk,{value:"month",children:""})]})})]}),X.jsx(qk,{children:X.jsx("div",{className:"h-[300px] flex items-center justify-center",children:X.jsxs("div",{className:"text-center",children:[X.jsx(Uj,{className:"h-16 w-16 text-muted-foreground/50 mx-auto mb-4"}),X.jsx("p",{className:"text-muted-foreground",children:"    ."})]})})})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"space-y-4",children:xV.map((e=>{var t,n;const s=(null==(t=r[e.status])?void 0:t.icon)||$w;return X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${(null==(n=r[e.status])?void 0:n.color)||"bg-gray-100"}`,children:X.jsx(s,{className:"h-4 w-4"})}),X.jsxs("div",{children:[X.jsx("p",{className:"text-sm font-medium",children:e.customer}),X.jsx("p",{className:"text-xs text-muted-foreground",children:yV(e.date)})]})]}),X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsxs("div",{className:"text-right",children:[X.jsxs("p",{className:"text-sm font-medium",children:[e.total," K"]}),X.jsx("p",{className:"text-xs text-muted-foreground",children:e.id})]}),X.jsx(Cw,{variant:"ghost",size:"icon",asChild:!0,children:X.jsx(ct,{to:`/admin/orders/${e.id}`,children:X.jsx(Dw,{className:"h-4 w-4"})})})]})]},e.id)}))}),X.jsx("div",{className:"mt-6",children:X.jsx(Cw,{variant:"outline",className:"w-full",asChild:!0,children:X.jsx(ct,{to:"/admin/orders",children:" "})})})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"space-y-4",children:n.popularProducts&&n.popularProducts.length>0?n.popularProducts.map((e=>X.jsxs("div",{className:"flex items-center gap-4",children:[X.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden shrink-0",children:X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),X.jsxs("div",{className:"flex-1",children:[X.jsxs("div",{className:"flex justify-between items-start",children:[X.jsx("p",{className:"font-medium",children:e.name}),X.jsxs("p",{className:"font-semibold",children:[e.price," K"]})]}),X.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"bouquets"===e.category?"":"plants"===e.category?"":"wedding"===e.category?" ":"gifts"===e.category?"":e.category})]})]},e.id))):X.jsx("div",{className:"text-center py-8",children:X.jsx("p",{className:"text-muted-foreground",children:"    "})})}),X.jsx("div",{className:"mt-6",children:X.jsx(Cw,{variant:"outline",className:"w-full",asChild:!0,children:X.jsx(ct,{to:"/admin/products",children:" "})})})]})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsx(qk,{children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsx(Cw,{asChild:!0,className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/products/new",children:[X.jsx(vj,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:" "})]})}),X.jsx(Cw,{asChild:!0,variant:"secondary",className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/blog/new",children:[X.jsx(Xw,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:" "})]})}),X.jsx(Cw,{asChild:!0,variant:"outline",className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/orders",children:[X.jsx(_j,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:" "})]})})]})})]})]})})}function bV(){const{user:e,loading:t,isAuthenticated:n}=yb(),s=ht(),[r,i]=lt.useState(!1),[a,o]=lt.useState(""),[l,c]=lt.useState("");lt.useEffect((()=>{(async()=>{t||(n?(null==e?void 0:e.isAdmin)||s("/"):s("/login",{state:{from:"/admin"}}))})()}),[t,n,e,s]);const d=e=>{e.preventDefault(),"2024admin"===a?(i(!0),c("")):c("   ")};return t?X.jsx("div",{className:"flex justify-center items-center min-h-screen",children:X.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):r?X.jsx(vV,{}):X.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen bg-muted",children:X.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded shadow-md w-80",children:[X.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),X.jsx("input",{type:"password",placeholder:"  ",value:a,onChange:e=>o(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 mb-3 focus:outline-primary",autoFocus:!0}),l&&X.jsx("div",{className:"text-red-500 text-sm mb-2",children:l}),X.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded hover:bg-primary-dark transition",children:""})]})})}var wV=[" ","Enter","ArrowUp","ArrowDown"],jV=[" ","Enter"],NV="Select",[kV,CV,SV]=Ve(NV),[TV,EV]=ee(NV,[SV,Be]),AV=Be(),[IV,_V]=TV(NV),[PV,DV]=TV(NV),RV=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:m,form:f}=e,p=AV(t),[g,x]=lt.useState(null),[y,v]=lt.useState(null),[b,w]=lt.useState(!1),j=oe(c),[N,k]=le({prop:s,defaultProp:r??!1,onChange:i,caller:NV}),[C,S]=le({prop:a,defaultProp:o,onChange:l,caller:NV}),T=lt.useRef(null),E=!g||(f||!!g.closest("form")),[A,I]=lt.useState(new Set),_=Array.from(A).map((e=>e.props.value)).join(";");return X.jsx(et,{...p,children:X.jsxs(IV,{required:m,scope:t,trigger:g,onTriggerChange:x,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:ce(),value:C,onValueChange:S,open:N,onOpenChange:k,dir:j,triggerPointerDownPosRef:T,disabled:h,children:[X.jsx(kV.Provider,{scope:t,children:X.jsx(PV,{scope:e.__scopeSelect,onNativeOptionAdd:lt.useCallback((e=>{I((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:lt.useCallback((e=>{I((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),E?X.jsxs(bB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:C,onChange:e=>S(e.target.value),disabled:h,form:f,children:[void 0===C?X.jsx("option",{value:""}):null,Array.from(A)]},_):null]})})};RV.displayName=NV;var MV="SelectTrigger",OV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...r}=e,i=AV(n),a=_V(MV,n),o=a.disabled||s,l=Fe(t,a.onTriggerChange),c=CV(n),d=lt.useRef("touch"),[u,h,m]=jB((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===a.value)),s=NB(t,e,n);void 0!==s&&a.onValueChange(s.value)})),f=e=>{o||(a.onOpenChange(!0),m()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return X.jsx(qe,{asChild:!0,...i,children:X.jsx(se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":wB(a.value)?"":void 0,...r,ref:l,onClick:ie(r.onClick,(e=>{e.currentTarget.focus(),"mouse"!==d.current&&f(e)})),onPointerDown:ie(r.onPointerDown,(e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())})),onKeyDown:ie(r.onKeyDown,(e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||wV.includes(e.key)&&(f(),e.preventDefault())}))})})}));OV.displayName=MV;var LV="SelectValue",FV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:a="",...o}=e,l=_V(LV,n),{onValueNodeHasChildrenChange:c}=l,d=void 0!==i,u=Fe(t,l.onValueNodeChange);return $e((()=>{c(d)}),[c,d]),X.jsx(se.span,{...o,ref:u,style:{pointerEvents:"none"},children:wB(l.value)?X.jsx(X.Fragment,{children:a}):i})}));FV.displayName=LV;var UV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,children:s,...r}=e;return X.jsx(se.span,{"aria-hidden":!0,...r,ref:t,children:s||""})}));UV.displayName="SelectIcon";var zV=e=>X.jsx(He,{asChild:!0,...e});zV.displayName="SelectPortal";var VV="SelectContent",BV=lt.forwardRef(((e,t)=>{const n=_V(VV,e.__scopeSelect),[s,r]=lt.useState();if($e((()=>{r(new DocumentFragment)}),[]),!n.open){const t=s;return t?it.createPortal(X.jsx($V,{scope:e.__scopeSelect,children:X.jsx(kV.Slot,{scope:e.__scopeSelect,children:X.jsx("div",{children:e.children})})}),t):null}return X.jsx(WV,{...e,ref:t})}));BV.displayName=VV;var qV=10,[$V,HV]=TV(VV),KV=Ye("SelectContent.RemoveScroll"),WV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:m,sticky:f,hideWhenDetached:p,avoidCollisions:g,...x}=e,y=_V(VV,n),[v,b]=lt.useState(null),[w,j]=lt.useState(null),N=Fe(t,(e=>b(e))),[k,C]=lt.useState(null),[S,T]=lt.useState(null),E=CV(n),[A,I]=lt.useState(!1),_=lt.useRef(!1);lt.useEffect((()=>{if(v)return We(v)}),[v]),Ge();const P=lt.useCallback((e=>{const[t,...n]=E().map((e=>e.ref.current)),[s]=n.slice(-1),r=document.activeElement;for(const i of e){if(i===r)return;if(null==i||i.scrollIntoView({block:"nearest"}),i===t&&w&&(w.scrollTop=0),i===s&&w&&(w.scrollTop=w.scrollHeight),null==i||i.focus(),document.activeElement!==r)return}}),[E,w]),D=lt.useCallback((()=>P([k,v])),[P,k,v]);lt.useEffect((()=>{A&&D()}),[A,D]);const{onOpenChange:R,triggerPointerDownPosRef:M}=y;lt.useEffect((()=>{if(v){let e={x:0,y:0};const t=t=>{var n,s;e={x:Math.abs(Math.round(t.pageX)-((null==(n=M.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(s=M.current)?void 0:s.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():v.contains(n.target)||R(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[v,R,M]),lt.useEffect((()=>{const e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[R]);const[O,L]=jB((e=>{const t=E().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),s=NB(t,e,n);s&&setTimeout((()=>s.ref.current.focus()))})),F=lt.useCallback(((e,t,n)=>{const s=!_.current&&!n;(void 0!==y.value&&y.value===t||s)&&(C(e),s&&(_.current=!0))}),[y.value]),U=lt.useCallback((()=>null==v?void 0:v.focus()),[v]),z=lt.useCallback(((e,t,n)=>{const s=!_.current&&!n;(void 0!==y.value&&y.value===t||s)&&T(e)}),[y.value]),V="popper"===s?QV:GV,B=V===QV?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:m,sticky:f,hideWhenDetached:p,avoidCollisions:g}:{};return X.jsx($V,{scope:n,content:v,viewport:w,onViewportChange:j,itemRefCallback:F,selectedItem:k,onItemLeave:U,itemTextRefCallback:z,focusSelectedItem:D,selectedItemText:S,position:s,isPositioned:A,searchRef:O,children:X.jsx(Qe,{as:KV,allowPinchZoom:!0,children:X.jsx(Xe,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ie(r,(e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()})),children:X.jsx(Je,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:X.jsx(V,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...x,...B,onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ie(x.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=E().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,s=t.indexOf(n);t=t.slice(s+1)}setTimeout((()=>P(t))),e.preventDefault()}}))})})})})})}));WV.displayName="SelectContentImpl";var GV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:s,...r}=e,i=_V(VV,n),a=HV(VV,n),[o,l]=lt.useState(null),[c,d]=lt.useState(null),u=Fe(t,(e=>d(e))),h=CV(n),m=lt.useRef(!1),f=lt.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:x,focusSelectedItem:y}=a,v=lt.useCallback((()=>{if(i.trigger&&i.valueNode&&o&&c&&p&&g&&x){const e=i.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),r=x.getBoundingClientRect();if("rtl"!==i.dir){const s=r.left-t.left,i=n.left-s,a=e.left-i,l=e.width+a,c=Math.max(l,t.width),d=window.innerWidth-qV,u=tM(i,[qV,Math.max(qV,d-c)]);o.style.minWidth=l+"px",o.style.left=u+"px"}else{const s=t.right-r.right,i=window.innerWidth-n.right-s,a=window.innerWidth-e.right-i,l=e.width+a,c=Math.max(l,t.width),d=window.innerWidth-qV,u=tM(i,[qV,Math.max(qV,d-c)]);o.style.minWidth=l+"px",o.style.right=u+"px"}const a=h(),l=window.innerHeight-2*qV,d=p.scrollHeight,u=window.getComputedStyle(c),f=parseInt(u.borderTopWidth,10),y=parseInt(u.paddingTop,10),v=parseInt(u.borderBottomWidth,10),b=f+y+d+parseInt(u.paddingBottom,10)+v,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(p),N=parseInt(j.paddingTop,10),k=parseInt(j.paddingBottom,10),C=e.top+e.height/2-qV,S=l-C,T=g.offsetHeight/2,E=f+y+(g.offsetTop+T),A=b-E;if(E<=C){const e=a.length>0&&g===a[a.length-1].ref.current;o.style.bottom="0px";const t=c.clientHeight-p.offsetTop-p.offsetHeight,n=E+Math.max(S,T+(e?k:0)+t+v);o.style.height=n+"px"}else{const e=a.length>0&&g===a[0].ref.current;o.style.top="0px";const t=Math.max(C,f+p.offsetTop+(e?N:0)+T)+A;o.style.height=t+"px",p.scrollTop=E-C+p.offsetTop}o.style.margin=`${qV}px 0`,o.style.minHeight=w+"px",o.style.maxHeight=l+"px",null==s||s(),requestAnimationFrame((()=>m.current=!0))}}),[h,i.trigger,i.valueNode,o,c,p,g,x,i.dir,s]);$e((()=>v()),[v]);const[b,w]=lt.useState();$e((()=>{c&&w(window.getComputedStyle(c).zIndex)}),[c]);const j=lt.useCallback((e=>{e&&!0===f.current&&(v(),null==y||y(),f.current=!1)}),[v,y]);return X.jsx(YV,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:X.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:X.jsx(se.div,{...r,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})}));GV.displayName="SelectItemAlignedPosition";var QV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=qV,...i}=e,a=AV(n);return X.jsx(Ze,{...a,...i,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));QV.displayName="SelectPopperPosition";var[YV,XV]=TV(VV,{}),JV="SelectViewport",ZV=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:s,...r}=e,i=HV(JV,n),a=XV(JV,n),o=Fe(t,i.onViewportChange),l=lt.useRef(0);return X.jsxs(X.Fragment,{children:[X.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),X.jsx(kV.Slot,{scope:n,children:X.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ie(r.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:s}=a;if((null==s?void 0:s.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const s=window.innerHeight-2*qV,r=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),a=Math.max(r,i);if(a<s){const r=a+e,i=Math.min(s,r),o=r-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));ZV.displayName=JV;var eB="SelectGroup",[tB,nB]=TV(eB);lt.forwardRef(((e,t)=>{const{__scopeSelect:n,...s}=e,r=ce();return X.jsx(tB,{scope:n,id:r,children:X.jsx(se.div,{role:"group","aria-labelledby":r,...s,ref:t})})})).displayName=eB;var sB="SelectLabel",rB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,...s}=e,r=nB(sB,n);return X.jsx(se.div,{id:r.id,...s,ref:t})}));rB.displayName=sB;var iB="SelectItem",[aB,oB]=TV(iB),lB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...a}=e,o=_V(iB,n),l=HV(iB,n),c=o.value===s,[d,u]=lt.useState(i??""),[h,m]=lt.useState(!1),f=Fe(t,(e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,s,r)})),p=ce(),g=lt.useRef("touch"),x=()=>{r||(o.onValueChange(s),o.onOpenChange(!1))};if(""===s)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return X.jsx(aB,{scope:n,value:s,disabled:r,textId:p,isSelected:c,onItemTextChange:lt.useCallback((e=>{u((t=>t||((null==e?void 0:e.textContent)??"").trim()))}),[]),children:X.jsx(kV.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:X.jsx(se.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:f,onFocus:ie(a.onFocus,(()=>m(!0))),onBlur:ie(a.onBlur,(()=>m(!1))),onClick:ie(a.onClick,(()=>{"mouse"!==g.current&&x()})),onPointerUp:ie(a.onPointerUp,(()=>{"mouse"===g.current&&x()})),onPointerDown:ie(a.onPointerDown,(e=>{g.current=e.pointerType})),onPointerMove:ie(a.onPointerMove,(e=>{var t;g.current=e.pointerType,r?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:ie(a.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))})),onKeyDown:ie(a.onKeyDown,(e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(jV.includes(e.key)&&x()," "===e.key&&e.preventDefault())}))})})})}));lB.displayName=iB;var cB="SelectItemText",dB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,className:s,style:r,...i}=e,a=_V(cB,n),o=HV(cB,n),l=oB(cB,n),c=DV(cB,n),[d,u]=lt.useState(null),h=Fe(t,(e=>u(e)),l.onItemTextChange,(e=>{var t;return null==(t=o.itemTextRefCallback)?void 0:t.call(o,e,l.value,l.disabled)})),m=null==d?void 0:d.textContent,f=lt.useMemo((()=>X.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value)),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=c;return $e((()=>(p(f),()=>g(f))),[p,g,f]),X.jsxs(X.Fragment,{children:[X.jsx(se.span,{id:l.textId,...i,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?it.createPortal(i.children,a.valueNode):null]})}));dB.displayName=cB;var uB="SelectItemIndicator",hB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,...s}=e;return oB(uB,n).isSelected?X.jsx(se.span,{"aria-hidden":!0,...s,ref:t}):null}));hB.displayName=uB;var mB="SelectScrollUpButton",fB=lt.forwardRef(((e,t)=>{const n=HV(mB,e.__scopeSelect),s=XV(mB,e.__scopeSelect),[r,i]=lt.useState(!1),a=Fe(t,s.onScrollButtonChange);return $e((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),r?X.jsx(xB,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));fB.displayName=mB;var pB="SelectScrollDownButton",gB=lt.forwardRef(((e,t)=>{const n=HV(pB,e.__scopeSelect),s=XV(pB,e.__scopeSelect),[r,i]=lt.useState(!1),a=Fe(t,s.onScrollButtonChange);return $e((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;i(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),r?X.jsx(xB,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));gB.displayName=pB;var xB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=e,i=HV("SelectScrollButton",n),a=lt.useRef(null),o=CV(n),l=lt.useCallback((()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)}),[]);return lt.useEffect((()=>()=>l()),[l]),$e((()=>{var e;const t=o().find((e=>e.ref.current===document.activeElement));null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})}),[o]),X.jsx(se.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:ie(r.onPointerDown,(()=>{null===a.current&&(a.current=window.setInterval(s,50))})),onPointerMove:ie(r.onPointerMove,(()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===a.current&&(a.current=window.setInterval(s,50))})),onPointerLeave:ie(r.onPointerLeave,(()=>{l()}))})})),yB=lt.forwardRef(((e,t)=>{const{__scopeSelect:n,...s}=e;return X.jsx(se.div,{"aria-hidden":!0,...s,ref:t})}));yB.displayName="SelectSeparator";var vB="SelectArrow";lt.forwardRef(((e,t)=>{const{__scopeSelect:n,...s}=e,r=AV(n),i=_V(vB,n),a=HV(vB,n);return i.open&&"popper"===a.position?X.jsx(nt,{...r,...s,ref:t}):null})).displayName=vB;var bB=lt.forwardRef((({__scopeSelect:e,value:t,...n},s)=>{const r=lt.useRef(null),i=Fe(s,r),a=Ue(t);return lt.useEffect((()=>{const e=r.current;if(!e)return;const n=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&s){const n=new Event("change",{bubbles:!0});s.call(e,t),e.dispatchEvent(n)}}),[a,t]),X.jsx(se.select,{...n,style:{...tt,...n.style},ref:i,defaultValue:t})}));function wB(e){return""===e||void 0===e}function jB(e){const t=Ke(e),n=lt.useRef(""),s=lt.useRef(0),r=lt.useCallback((e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout((()=>e("")),1e3))}(r)}),[t]),i=lt.useCallback((()=>{n.current="",window.clearTimeout(s.current)}),[]);return lt.useEffect((()=>()=>window.clearTimeout(s.current)),[]),[n,r,i]}function NB(e,t,n){const s=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,r=n?e.indexOf(n):-1;let i=(a=e,o=Math.max(r,0),a.map(((e,t)=>a[(o+t)%a.length])));var a,o;1===s.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.textValue.toLowerCase().startsWith(s.toLowerCase())));return l!==n?l:void 0}bB.displayName="SelectBubbleInput";var kB=OV,CB=UV,SB=zV,TB=BV,EB=ZV,AB=rB,IB=lB,_B=dB,PB=hB,DB=fB,RB=gB,MB=yB;const OB=RV,LB=FV,FB=lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(kB,{ref:s,className:Nw("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,X.jsx(CB,{asChild:!0,children:X.jsx(zw,{className:"h-4 w-4 opacity-50"})})]})));FB.displayName=kB.displayName;const UB=lt.forwardRef((({className:e,...t},n)=>X.jsx(DB,{ref:n,className:Nw("flex cursor-default items-center justify-center py-1",e),...t,children:X.jsx(Bw,{className:"h-4 w-4"})})));UB.displayName=DB.displayName;const zB=lt.forwardRef((({className:e,...t},n)=>X.jsx(RB,{ref:n,className:Nw("flex cursor-default items-center justify-center py-1",e),...t,children:X.jsx(zw,{className:"h-4 w-4"})})));zB.displayName=RB.displayName;const VB=lt.forwardRef((({className:e,children:t,position:n="popper",...s},r)=>X.jsx(SB,{children:X.jsxs(TB,{ref:r,className:Nw("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[X.jsx(UB,{}),X.jsx(EB,{className:Nw("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),X.jsx(zB,{})]})})));VB.displayName=TB.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(AB,{ref:n,className:Nw("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}))).displayName=AB.displayName;const BB=lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(IB,{ref:s,className:Nw("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[X.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:X.jsx(PB,{children:X.jsx(Uw,{className:"h-4 w-4"})})}),X.jsx(_B,{children:t})]})));BB.displayName=IB.displayName;lt.forwardRef((({className:e,...t},n)=>X.jsx(MB,{ref:n,className:Nw("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=MB.displayName;const qB=lt.forwardRef((({className:e,...t},n)=>X.jsx("div",{className:"relative w-full overflow-auto",children:X.jsx("table",{ref:n,className:Nw("w-full caption-bottom text-sm",e),...t})})));qB.displayName="Table";const $B=lt.forwardRef((({className:e,...t},n)=>X.jsx("thead",{ref:n,className:Nw("[&_tr]:border-b",e),...t})));$B.displayName="TableHeader";const HB=lt.forwardRef((({className:e,...t},n)=>X.jsx("tbody",{ref:n,className:Nw("[&_tr:last-child]:border-0",e),...t})));HB.displayName="TableBody";const KB=lt.forwardRef((({className:e,...t},n)=>X.jsx("tr",{ref:n,className:Nw("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));KB.displayName="TableRow";const WB=lt.forwardRef((({className:e,...t},n)=>X.jsx("th",{ref:n,className:Nw("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));WB.displayName="TableHead";const GB=lt.forwardRef((({className:e,...t},n)=>X.jsx("td",{ref:n,className:Nw("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));GB.displayName="TableCell";function QB(){const[e,t]=lt.useState(!0),[n,s]=lt.useState([]),[r,i]=lt.useState([]),[a,o]=lt.useState([]),[l,c]=lt.useState(""),[d,u]=lt.useState("all"),[h,m]=lt.useState("name-asc"),[f,p]=lt.useState(null);lt.useEffect((()=>{(async()=>{t(!0);try{const[e,t]=await Promise.all([ob(),MM()]);s(e),i(t)}catch(e){Pt.error("   ")}finally{t(!1)}})()}),[]);const g=e=>{const t=r.find((t=>t.id===e));return t?t.name:e},x=n.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),n=(e=>{const t=r.find((t=>t.id===e));return(null==t?void 0:t.slug)||e})(e.category);return t&&("all"===d||n===d)})).sort(((e,t)=>{switch(h){case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);case"price-asc":return e.price-t.price;case"price-desc":return t.price-e.price;case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();default:return 0}}));return e?X.jsx(mV,{children:X.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:X.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[X.jsxs("div",{children:[X.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[X.jsx(vj,{className:"mr-2 h-8 w-8"}),"  "]}),X.jsxs("p",{className:"text-muted-foreground",children:[" : ",n.length,", : ",x.length]})]}),X.jsx("div",{className:"mt-4 md:mt-0",children:X.jsx(Cw,{asChild:!0,children:X.jsxs(ct,{to:"/admin/products/new",children:[X.jsx(jj,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[X.jsxs("div",{className:"flex-1 relative",children:[X.jsx(Cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{placeholder:"    ...",className:"pl-10",value:l,onChange:e=>c(e.target.value)})]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("div",{className:"w-48",children:X.jsxs(OB,{value:d,onValueChange:u,children:[X.jsx(FB,{children:X.jsx(LB,{placeholder:" "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:"all",children:" "}),r.map((e=>X.jsx(BB,{value:e.slug,children:g(e.id)},e.id)))]})]})}),X.jsx("div",{className:"w-48",children:X.jsxs(OB,{value:h,onValueChange:m,children:[X.jsx(FB,{children:X.jsx(LB,{placeholder:""})}),X.jsxs(VB,{children:[X.jsx(BB,{value:"name-asc",children:"  (A-Z)"}),X.jsx(BB,{value:"name-desc",children:"  (Z-A)"}),X.jsx(BB,{value:"price-asc",children:"  (-)"}),X.jsx(BB,{value:"price-desc",children:"  (-)"}),X.jsx(BB,{value:"newest",children:" "}),X.jsx(BB,{value:"oldest",children:" "})]})]})})]})]}),a.length>0&&X.jsxs("div",{className:"bg-muted p-4 rounded-md flex items-center justify-between",children:[X.jsxs("span",{children:[a.length,"  "]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(Cw,{variant:"outline",size:"sm",onClick:()=>o([]),children:" "}),X.jsx(Cw,{variant:"destructive",size:"sm",onClick:async()=>{try{await Promise.all(a.map((e=>db(e)))),s((e=>e.filter((e=>!a.includes(e.id))))),o([]),Pt.success(` ${a.length} `)}catch(e){Pt.error("    ")}},children:" "})]})]}),X.jsx("div",{className:"border rounded-md",children:X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{className:"w-12",children:X.jsx(NR,{checked:x.length>0&&a.length===x.length,onCheckedChange:()=>{a.length===x.length?o([]):o(x.map((e=>e.id)))},"aria-label":"Select all"})}),X.jsx(WB,{className:"w-14",children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""}),X.jsx(WB,{className:"w-24",children:""}),X.jsx(WB,{className:"w-28",children:""})]})}),X.jsx(HB,{children:x.length>0?x.map((e=>X.jsxs(KB,{children:[X.jsx(GB,{children:X.jsx(NR,{checked:a.includes(e.id),onCheckedChange:()=>{return t=e.id,void o((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},"aria-label":`Select ${e.name}`})}),X.jsx(GB,{children:X.jsx("div",{className:"w-10 h-10 rounded-md overflow-hidden",children:X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})})}),X.jsx(GB,{className:"font-medium",children:e.name}),X.jsx(GB,{children:X.jsx(VN,{variant:"outline",children:g(e.category)})}),X.jsxs(GB,{className:"text-right",children:[e.price," K"]}),X.jsx(GB,{className:"text-center",children:e.inStock?X.jsx("div",{className:"flex items-center justify-center",children:X.jsx(Fw,{className:"h-5 w-5 text-green-500"})}):X.jsx("div",{className:"flex items-center justify-center",children:X.jsx($j,{className:"h-5 w-5 text-red-500"})})}),X.jsxs(GB,{children:[X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"icon",children:X.jsx(xj,{className:"h-4 w-4"})})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:""}),X.jsx(Ek,{asChild:!0,children:X.jsxs(ct,{to:`/admin/products/edit/${e.id}`,children:[X.jsx(Dj,{className:"mr-2 h-4 w-4"})," "]})}),X.jsx(Ek,{asChild:!0,children:X.jsxs(ct,{to:`/product/${e.id}`,target:"_blank",children:[X.jsx(Gw,{className:"mr-2 h-4 w-4"})," "]})}),X.jsx(Ik,{}),X.jsxs(Ek,{className:"text-destructive focus:text-destructive",onClick:()=>p(e.id),children:[X.jsx(Fj,{className:"mr-2 h-4 w-4"})," "]})]})]}),f===e.id&&X.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:X.jsxs("div",{className:"bg-background p-6 rounded-lg w-full max-w-md",children:[X.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),X.jsxs("p",{className:"mb-4",children:[' ,     "',e.name,'"?    .']}),X.jsxs("div",{className:"flex justify-end gap-2",children:[X.jsx(Cw,{variant:"outline",onClick:()=>p(null),children:""}),X.jsx(Cw,{variant:"destructive",onClick:()=>(async e=>{try{await db(e),s((t=>t.filter((t=>t.id!==e)))),Pt.success("  ")}catch(t){Pt.error("   ")}finally{p(null)}})(e.id),children:""})]})]})})]})]},e.id))):X.jsx(KB,{children:X.jsx(GB,{colSpan:7,className:"h-24 text-center",children:l||"all"!==d?X.jsxs("div",{children:[X.jsx("p",{className:"text-muted-foreground",children:"     "}),X.jsx(Cw,{variant:"link",onClick:()=>{c(""),u("all")},children:" "})]}):X.jsx("p",{className:"text-muted-foreground",children:"  "})})})})]})}),x.length>0&&X.jsx("div",{className:"flex justify-end",children:X.jsxs(Cw,{variant:"outline",onClick:()=>{try{const e=[["ID","","",""," ",""],...x.map((e=>[e.id,e.name,e.category,e.price,e.inStock?"":"",new Date(e.createdAt).toLocaleDateString("ru-RU")]))].map((e=>e.join(","))).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",`products_${(new Date).toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),Pt.success("  ")}catch(e){Pt.error("   ")}},children:[X.jsx(Yw,{className:"mr-2 h-4 w-4"}),"   CSV"]})})]})})}lt.forwardRef((({className:e,...t},n)=>X.jsx("caption",{ref:n,className:Nw("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";var YB="Switch",[XB,JB]=ee(YB),[ZB,eq]=XB(YB),tq=lt.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,m]=lt.useState(null),f=Fe(t,(e=>m(e))),p=lt.useRef(!1),g=!h||(d||!!h.closest("form")),[x,y]=le({prop:r,defaultProp:i??!1,onChange:c,caller:YB});return X.jsxs(ZB,{scope:n,checked:x,disabled:o,children:[X.jsx(se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":iq(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:ie(e.onClick,(e=>{y((e=>!e)),g&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),g&&X.jsx(rq,{control:h,bubbles:!p.current,name:s,value:l,checked:x,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})}));tq.displayName=YB;var nq="SwitchThumb",sq=lt.forwardRef(((e,t)=>{const{__scopeSwitch:n,...s}=e,r=eq(nq,n);return X.jsx(se.span,{"data-state":iq(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})}));sq.displayName=nq;var rq=lt.forwardRef((({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},i)=>{const a=lt.useRef(null),o=Fe(a,i),l=Ue(n),c=ze(t);return lt.useEffect((()=>{const e=a.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&r){const t=new Event("click",{bubbles:s});r.call(e,n),e.dispatchEvent(t)}}),[l,n,s]),X.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function iq(e){return e?"checked":"unchecked"}rq.displayName="SwitchBubbleInput";var aq=tq,oq=sq;const lq=lt.forwardRef((({className:e,...t},n)=>X.jsx(aq,{className:Nw("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:X.jsx(oq,{className:Nw("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));function cq(){const e=ht(),{id:t}=pt(),n=!!t,[s,r]=lt.useState(!1),[i,a]=lt.useState(!1),[o,l]=lt.useState([]),[c,d]=lt.useState(null),[u,h]=lt.useState(null),[m,f]=lt.useState([]),[p,g]=lt.useState(""),[x,y]=lt.useState({name:"",description:"",price:0,category:"",inStock:!0,featured:!1,tags:[],imageUrl:""});lt.useEffect((()=>{(async()=>{r(!0);try{const s=await ub();if(l(s),n&&t){const n=await lb(t);n?(y({name:n.name,description:n.description,price:n.price,category:n.category,inStock:n.inStock,featured:n.featured||!1,tags:n.tags||[],imageUrl:n.imageUrl}),f(n.tags||[]),h(n.imageUrl)):(Pt.error("Produkt nebyl nalezen"),e("/admin/products"))}}catch(s){Pt.error("Chyba pi natn dat")}finally{r(!1)}})()}),[t,n,e]);const v=e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:"price"===t?Number(n):n})))},b=(e,t)=>{y((n=>({...n,[e]:t})))},w=e=>{const t=o.find((t=>t.id===e));return t?t.name:e};return s?X.jsx(mV,{children:X.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:X.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(Cw,{variant:"ghost",size:"icon",asChild:!0,className:"mr-2",children:X.jsx(ct,{to:"/admin/products",children:X.jsx(_w,{className:"h-5 w-5"})})}),X.jsx("h1",{className:"text-3xl font-bold",children:n?"prava produktu":"Pidn produktu"})]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx(Cw,{variant:"outline",asChild:!0,children:X.jsx(ct,{to:"/admin/products",children:"Zruit"})}),X.jsx(Cw,{type:"submit",form:"product-form",disabled:i,children:i?"Ukldn...":"Uloit"})]})]}),X.jsx("form",{id:"product-form",onSubmit:async s=>{if(s.preventDefault(),x.name&&x.category){a(!0);try{const s={...x,featured:x.featured||!1,tags:m};n&&t?(await(async(e,t,n,s)=>{try{const r=Ep(mv,ab,e);if(n){try{const t=Yx(fv,`products/${e}`);await Qx(t)}catch{}const r=await rb(n,s),i=Yx(fv,`products/${e}.webp`);await Wx(i,r.file);const a=await Gx(i);t.imageUrl=a}await Dg(r,t)}catch(r){throw r}})(t,s,c||void 0),Pt.success("Produkt byl spn aktualizovn")):(await(async(e,t,n)=>{try{const s=await Mg(Tp(mv,ab),{...e,createdAt:new Date});if(t){const e=await rb(t,n),r=Yx(fv,`products/${s.id}.webp`);await Wx(r,e.file);const i=await Gx(r);await Dg(s,{imageUrl:i})}return s.id}catch(s){throw s}})(s,c||void 0),Pt.success("Produkt byl spn pidn")),e("/admin/products")}catch(r){Pt.error("Chyba pi ukldn produktu")}finally{a(!1)}}else Pt.error("Vyplte vechna povinn pole")},className:"space-y-8",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[X.jsx("div",{className:"lg:col-span-2 space-y-6",children:X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:"Zkladn informace"}),X.jsx(Bk,{children:"Vyplte zkladn daje o produktu"})]}),X.jsxs(qk,{className:"space-y-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"name",children:"Nzev*"}),X.jsx(dk,{id:"name",name:"name",value:x.name,onChange:v,required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"description",children:"Popis"}),X.jsx(UM,{id:"description",name:"description",value:x.description,onChange:v,rows:5})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"price",children:"Cena (K)*"}),X.jsx(dk,{id:"price",name:"price",type:"number",min:"0",step:"1",value:x.price,onChange:v,required:!0})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"category",children:"Kategorie*"}),X.jsxs(OB,{value:x.category,onValueChange:e=>y((t=>({...t,category:e}))),children:[X.jsx(FB,{id:"category",children:X.jsx(LB,{placeholder:"Vyberte kategorii"})}),X.jsx(VB,{children:o.map((e=>X.jsx(BB,{value:e.id,children:w(e.id)},e.id)))})]})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"tags",children:"Tagy"}),X.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map((e=>X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[e,X.jsx(Cw,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>(e=>{const t=m.filter((t=>t!==e));f(t),y((e=>({...e,tags:t})))})(e),children:X.jsx(Hj,{className:"h-3 w-3"})})]},e)))}),X.jsx(dk,{id:"tags",placeholder:"Zadejte tag a stisknte Enter",value:p,onChange:e=>g(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&p.trim()){if(e.preventDefault(),!m.includes(p.trim())){const e=[...m,p.trim()];f(e),y((t=>({...t,tags:e})))}g("")}}}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"Zadejte tag a stisknte Enter pro pidn"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(lq,{id:"inStock",checked:x.inStock,onCheckedChange:e=>b("inStock",e)}),X.jsx(TR,{htmlFor:"inStock",children:"Skladem"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(lq,{id:"featured",checked:x.featured,onCheckedChange:e=>b("featured",e)}),X.jsx(TR,{htmlFor:"featured",children:"Doporuen produkt"})]})]})]})]})}),X.jsxs("div",{children:[X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:"Obrzek produktu"}),X.jsx(Bk,{children:"Nahrajte obrzek produktu"})]}),X.jsxs(qk,{className:"space-y-4",children:[u?X.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-md",children:[X.jsx("img",{src:u,alt:"Nhled produktu",className:"w-full h-full object-cover"}),X.jsx(Cw,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 rounded-full",onClick:()=>{d(null),h(null),y((e=>({...e,imageUrl:""})))},type:"button",children:X.jsx(Hj,{className:"h-4 w-4"})})]}):X.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md flex flex-col items-center justify-center p-12 text-center",children:[X.jsx(Vj,{className:"h-8 w-8 text-muted-foreground mb-4"}),X.jsxs("div",{className:"mb-4",children:[X.jsx("p",{className:"text-sm font-medium",children:"Pethnte obrzek sem nebo kliknte pro vbr"}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG nebo WEBP, maximln 5MB"})]}),X.jsx(dk,{id:"image",type:"file",accept:"image/*",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];d(t);const n=new FileReader;n.onload=()=>{h(n.result)},n.readAsDataURL(t)}}}),X.jsx(Cw,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("image"))?void 0:e.click()},type:"button",children:"Vybrat obrzek"})]}),!u&&!n&&X.jsxs("div",{className:"p-3 bg-amber-50 text-amber-800 rounded-md flex items-start",children:[X.jsx(Ew,{className:"h-5 w-5 mr-2 shrink-0 mt-0.5"}),X.jsx("p",{className:"text-sm",children:"Doporuuje se pidat obrzek produktu. Produkty s obrzky pitahuj vce pozornosti."})]})]})]}),X.jsxs(Uk,{className:"mt-6",children:[X.jsx(zk,{children:X.jsx(Vk,{children:"Zobrazen produktu"})}),X.jsx(qk,{children:X.jsx(Cw,{variant:"outline",className:"w-full",asChild:!0,children:n?X.jsx(ct,{to:`/product/${t}`,target:"_blank",children:"Otevt strnku produktu"}):X.jsx("span",{className:"opacity-50 cursor-not-allowed",children:"Nejprve ulote produkt"})})})]})]})]})})]})})}lq.displayName=aq.displayName;const dq=ge,uq=xe,hq=({...e})=>X.jsx(ue,{...e});hq.displayName=ue.displayName;const mq=lt.forwardRef((({className:e,...t},n)=>X.jsx(de,{ref:n,className:Nw("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));mq.displayName=de.displayName;const fq=lt.forwardRef((({className:e,children:t,...n},s)=>X.jsxs(hq,{children:[X.jsx(mq,{}),X.jsxs(he,{ref:s,className:Nw("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,X.jsxs(me,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[X.jsx(Hj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));fq.displayName=he.displayName;const pq=({className:e,...t})=>X.jsx("div",{className:Nw("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pq.displayName="DialogHeader";const gq=({className:e,...t})=>X.jsx("div",{className:Nw("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gq.displayName="DialogFooter";const xq=lt.forwardRef((({className:e,...t},n)=>X.jsx(fe,{ref:n,className:Nw("text-lg font-semibold leading-none tracking-tight",e),...t})));xq.displayName=fe.displayName;const yq=lt.forwardRef((({className:e,...t},n)=>X.jsx(pe,{ref:n,className:Nw("text-sm text-muted-foreground",e),...t})));yq.displayName=pe.displayName;const vq=e=>e?new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e):"-",bq=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(e),wq=e=>{switch(e){case"pending":return{label:"",color:"bg-yellow-50 text-yellow-600 border-yellow-200",icon:$w};case"processing":return{label:"",color:"bg-blue-50 text-blue-600 border-blue-200",icon:vj};case"shipped":return{label:"",color:"bg-purple-50 text-purple-600 border-purple-200",icon:zj};case"delivered":return{label:"",color:"bg-green-50 text-green-600 border-green-200",icon:Fw};case"cancelled":return{label:"",color:"bg-red-50 text-red-600 border-red-200",icon:$j};default:return{label:e,color:"bg-gray-50 text-gray-600 border-gray-200",icon:vj}}},jq=()=>{var e;const[t,n]=lt.useState([]),[s,r]=lt.useState(!0),[i,a]=lt.useState(""),[o,l]=lt.useState("all"),[c,d]=lt.useState(null),[u,h]=lt.useState(!1),m=async()=>{r(!0);try{const e=await mb();n(e)}catch(e){Pt.error("   ")}finally{r(!1)}};lt.useEffect((()=>{m()}),[]);const f=t.filter((e=>{var t;if(i){const n=i.toLowerCase();if(!e.id.toLowerCase().includes(n)&&!(null==(t=e.userId)?void 0:t.toLowerCase().includes(n)))return!1}return"all"===o||e.status===o})),p=async(e,t)=>{try{await(async(e,t)=>{try{const n=Ep(mv,hb,e),s={status:t};await Dg(n,s)}catch(n){throw n}})(e,t),Pt.success(`    "${wq(t).label}"`),m()}catch(n){Pt.error("    ")}},g={total:t.length,pending:t.filter((e=>"pending"===e.status)).length,processing:t.filter((e=>"processing"===e.status)).length,delivered:t.filter((e=>"delivered"===e.status)).length};return X.jsxs(mV,{children:[X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),X.jsxs("p",{className:"text-muted-foreground",children:[": ",g.total," | : ",g.pending," |  : ",g.processing," | : ",g.delivered]})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:"  ID ...",className:"pl-8 w-full md:w-[250px]",value:i,onChange:e=>a(e.target.value)})]}),X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"outline",size:"icon",children:X.jsx(Jw,{className:"h-4 w-4"})})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:"  "}),X.jsx(Ik,{}),X.jsx(Ek,{onClick:()=>l("all"),children:" "}),X.jsx(Ek,{onClick:()=>l("pending"),children:""}),X.jsx(Ek,{onClick:()=>l("processing"),children:" "}),X.jsx(Ek,{onClick:()=>l("shipped"),children:""}),X.jsx(Ek,{onClick:()=>l("delivered"),children:""}),X.jsx(Ek,{onClick:()=>l("cancelled"),children:""})]})]}),X.jsx(Cw,{variant:"outline",size:"icon",onClick:m,disabled:s,children:X.jsx(Nj,{className:"h-4 w-4 "+(s?"animate-spin":"")})})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"p-4",children:X.jsxs(Vk,{className:"text-base flex items-center gap-2",children:[X.jsx(_j,{className:"h-5 w-5"})," ","all"!==o&&X.jsx(VN,{variant:"secondary",className:"ml-2",children:wq(o).label})]})}),X.jsx(qk,{className:"p-0",children:s?X.jsx("div",{className:"flex items-center justify-center py-12",children:X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"})}):0===f.length?X.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[X.jsx(_j,{className:"h-12 w-12 text-muted-foreground mb-4"}),X.jsx("h3",{className:"text-lg font-medium",children:"  "}),X.jsx("p",{className:"text-muted-foreground mt-1",children:i||"all"!==o?"     ":"    "})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:"ID "}),X.jsx(WB,{className:"hidden md:table-cell",children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:f.map((e=>{var t;const n=wq(e.status),s=n.icon;return X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:X.jsxs("span",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]})}),X.jsx(GB,{className:"hidden md:table-cell",children:vq(e.createdAt)}),X.jsx(GB,{children:(null==(t=e.items)?void 0:t.length)||0}),X.jsx(GB,{className:"font-medium",children:bq(e.totalPrice||0)}),X.jsx(GB,{children:X.jsxs(VN,{variant:"outline",className:n.color,children:[X.jsx(s,{className:"h-3 w-3 mr-1"}),n.label]})}),X.jsx(GB,{className:"text-right",children:X.jsxs("div",{className:"flex items-center justify-end gap-1",children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{d(e),h(!0)})(e),children:X.jsx(Gw,{className:"h-4 w-4"})}),X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"sm",children:""})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:" "}),X.jsx(Ik,{}),X.jsxs(Ek,{onClick:()=>p(e.id,"pending"),children:[X.jsx($w,{className:"h-4 w-4 mr-2"})," "]}),X.jsxs(Ek,{onClick:()=>p(e.id,"processing"),children:[X.jsx(vj,{className:"h-4 w-4 mr-2"}),"  "]}),X.jsxs(Ek,{onClick:()=>p(e.id,"shipped"),children:[X.jsx(zj,{className:"h-4 w-4 mr-2"})," "]}),X.jsxs(Ek,{onClick:()=>p(e.id,"delivered"),children:[X.jsx(Fw,{className:"h-4 w-4 mr-2"})," "]}),X.jsx(Ik,{}),X.jsxs(Ek,{className:"text-red-600",onClick:()=>p(e.id,"cancelled"),children:[X.jsx($j,{className:"h-4 w-4 mr-2"})," "]})]})]})]})})]},e.id)}))})]})})]})]}),X.jsx(dq,{open:u,onOpenChange:h,children:X.jsxs(fq,{className:"sm:max-w-[600px]",children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsxs(yq,{children:["ID: ",null==c?void 0:c.id]})]}),c&&X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(VN,{variant:"outline",className:wq(c.status).color,children:wq(c.status).label}),X.jsx("span",{className:"text-sm text-muted-foreground",children:vq(c.createdAt)})]}),X.jsxs("div",{children:[X.jsx("h4",{className:"font-medium mb-2",children:""}),(null==(e=c.items)?void 0:e.length)>0?X.jsx("div",{className:"space-y-2",children:c.items.map(((e,t)=>X.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[e.imageUrl&&X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-10 h-10 rounded object-cover"}),X.jsxs("div",{children:[X.jsx("div",{className:"font-medium",children:e.name}),X.jsxs("div",{className:"text-sm text-muted-foreground",children:["x",e.quantity]})]})]}),X.jsx("div",{className:"font-medium",children:bq(e.price*e.quantity)})]},t)))}):X.jsx("p",{className:"text-muted-foreground",children:" "})]}),c.shippingAddress&&X.jsxs("div",{children:[X.jsx("h4",{className:"font-medium mb-2",children:" "}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.shippingAddress.street,", ",c.shippingAddress.city,X.jsx("br",{}),c.shippingAddress.postalCode,", ",c.shippingAddress.country]})]}),X.jsx("div",{className:"pt-4 border-t",children:X.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[X.jsx("span",{children:":"}),X.jsx("span",{children:bq(c.totalPrice||0)})]})})]})]})})]})},Nq=e=>e?new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric"}).format(e):"-",kq=()=>{const[e,t]=lt.useState([]),[n,s]=lt.useState(!0),[r,i]=lt.useState(""),[a,o]=lt.useState("all"),l=async()=>{s(!0);try{const e=await pV();t(e)}catch(e){Pt.error("   ")}finally{s(!1)}};lt.useEffect((()=>{l()}),[]);const c=e.filter((e=>{if(r){const t=r.toLowerCase();if(!e.displayName.toLowerCase().includes(t)&&!e.email.toLowerCase().includes(t))return!1}return"all"===a||e.status===a})),d=async e=>{try{await(async(e,t)=>{try{const n=Ep(mv,fV,e);await Dg(n,{isAdmin:t,updatedAt:Ol.now()})}catch(n){throw n}})(e.id,!e.isAdmin),Pt.success(e.isAdmin?`${e.displayName}   `:`${e.displayName}  `),l()}catch(t){Pt.error("    ")}},u=async e=>{try{const t="active"===e.status?"blocked":"active";await(async(e,t)=>{try{const n=Ep(mv,fV,e);await Dg(n,{status:t,updatedAt:Ol.now()})}catch(n){throw n}})(e.id,t),Pt.success("blocked"===t?`${e.displayName} `:`${e.displayName} `),l()}catch(t){Pt.error("    ")}},h=async e=>{if(confirm(` ,     "${e.displayName}"?`))try{await(async e=>{try{await Rg(Ep(mv,fV,e))}catch(t){throw t}})(e.id),Pt.success(` ${e.displayName} `),l()}catch(t){Pt.error("   ")}};return X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),X.jsxs("p",{className:"text-muted-foreground",children:["      (",e.length," )"]})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:"    email...",className:"pl-8 w-full md:w-[300px]",value:r,onChange:e=>i(e.target.value)})]}),X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"outline",size:"icon",children:X.jsx(Jw,{className:"h-4 w-4"})})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:"  "}),X.jsx(Ik,{}),X.jsx(Ek,{onClick:()=>o("all"),children:" "}),X.jsx(Ek,{onClick:()=>o("active"),children:" "}),X.jsx(Ek,{onClick:()=>o("blocked"),children:" "})]})]}),X.jsx(Cw,{variant:"outline",size:"icon",onClick:l,disabled:n,children:X.jsx(Nj,{className:"h-4 w-4 "+(n?"animate-spin":"")})})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"p-4",children:X.jsxs(Vk,{className:"text-base",children:[" ","all"!==a&&X.jsx(VN,{variant:"secondary",className:"ml-2",children:"active"===a?"":""})]})}),X.jsx(qk,{className:"p-0",children:n?X.jsx("div",{className:"flex items-center justify-center py-12",children:X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"})}):0===c.length?X.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[X.jsx(qj,{className:"h-12 w-12 text-muted-foreground mb-4"}),X.jsx("h3",{className:"text-lg font-medium",children:"  "}),X.jsx("p",{className:"text-muted-foreground mt-1",children:r||"all"!==a?"     ":"     "})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{className:"hidden md:table-cell",children:" "}),X.jsx(WB,{className:"hidden md:table-cell",children:" "}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:c.map((e=>X.jsxs(KB,{children:[X.jsx(GB,{children:X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.photoURL?X.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-full h-full object-cover"}):X.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:X.jsx(qj,{className:"h-4 w-4 text-primary"})})}),X.jsxs("div",{children:[X.jsx("div",{className:"font-medium",children:e.displayName}),X.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[X.jsx(hj,{className:"h-3 w-3 mr-1"}),e.email]})]})]})}),X.jsx(GB,{className:"hidden md:table-cell",children:Nq(e.createdAt)}),X.jsx(GB,{className:"hidden md:table-cell",children:Nq(e.lastLogin)}),X.jsx(GB,{children:"active"===e.status?X.jsx(VN,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:""}):X.jsx(VN,{variant:"outline",className:"bg-red-50 text-red-600 border-red-200",children:""})}),X.jsx(GB,{children:e.isAdmin?X.jsxs(VN,{variant:"outline",className:"bg-purple-50 text-purple-600 border-purple-200",children:[X.jsx(Aj,{className:"h-3 w-3 mr-1"}),""]}):X.jsxs(VN,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:[X.jsx(Ij,{className:"h-3 w-3 mr-1"}),""]})}),X.jsx(GB,{className:"text-right",children:X.jsxs(Ck,{children:[X.jsx(Sk,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"sm",children:""})}),X.jsxs(Tk,{align:"end",children:[X.jsx(Ak,{children:" "}),X.jsx(Ik,{}),X.jsx(Ek,{onClick:()=>d(e),children:e.isAdmin?"  ":" "}),X.jsx(Ek,{onClick:()=>u(e),children:"active"===e.status?"":""}),X.jsx(Ik,{}),X.jsx(Ek,{className:"text-red-600",onClick:()=>h(e),children:" "})]})]})})]},e.id)))})]})})]})]})})},Cq=()=>{const[e,t]=lt.useState({siteName:"Kvitko Sweet",siteDescription:"   ",contactEmail:"info@kvitko-sweet.cz",contactPhone:"+420 123 456 789",address:", ",enableMaintenance:!1}),[n,s]=lt.useState({currency:"CZK",currencySymbol:"K",taxRate:21,minOrderAmount:500,freeShippingThreshold:2e3,enableStockManagement:!0}),r=e=>{const{name:n,value:s}=e.target;t((e=>({...e,[n]:s})))},i=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))},a=()=>{};return X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),X.jsx("p",{className:"text-muted-foreground",children:"    "})]}),X.jsxs(ak,{defaultValue:"general",children:[X.jsxs(ok,{className:"grid grid-cols-5 w-full md:w-auto",children:[X.jsxs(lk,{value:"general",className:"flex items-center gap-2",children:[X.jsx(tj,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:""})]}),X.jsxs(lk,{value:"shop",className:"flex items-center gap-2",children:[X.jsx(Hw,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:""})]}),X.jsxs(lk,{value:"notifications",className:"flex items-center gap-2",children:[X.jsx(Ow,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:""})]}),X.jsxs(lk,{value:"integrations",className:"flex items-center gap-2",children:[X.jsx(Nj,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:""})]}),X.jsxs(lk,{value:"backup",className:"flex items-center gap-2",children:[X.jsx(Kw,{className:"h-4 w-4"}),X.jsx("span",{className:"hidden sm:inline",children:" "})]})]}),X.jsx(ck,{value:"general",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:"  "})}),X.jsxs(qk,{className:"space-y-4",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"siteName",children:" "}),X.jsx(dk,{id:"siteName",name:"siteName",value:e.siteName,onChange:r})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"siteDescription",children:" "}),X.jsx(dk,{id:"siteDescription",name:"siteDescription",value:e.siteDescription,onChange:r})]})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"contactEmail",children:"Email  "}),X.jsx(dk,{id:"contactEmail",name:"contactEmail",type:"email",value:e.contactEmail,onChange:r})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"contactPhone",children:"  "}),X.jsx(dk,{id:"contactPhone",name:"contactPhone",value:e.contactPhone,onChange:r})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"address",children:""}),X.jsx(dk,{id:"address",name:"address",value:e.address,onChange:r})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"space-y-0.5",children:[X.jsx(TR,{htmlFor:"maintenance",children:" "}),X.jsx("p",{className:"text-sm text-muted-foreground",children:",      "})]}),X.jsx(lq,{id:"maintenance",checked:e.enableMaintenance,onCheckedChange:e=>((e,n)=>{t((t=>({...t,[n]:e})))})(e,"enableMaintenance")})]}),X.jsx("div",{className:"flex justify-end mt-6",children:X.jsxs(Cw,{onClick:a,children:[X.jsx(kj,{className:"h-4 w-4 mr-2"})," "]})})]})]})}),X.jsx(ck,{value:"shop",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsxs(qk,{className:"space-y-4",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"currency",children:""}),X.jsx(dk,{id:"currency",name:"currency",value:n.currency,onChange:i})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"currencySymbol",children:" "}),X.jsx(dk,{id:"currencySymbol",name:"currencySymbol",value:n.currencySymbol,onChange:i})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"taxRate",children:"  (%)"}),X.jsx(dk,{id:"taxRate",name:"taxRate",type:"number",value:n.taxRate.toString(),onChange:i})]})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"minOrderAmount",children:"   (K)"}),X.jsx(dk,{id:"minOrderAmount",name:"minOrderAmount",type:"number",value:n.minOrderAmount.toString(),onChange:i})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"freeShippingThreshold",children:"   (K)"}),X.jsx(dk,{id:"freeShippingThreshold",name:"freeShippingThreshold",type:"number",value:n.freeShippingThreshold.toString(),onChange:i})]})]}),X.jsx(Lk,{className:"my-4"}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"space-y-0.5",children:[X.jsx(TR,{htmlFor:"stockManagement",children:"  "}),X.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),X.jsx(lq,{id:"stockManagement",checked:n.enableStockManagement,onCheckedChange:e=>((e,t)=>{s((n=>({...n,[t]:e})))})(e,"enableStockManagement")})]}),X.jsx("div",{className:"flex justify-end mt-6",children:X.jsxs(Cw,{onClick:a,children:[X.jsx(kj,{className:"h-4 w-4 mr-2"})," "]})})]})]})}),X.jsx(ck,{value:"notifications",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsx(qk,{children:X.jsx("p",{className:"text-muted-foreground",children:"  .      email  SMS."})})]})}),X.jsx(ck,{value:"integrations",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:""})}),X.jsx(qk,{children:X.jsx("p",{className:"text-muted-foreground",children:"  .         ."})})]})}),X.jsx(ck,{value:"backup",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsx(qk,{children:X.jsx("p",{className:"text-muted-foreground",children:"  .        ."})})]})})]})]})})},Sq=[{month:"",sales:12500},{month:"",sales:18200},{month:"",sales:22800},{month:"",sales:25400},{month:"",sales:32100},{month:"",sales:28700}],Tq=[{name:"",value:45},{name:"",value:25},{name:"",value:15},{name:"",value:10},{name:"",value:5}],Eq=()=>{const[e,t]=lt.useState("month"),n=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e),s=Sq.reduce(((e,t)=>e+t.sales),0);return X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),X.jsx("p",{className:"text-muted-foreground",children:"      "})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs(OB,{value:e,onValueChange:t,children:[X.jsx(FB,{className:"w-[180px]",children:X.jsx(LB,{placeholder:" "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:"week",children:""}),X.jsx(BB,{value:"month",children:""}),X.jsx(BB,{value:"quarter",children:""}),X.jsx(BB,{value:"year",children:""})]})]}),X.jsxs(Cw,{variant:"outline",children:[X.jsx(Lw,{className:"h-4 w-4 mr-2"})," "]}),X.jsxs(Cw,{children:[X.jsx(Uj,{className:"h-4 w-4 mr-2"}),""]})]})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:n(s)}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+12.5%     "})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:n(1250)}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+5.3%     "})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:245}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+8.1%     "})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:""})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:180}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+15.2%     "})]})]})]}),X.jsxs(ak,{defaultValue:"sales",children:[X.jsxs(ok,{children:[X.jsxs(lk,{value:"sales",className:"flex items-center gap-2",children:[X.jsx(Mw,{className:"h-4 w-4"}),""]}),X.jsxs(lk,{value:"products",className:"flex items-center gap-2",children:[X.jsx(_j,{className:"h-4 w-4"}),""]}),X.jsxs(lk,{value:"customers",className:"flex items-center gap-2",children:[X.jsx(qj,{className:"h-4 w-4"}),""]}),X.jsxs(lk,{value:"categories",className:"flex items-center gap-2",children:[X.jsx(wj,{className:"h-4 w-4"}),""]})]}),X.jsx(ck,{value:"sales",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"   6 "})]}),X.jsx(qk,{children:X.jsx("div",{className:"h-[300px] w-full",children:X.jsx("div",{className:"flex items-end justify-between h-full w-full px-2",children:Sq.map(((e,t)=>X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:n(e.sales)}),X.jsx("div",{className:"w-12 bg-primary rounded-t-md",style:{height:e.sales/35e3*100+"%"}}),X.jsx("div",{className:"text-xs font-medium mt-2",children:e.month})]},t)))})})})]})}),X.jsx(ck,{value:"products",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"     "})]}),X.jsx(qk,{children:X.jsx("p",{className:"text-muted-foreground text-center py-10",children:"  .      ."})})]})}),X.jsx(ck,{value:"customers",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"     "})]}),X.jsx(qk,{children:X.jsx("p",{className:"text-muted-foreground text-center py-10",children:"  .     ."})})]})}),X.jsx(ck,{value:"categories",className:"mt-6",children:X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:"  "}),X.jsx(Bk,{children:"   "})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"flex justify-center py-6",children:X.jsx("div",{className:"w-64 h-64 rounded-full border-8 border-background relative",children:X.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:X.jsxs("div",{className:"text-center",children:[X.jsxs("div",{className:"text-2xl font-bold",children:[s.toLocaleString()," K"]}),X.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})})})}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Tq.map(((e,t)=>X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:`hsl(${60*t}, 70%, 60%)`}}),X.jsx("span",{children:e.name})]}),X.jsxs("div",{className:"font-medium",children:[e.value,"%"]})]},t)))})]})]})})]})]})})},Aq=()=>{const[e,t]=lt.useState([]),[n,s]=lt.useState(!0),[r,i]=lt.useState(""),[a,o]=lt.useState(!1),[l,c]=lt.useState(!1),[d,u]=lt.useState(null),[h,m]=lt.useState({name:"",slug:"",description:"",isActive:!0});lt.useEffect((()=>{(async()=>{try{s(!0);const e=await MM();t(e)}catch(e){Pt.error("   ")}finally{s(!1)}})()}),[]);const f=e.filter((e=>{if(r){const t=r.toLowerCase();return e.name.toLowerCase().includes(t)||e.slug.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}return!0})),p=e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))},g=e=>{m((t=>({...t,isActive:e})))},x=e=>e.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"),y=e=>{const t=e.target.value;m((e=>({...e,name:t,slug:x(t)})))},v=async e=>{if(confirm(" ,     ?"))try{s(!0),await(async e=>{try{await Rg(Ep(mv,RM,e));try{const t=Yx(fv,`categories/${e}`);await Qx(t)}catch(t){}}catch(t){throw t}})(e),t((t=>t.filter((t=>t.id!==e)))),Pt.success("  ")}catch(n){Pt.error("   ")}finally{s(!1)}};return X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx("h1",{className:"text-2xl font-bold",children:" "}),X.jsxs(dq,{open:a,onOpenChange:o,children:[X.jsx(uq,{asChild:!0,children:X.jsxs(Cw,{children:[X.jsx(jj,{className:"mr-2 h-4 w-4"})," "]})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"     "})]}),X.jsxs("div",{className:"space-y-4 py-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"name",children:" "}),X.jsx(dk,{id:"name",name:"name",value:h.name,onChange:y})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"slug",children:"Slug ( URL)"}),X.jsx(dk,{id:"slug",name:"slug",value:h.slug,onChange:p})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"description",children:" ()"}),X.jsx(dk,{id:"description",name:"description",value:h.description,onChange:p})]}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(TR,{htmlFor:"isActive",children:" "}),X.jsx(lq,{id:"isActive",checked:h.isActive,onCheckedChange:g})]})]}),X.jsxs(gq,{children:[X.jsx(Cw,{variant:"outline",onClick:()=>o(!1),children:""}),X.jsx(Cw,{onClick:async()=>{try{if(!h.name||!h.slug)return void Pt.error("  slug ");s(!0);const n={name:h.name,slug:h.slug,description:h.description||"",isActive:void 0===h.isActive||h.isActive,order:e.length},r=await(async e=>{try{return(await Mg(Tp(mv,RM),{...e,createdAt:new Date})).id}catch(t){throw t}})(n);t((e=>[...e,{id:r,...n}])),m({name:"",slug:"",description:"",isActive:!0}),o(!1),Pt.success("  ")}catch(n){Pt.error("   ")}finally{s(!1)}},disabled:n,children:n?X.jsxs(X.Fragment,{children:[X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""})]})]})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-3",children:X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(Vk,{children:" "}),X.jsx("div",{className:"flex items-center gap-2",children:X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:" ...",className:"pl-8 w-[250px]",value:r,onChange:e=>i(e.target.value)})]})})]})}),X.jsx(qk,{children:n&&0===e.length?X.jsxs("div",{className:"flex justify-center items-center py-8",children:[X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"}),X.jsx("span",{className:"ml-2 text-lg",children:" ..."})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:"Slug"}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:f.length>0?f.map((e=>X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:e.name}),X.jsx(GB,{children:e.slug}),X.jsx(GB,{className:"max-w-[300px] truncate",children:e.description||"-"}),X.jsx(GB,{children:e.isActive?X.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:""}):X.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:""})}),X.jsx(GB,{className:"text-right",children:X.jsxs("div",{className:"flex justify-end gap-2",children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{u(e),m({name:e.name,slug:e.slug,description:e.description,isActive:e.isActive}),c(!0)})(e),children:X.jsx(Dj,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>v(e.id),children:X.jsx(Lj,{className:"h-4 w-4"})})]})})]},e.id))):X.jsx(KB,{children:X.jsx(GB,{colSpan:5,className:"text-center py-6",children:X.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[X.jsx(Mj,{className:"h-10 w-10 text-muted-foreground mb-2"}),X.jsx("p",{className:"text-lg font-medium",children:"  "}),X.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r?"   ":"  "})]})})})})]})})]}),X.jsx(dq,{open:l,onOpenChange:c,children:X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsx(yq,{children:"  "})]}),X.jsxs("div",{className:"space-y-4 py-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"edit-name",children:" "}),X.jsx(dk,{id:"edit-name",name:"name",value:h.name,onChange:y})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"edit-slug",children:"Slug ( URL)"}),X.jsx(dk,{id:"edit-slug",name:"slug",value:h.slug,onChange:p})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"edit-description",children:" ()"}),X.jsx(dk,{id:"edit-description",name:"description",value:h.description,onChange:p})]}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx(TR,{htmlFor:"edit-isActive",children:" "}),X.jsx(lq,{id:"edit-isActive",checked:h.isActive,onCheckedChange:g})]})]}),X.jsxs(gq,{children:[X.jsx(Cw,{variant:"outline",onClick:()=>c(!1),children:""}),X.jsx(Cw,{onClick:async()=>{try{if(!d||!h.name||!h.slug)return void Pt.error("  slug ");s(!0);const e={name:h.name,slug:h.slug,description:h.description||"",isActive:void 0===h.isActive||h.isActive};await(async(e,t)=>{try{const n=Ep(mv,RM,e);await Dg(n,t)}catch(n){throw n}})(d.id,e),t((t=>t.map((t=>t.id===d.id?{...t,...e}:t)))),c(!1),Pt.success("  ")}catch(e){Pt.error("   ")}finally{s(!1)}},disabled:n,children:n?X.jsxs(X.Fragment,{children:[X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""})]})]})})]})})},Iq="flowers",_q=async()=>{try{return(await _g(Tp(mv,Iq))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw e}},Pq=async(e,t,n)=>{try{const n=Ep(mv,Iq,e);t.updatedAt=new Date,await Dg(n,t)}catch(s){throw s}},Dq=[{value:"rose",label:""},{value:"tulip",label:""},{value:"lily",label:""},{value:"orchid",label:""},{value:"other",label:""}],Rq=()=>{var e,t,n,s;const[r,i]=lt.useState([]),[a,o]=lt.useState(!0),[l,c]=lt.useState(""),[d,u]=lt.useState(!1),[h,m]=lt.useState(!1),[f,p]=lt.useState(null),[g,x]=lt.useState({name:{cs:"",uk:"",en:"",ru:""},latinName:"",type:"other",color:"",price:0,inStock:!0,stockQuantity:0,description:"",itemType:LM.FLOWER,forCustomBouquet:!0}),[y,v]=lt.useState(""),[b,w]=lt.useState(!1),[j,N]=lt.useState(null),[k,C]=lt.useState(0);lt.useEffect((()=>{(async()=>{try{o(!0);const e=await _q();i(e)}catch(e){Pt.error("   ")}finally{o(!1)}})()}),[]);const S=r.filter((e=>{const t=l.toLowerCase();return e.name.cs&&e.name.cs.toLowerCase().includes(t)||e.name.uk&&e.name.uk.toLowerCase().includes(t)||e.name.en&&e.name.en.toLowerCase().includes(t)||e.name.ru&&e.name.ru.toLowerCase().includes(t)||e.latinName&&e.latinName.toLowerCase().includes(t)||e.color.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)})),T=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,s]=t.split(".");"name"===e&&x((e=>({...e,name:{...e.name||{cs:"",uk:"",en:"",ru:""},[s]:n}})))}else x("price"===t||"stockQuantity"===t?e=>({...e,[t]:Number(n)}):e=>({...e,[t]:n}))},E=e=>{x((t=>({...t,type:e})))},A=e=>{x((t=>({...t,inStock:e,stockQuantity:e?t.stockQuantity:0})))},I=async()=>{try{if(!f||!g.name||!g.color||void 0===g.price||g.price<=0)return void Pt.error("   ");o(!0);const e={...g,price:Number(g.price),stockQuantity:Number(g.stockQuantity||0),updatedAt:new Date};await Pq(f.id,e),i((t=>t.map((t=>t.id===f.id?{...t,...e}:t)))),m(!1),Pt.success("  ")}catch(e){Pt.error("   ")}finally{o(!1)}},_=async e=>{if(confirm(" ,     ?"))try{o(!0),await(async e=>{try{await Rg(Ep(mv,Iq,e));try{const t=Yx(fv,`flowers/${e}`);await Qx(t)}catch(t){}}catch(t){throw t}})(e),i((t=>t.filter((t=>t.id!==e)))),Pt.success("  ")}catch(t){Pt.error("   ")}finally{o(!1)}};return X.jsx(mV,{children:X.jsxs(Uk,{className:"w-full",children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between",children:[X.jsx(Vk,{children:" "}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:" ...",className:"w-[200px] pl-8 md:w-[300px]",value:l,onChange:e=>c(e.target.value)})]}),X.jsxs(Cw,{variant:"outline",size:"sm",children:[X.jsx(Jw,{className:"mr-2 h-4 w-4"}),""]}),X.jsxs(dq,{open:d,onOpenChange:u,children:[X.jsx(uq,{asChild:!0,children:X.jsxs(Cw,{size:"sm",onClick:()=>{x({name:{cs:"",uk:"",en:"",ru:""},latinName:"",type:"other",color:"",price:0,inStock:!0,stockQuantity:0,description:""}),v(""),w(!1),N(null),C(0),u(!0)},children:[X.jsx(jj,{className:"mr-2 h-4 w-4"})," "]})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"        ."})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"name.cs",className:"text-right",children:" ()*"}),X.jsx(dk,{id:"name.cs",name:"name.cs",value:(null==(e=g.name)?void 0:e.cs)||"",onChange:T,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"name.uk",className:"text-right",children:" ()"}),X.jsx(dk,{id:"name.uk",name:"name.uk",value:(null==(t=g.name)?void 0:t.uk)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"name.en",className:"text-right",children:" ()"}),X.jsx(dk,{id:"name.en",name:"name.en",value:(null==(n=g.name)?void 0:n.en)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"name.ru",className:"text-right",children:" ()"}),X.jsx(dk,{id:"name.ru",name:"name.ru",value:(null==(s=g.name)?void 0:s.ru)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"latinName",className:"text-right",children:" "}),X.jsx(dk,{id:"latinName",name:"latinName",value:g.latinName||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"type",className:"text-right",children:"*"}),X.jsxs("div",{className:"col-span-3 space-y-2",children:[X.jsx("div",{className:"flex items-center justify-between",children:X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx(NR,{id:"custom-type-checkbox",checked:b,onCheckedChange:()=>(w(!b),void x(b?e=>({...e,type:"other"}):e=>({...e,type:y||""})))}),X.jsx(TR,{htmlFor:"custom-type-checkbox",className:"cursor-pointer",children:" "})]})}),b?X.jsx(dk,{id:"customType",name:"customType",value:y,onChange:e=>{v(e.target.value),b&&x((t=>({...t,type:e.target.value})))},placeholder:"  ",required:!0}):X.jsxs(OB,{value:g.type,onValueChange:E,children:[X.jsx(FB,{children:X.jsx(LB,{placeholder:"  "})}),X.jsx(VB,{children:Dq.map((e=>X.jsx(BB,{value:e.value,children:e.label},e.value)))})]})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"itemType",className:"text-right",children:" *"}),X.jsxs(OB,{value:g.itemType,onValueChange:e=>x({...g,itemType:e}),children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:"  "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:LM.FLOWER,children:""}),X.jsx(BB,{value:LM.WRAPPING,children:""}),X.jsx(BB,{value:LM.ADDITION,children:""})]})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"color",className:"text-right",children:"*"}),X.jsx(dk,{id:"color",name:"color",value:g.color||"",onChange:T,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"price",className:"text-right",children:" (K)*"}),X.jsx(dk,{id:"price",name:"price",type:"number",value:g.price,onChange:T,className:"col-span-3",required:!0,min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"inStock",className:"text-right",children:" "}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"inStock",checked:g.inStock,onCheckedChange:A})})]}),g.inStock&&X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"stockQuantity",className:"text-right",children:""}),X.jsx(dk,{id:"stockQuantity",name:"stockQuantity",type:"number",value:g.stockQuantity,onChange:T,className:"col-span-3",min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"description",className:"text-right",children:""}),X.jsx(dk,{id:"description",name:"description",value:g.description||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"image",className:"text-right",children:""}),X.jsxs("div",{className:"col-span-3",children:[X.jsx(dk,{id:"image",name:"image",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];N(t),Pt.success(` : ${t.name}`)}},className:"col-span-3"}),j&&X.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[": ",j.name]}),k>0&&k<100&&X.jsx("div",{className:"w-full bg-secondary h-2 mt-2 rounded-full overflow-hidden",children:X.jsx("div",{className:"bg-primary h-full",style:{width:`${k}%`}})})]})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:async()=>{var e,t,n,s,r;try{if(!(null==(e=g.name)?void 0:e.cs)||!g.type||!g.color||void 0===g.price||g.price<=0)return void Pt.error("   ");if(!j)return void Pt.error("   ");o(!0),Pt.info("  ...");try{const e={cs:(null==(t=g.name)?void 0:t.cs)||"",uk:(null==(n=g.name)?void 0:n.uk)||"",en:(null==(s=g.name)?void 0:s.en)||"",ru:(null==(r=g.name)?void 0:r.ru)||""};e.uk||(e.uk=e.cs),e.en||(e.en=e.cs),e.ru||(e.ru=e.cs);const a={...g,name:e,type:b?y:g.type},o=await(async e=>{try{return(await Mg(Tp(mv,Iq),{...e,createdAt:new Date,updatedAt:new Date})).id}catch(t){throw t}})(a),l=await(async(e,t)=>{try{Pt.info(`  : ${e.name}`);const n=(new Date).getTime(),s=Yx(fv,`flowers/${t}/${n}_${e.name}`);C(10),await Wx(s,e),C(70);const r=await Gx(s);return C(100),Pt.success("  "),r}catch(n){throw Pt.error(`   : ${n instanceof Error?n.message:" "}`),n}})(j,o);await Pq(o,{imageUrl:l});const c=await _q();i(c),x({name:{cs:"",uk:"",en:"",ru:""},latinName:"",type:"other",color:"",price:0,inStock:!0,stockQuantity:0,description:""}),v(""),w(!1),N(null),C(0),u(!1),Pt.success("  ")}catch(a){Pt.error(`   : ${a instanceof Error?a.message:" "}`)}}catch(l){Pt.error(`   : ${l instanceof Error?l.message:" "}`)}finally{o(!1)}},disabled:a,children:[a&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})]})]})]}),X.jsx(qk,{children:a&&0===r.length?X.jsxs("div",{className:"flex justify-center items-center h-64",children:[X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"}),X.jsx("span",{className:"ml-2",children:" ..."})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:" "}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:0===S.length?X.jsx(KB,{children:X.jsx(GB,{colSpan:7,className:"text-center py-8",children:l?"  ":"  "})}):S.map((e=>{var t,n,s,r,i,o;return X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:X.jsxs("div",{className:"flex items-center",children:[e.imageUrl?X.jsx("img",{src:e.imageUrl,alt:e.name.cs||"",className:"w-10 h-10 rounded-full object-cover mr-2"}):X.jsx(Zw,{className:"w-10 h-10 p-2 rounded-full bg-primary/10 text-primary mr-2"}),X.jsxs("div",{children:[X.jsx("div",{children:e.name.cs||""}),e.latinName&&X.jsx("div",{className:"text-xs text-muted-foreground",children:e.latinName})]})]})}),X.jsx(GB,{children:(null==(t=Dq.find((t=>t.value===e.type)))?void 0:t.label)||e.type}),X.jsx(GB,{children:e.color}),X.jsx(GB,{children:(o=e.price,`${o} K`)}),X.jsx(GB,{children:X.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium "+(e.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.inStock?"":""})}),X.jsx(GB,{children:e.stockQuantity}),X.jsxs(GB,{className:"text-right",children:[X.jsxs(dq,{open:h&&(null==f?void 0:f.id)===e.id,onOpenChange:e=>!e&&p(null),children:[X.jsx(uq,{asChild:!0,children:X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(e),x({...e}),m(!0)})(e),children:[X.jsx(Dj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsx(yq,{children:"   ."})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-name.cs",className:"text-right",children:" ()*"}),X.jsx(dk,{id:"edit-name.cs",name:"name.cs",value:(null==(n=g.name)?void 0:n.cs)||"",onChange:T,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-name.uk",className:"text-right",children:" ()"}),X.jsx(dk,{id:"edit-name.uk",name:"name.uk",value:(null==(s=g.name)?void 0:s.uk)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-name.en",className:"text-right",children:" ()"}),X.jsx(dk,{id:"edit-name.en",name:"name.en",value:(null==(r=g.name)?void 0:r.en)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-name.ru",className:"text-right",children:" ()"}),X.jsx(dk,{id:"edit-name.ru",name:"name.ru",value:(null==(i=g.name)?void 0:i.ru)||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-latinName",className:"text-right",children:" "}),X.jsx(dk,{id:"edit-latinName",name:"latinName",value:g.latinName||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-type",className:"text-right",children:"*"}),X.jsxs(OB,{value:g.type,onValueChange:E,children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:"  "})}),X.jsx(VB,{children:Dq.map((e=>X.jsx(BB,{value:e.value,children:e.label},e.value)))})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-itemType",className:"text-right",children:" *"}),X.jsxs(OB,{value:g.itemType,onValueChange:e=>x({...g,itemType:e}),children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:"  "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:LM.FLOWER,children:""}),X.jsx(BB,{value:LM.WRAPPING,children:""}),X.jsx(BB,{value:LM.ADDITION,children:""})]})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-color",className:"text-right",children:"*"}),X.jsx(dk,{id:"edit-color",name:"color",value:g.color||"",onChange:T,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-price",className:"text-right",children:" (K)*"}),X.jsx(dk,{id:"edit-price",name:"price",type:"number",value:g.price,onChange:T,className:"col-span-3",required:!0,min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-inStock",className:"text-right",children:" "}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"edit-inStock",checked:g.inStock,onCheckedChange:A})})]}),g.inStock&&X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-stockQuantity",className:"text-right",children:""}),X.jsx(dk,{id:"edit-stockQuantity",name:"stockQuantity",type:"number",value:g.stockQuantity,onChange:T,className:"col-span-3",min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-description",className:"text-right",children:""}),X.jsx(dk,{id:"edit-description",name:"description",value:g.description||"",onChange:T,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-imageUrl",className:"text-right",children:"URL "}),X.jsx(dk,{id:"edit-imageUrl",name:"imageUrl",value:g.imageUrl||"",onChange:T,className:"col-span-3"})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:I,disabled:a,children:[a&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})]}),X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>_(e.id),children:[X.jsx(Lj,{className:"h-4 w-4 text-destructive"}),X.jsx("span",{className:"sr-only",children:""})]})]})]},e.id)}))})]})})]})})},Mq="bouquetFlowers",Oq=async()=>{try{const e=ug(Tp(mv,Mq),mg("forCustomBouquet","==",!0),gg("name","asc"));return(await _g(e)).docs.map((e=>{var t;return{id:e.id,...e.data(),createdAt:(null==(t=e.data().createdAt)?void 0:t.toDate())||new Date}}))}catch(e){throw e}},Lq=[{value:"rose",label:""},{value:"tulip",label:""},{value:"lily",label:""},{value:"peony",label:""},{value:"sunflower",label:""},{value:"orchid",label:""},{value:"chrysanthemum",label:""},{value:"gerbera",label:""},{value:"eustoma",label:""},{value:"other",label:""}],Fq=()=>{var e;const[t,n]=lt.useState([]),[s,r]=lt.useState(!0),[i,a]=lt.useState(""),[o,l]=lt.useState(!1),[c,d]=lt.useState(!1),[u,h]=lt.useState(null),[m,f]=lt.useState({name:{cs:""},type:"",color:"",price:0,inStock:!0,stockQuantity:0,description:"",forCustomBouquet:!0,itemType:LM.FLOWER}),[p,g]=lt.useState(null),[x,y]=lt.useState(0),v=e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];g(t),Pt.success(` : ${t.name}`)}};lt.useEffect((()=>{(async()=>{try{r(!0);const e=await Oq();n(e)}catch(e){Pt.error("     ")}finally{r(!1)}})()}),[]);const b=t.filter((e=>{const t=i.toLowerCase();return e.name.cs&&e.name.cs.toLowerCase().includes(t)||e.name.uk&&e.name.uk.toLowerCase().includes(t)||e.name.en&&e.name.en.toLowerCase().includes(t)||e.name.ru&&e.name.ru.toLowerCase().includes(t)||e.color.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)})),w=e=>{const{name:t,value:n}=e.target;f("name"===t?e=>({...e,name:{...e.name,cs:n}}):"price"===t||"stockQuantity"===t?e=>({...e,[t]:parseFloat(n)||0}):e=>({...e,[t]:n}))},j=e=>{f((t=>({...t,type:e})))},N=e=>{f((t=>({...t,inStock:e,stockQuantity:e?t.stockQuantity:0})))},k=()=>{f({name:{cs:""},type:"",color:"",price:0,inStock:!0,stockQuantity:0,description:"",forCustomBouquet:!0,itemType:LM.FLOWER}),g(null)},C=async()=>{try{if(!u||!m.name||!m.color||void 0===m.price||m.price<=0)return void Pt.error("   ");r(!0);const e={...m,forCustomBouquet:!0};if(p){const t=await(async(e,t)=>{try{Pt.info(`  : ${e.name}`);const n=(new Date).getTime(),s=Yx(fv,`bouquet_flowers/${t}/${n}_${e.name}`);y(10),await Wx(s,e),y(70);const r=await Gx(s);return y(100),Pt.success("  "),r}catch(n){throw Pt.error(`   : ${n instanceof Error?n.message:" "}`),n}})(p,u.id);e.imageUrl=t}await(async(e,t)=>{try{await Dg(Ep(mv,Mq,e),t)}catch(n){throw n}})(u.id,e);const t=await Oq();n(t),h(null),f({name:{cs:""},type:"other",color:"",price:0,inStock:!0,stockQuantity:0,description:"",forCustomBouquet:!0}),g(null),y(0),d(!1),Pt.success("  ")}catch(e){Pt.error("   ")}finally{r(!1)}},S=async e=>{try{r(!0),await(async e=>{try{const t=Ep(mv,FM,e);await Dg(t,{forCustomBouquet:!0,updatedAt:new Date})}catch(t){throw t}})(e);const t=await Oq();n(t),Pt.success("      ")}catch(t){Pt.error("   ")}finally{r(!1)}},T=async e=>{if(window.confirm(" ,     ?"))try{r(!0),await(async e=>{try{await Rg(Ep(mv,Mq,e))}catch(t){throw t}})(e);const t=await Oq();n(t),Pt.success("  ")}catch(t){Pt.error("   ")}finally{r(!1)}};return X.jsx(mV,{children:X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between",children:[X.jsx(Vk,{children:"   "}),X.jsxs(Cw,{onClick:()=>{k(),y(0),l(!0)},children:[X.jsx(jj,{className:"mr-2 h-4 w-4"})," "]})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"flex items-center mb-6 gap-4",children:X.jsxs("div",{className:"relative flex-1",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:" ...",className:"pl-8",value:i,onChange:e=>a(e.target.value)})]})}),X.jsx(dq,{open:o,onOpenChange:l,children:X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"     "})]}),X.jsxs("div",{className:"space-y-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"name",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"name",name:"name",value:(null==(e=m.name)?void 0:e.cs)||"",onChange:w,className:"col-span-3",placeholder:"    ",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"type",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsxs(OB,{value:m.type,onValueChange:j,children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:" "})}),X.jsx(VB,{children:Lq.map((e=>X.jsx(BB,{value:e.value,children:e.label},e.value)))})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"itemType",className:"text-right",children:["  ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsxs(OB,{value:m.itemType,onValueChange:e=>f({...m,itemType:e}),children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:"  "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:LM.FLOWER,children:""}),X.jsx(BB,{value:LM.WRAPPING,children:""}),X.jsx(BB,{value:LM.ADDITION,children:""})]})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"color",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"color",name:"color",value:m.color,onChange:w,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"price",className:"text-right",children:[" (K) ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"price",name:"price",type:"number",value:m.price,onChange:w,className:"col-span-3",min:"0",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"inStock",className:"text-right",children:" "}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"inStock",checked:m.inStock,onCheckedChange:N})})]}),m.inStock&&X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"stockQuantity",className:"text-right",children:""}),X.jsx(dk,{id:"stockQuantity",name:"stockQuantity",type:"number",value:m.stockQuantity,onChange:w,className:"col-span-3",min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"description",className:"text-right",children:""}),X.jsx(dk,{id:"description",name:"description",value:m.description||"",onChange:w,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"image",className:"text-right",children:""}),X.jsxs("div",{className:"col-span-3",children:[X.jsx(dk,{id:"image",name:"image",type:"file",accept:"image/*",onChange:v,className:"col-span-3"}),p&&X.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[": ",p.name]}),x>0&&x<100&&X.jsx("div",{className:"w-full bg-secondary h-2 mt-2 rounded-full overflow-hidden",children:X.jsx("div",{className:"bg-primary h-full",style:{width:`${x}%`}})})]})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:async()=>{var e;try{if(!(null==(e=m.name)?void 0:e.cs)||!m.color||void 0===m.price||m.price<=0)return void Pt.error("   ");if(!p)return void Pt.error("   ");r(!0),Pt.info("  ...");const s={...m,forCustomBouquet:!0,itemType:m.itemType||LM.FLOWER,createdAt:new Date};try{y(10);await(async(e,t)=>{try{const n=await Mg(Tp(mv,Mq),{...e,createdAt:new Date});if(t){const e=(new Date).getTime(),s=Yx(fv,`bouquet_flowers/${n.id}/${e}_${t.name}`);await Wx(s,t);const r=await Gx(s);await Dg(Ep(mv,Mq,n.id),{imageUrl:r})}return n.id}catch(n){throw n}})(s,p);y(100);const e=await Oq();n(e),k(),g(null),y(0),l(!1),Pt.success("  ")}catch(t){Pt.error(`   : ${t instanceof Error?t.message:" "}`)}}catch(s){Pt.error(`   : ${s instanceof Error?s.message:" "}`)}finally{r(!1)}},disabled:s,children:[s&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})}),s&&0===t.length?X.jsxs("div",{className:"flex justify-center items-center py-8",children:[X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"}),X.jsx("span",{className:"ml-2",children:" ..."})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:0===b.length?X.jsx(KB,{children:X.jsx(GB,{colSpan:7,className:"text-center py-8",children:i?X.jsx("p",{children:"  .    ."}):X.jsx("p",{children:"     ."})})}):b.map((e=>{var t,n,r;return X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:e.name.cs||""}),X.jsx(GB,{children:(null==(t=Lq.find((t=>t.value===e.type)))?void 0:t.label)||e.type}),X.jsx(GB,{children:e.color}),X.jsx(GB,{children:(r=e.price,new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(r))}),X.jsx(GB,{children:e.inStock?X.jsxs("span",{className:"flex items-center text-green-600",children:[X.jsx("span",{className:"h-2 w-2 rounded-full bg-green-600 mr-2"})," "]}):X.jsxs("span",{className:"flex items-center text-red-600",children:[X.jsx("span",{className:"h-2 w-2 rounded-full bg-red-600 mr-2"}),"  "]})}),X.jsx(GB,{children:e.stockQuantity}),X.jsx(GB,{className:"text-right",children:X.jsxs("div",{className:"flex justify-end gap-2",children:[X.jsxs(dq,{open:c&&(null==u?void 0:u.id)===e.id,onOpenChange:d,children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{h(e),f(e),g(null),y(0),d(!0)})(e),children:X.jsx(Dj,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>S(e.id),className:"text-primary hover:text-primary",title:"    ",children:X.jsx(Zw,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>T(e.id),className:"text-destructive hover:text-destructive",children:X.jsx(Lj,{className:"h-4 w-4"})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsx(yq,{children:"     "})]}),X.jsxs("div",{className:"space-y-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"edit-name",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"edit-name",name:"name",value:(null==(n=m.name)?void 0:n.cs)||"",onChange:w,className:"col-span-3",placeholder:"    ",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"edit-type",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsxs(OB,{value:m.type,onValueChange:j,children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:" "})}),X.jsx(VB,{children:Lq.map((e=>X.jsx(BB,{value:e.value,children:e.label},e.value)))})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"edit-itemType",className:"text-right",children:["  ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsxs(OB,{value:m.itemType,onValueChange:e=>f({...m,itemType:e}),children:[X.jsx(FB,{className:"col-span-3",children:X.jsx(LB,{placeholder:"  "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:LM.FLOWER,children:""}),X.jsx(BB,{value:LM.WRAPPING,children:""}),X.jsx(BB,{value:LM.ADDITION,children:""})]})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"edit-color",className:"text-right",children:[" ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"edit-color",name:"color",value:m.color,onChange:w,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsxs(TR,{htmlFor:"edit-price",className:"text-right",children:[" (K) ",X.jsx("span",{className:"text-destructive",children:"*"})]}),X.jsx(dk,{id:"edit-price",name:"price",type:"number",value:m.price,onChange:w,className:"col-span-3",min:"0",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-inStock",className:"text-right",children:" "}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"edit-inStock",checked:m.inStock,onCheckedChange:N})})]}),m.inStock&&X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-stockQuantity",className:"text-right",children:""}),X.jsx(dk,{id:"edit-stockQuantity",name:"stockQuantity",type:"number",value:m.stockQuantity,onChange:w,className:"col-span-3",min:"0"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-description",className:"text-right",children:""}),X.jsx(dk,{id:"edit-description",name:"description",value:m.description||"",onChange:w,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"itemType",children:" "}),X.jsxs(OB,{value:m.itemType,onValueChange:e=>f({...m,itemType:e}),children:[X.jsx(FB,{children:X.jsx(LB,{placeholder:"  "})}),X.jsxs(VB,{children:[X.jsx(BB,{value:LM.FLOWER,children:""}),X.jsx(BB,{value:LM.WRAPPING,children:""}),X.jsx(BB,{value:LM.ADDITION,children:""})]})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"type",children:""}),X.jsx(dk,{id:"type",name:"type",value:m.type,onChange:w,placeholder:": ,   .."})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"image",children:""}),X.jsx(dk,{id:"image",name:"image",type:"file",accept:"image/*",onChange:v}),p&&X.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[" : ",p.name]}),x>0&&x<100&&X.jsx("div",{className:"w-full bg-secondary h-2 mt-2 rounded-full overflow-hidden",children:X.jsx("div",{className:"bg-primary h-full",style:{width:`${x}%`}})})]})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:C,disabled:s,children:[s&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})]}),X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>T(e.id),children:[X.jsx(Lj,{className:"h-4 w-4 text-destructive"}),X.jsx("span",{className:"sr-only",children:""})]})]})})]},e.id)}))})]})]})]})})},Uq=()=>X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "}),X.jsx("p",{className:"text-muted-foreground mt-2",children:" , ,    "})]}),X.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:",     "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/blog/posts",children:[X.jsx(Xw,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"    "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/blog/tags",children:[X.jsx(Mj,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"    "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/blog/comments",children:[X.jsx(pj,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"     "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/blog/analytics",children:[X.jsx(Mw,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"    "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/categories",children:[X.jsx(Mj,{className:"mr-2 h-4 w-4"}),"  "]})})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"     "})]}),X.jsx(qk,{children:X.jsx(Cw,{asChild:!0,className:"w-full",children:X.jsxs(ct,{to:"/admin/settings",children:[X.jsx(Tj,{className:"mr-2 h-4 w-4"}),"  "]})})})]})]})]})}),zq=()=>{var e,t;const[n,s]=lt.useState([]),[r,i]=lt.useState(""),[a,o]=lt.useState(null),[l,c]=lt.useState(!1),[d,u]=lt.useState(!1),[h,m]=lt.useState(null),[f,p]=lt.useState({title:"",content:"",excerpt:"",imageUrl:"",author:"",tags:[],published:!1}),[g,x]=lt.useState(""),[y,v]=lt.useState(null),{posts:b,loading:w,refreshPosts:j}=$M({publishedOnly:!1,realTime:!0}),[N,k]=lt.useState({totalPosts:0,publishedPosts:0,draftPosts:0,totalViews:0,totalComments:0,popularTags:[]});lt.useEffect((()=>{(async()=>{try{const e=await pb();s(e)}catch(e){Pt.error("   ")}})()}),[]),lt.useEffect((()=>{if(!b)return;const e=b.filter((e=>e.published)).length,t=b.length-e,n=b.reduce(((e,t)=>e+(t.views||0)),0),s=b.reduce(((e,t)=>e+(t.commentCount||0)),0),r={};b.forEach((e=>{e.tags&&e.tags.forEach((e=>{r[e]=(r[e]||0)+1}))}));const i=Object.entries(r).map((([e,t])=>({tag:e,count:t}))).sort(((e,t)=>t.count-e.count)).slice(0,5);k({totalPosts:b.length,publishedPosts:e,draftPosts:t,totalViews:n,totalComments:s,popularTags:i})}),[b]);const C=null==b?void 0:b.filter((e=>{var t;const n=r.toLowerCase(),s=e.title.toLowerCase().includes(n)||e.excerpt.toLowerCase().includes(n)||e.content.toLowerCase().includes(n)||e.author.toLowerCase().includes(n)||e.tags&&e.tags.some((e=>e.toLowerCase().includes(n))),i=!a||(null==(t=e.tags)?void 0:t.includes(a));return s&&i})),S=e=>{const{name:t,value:n}=e.target;p((e=>({...e,[t]:n})))},T=e=>{p((t=>({...t,published:e})))},E=e=>{e.target.files&&e.target.files[0]&&v(e.target.files[0])},A=()=>{var e;g.trim()&&!(null==(e=f.tags)?void 0:e.includes(g.trim()))&&(p((e=>({...e,tags:[...e.tags||[],g.trim()]}))),x(""))},I=e=>{p((t=>{var n;return{...t,tags:null==(n=t.tags)?void 0:n.filter((t=>t!==e))}}))},_=async e=>{if(window.confirm(" ,     ?"))try{await(async e=>{try{await Rg(Ep(mv,fb,e));try{const t=Yx(fv,`blog/${e}`);await Qx(t)}catch(t){}}catch(t){throw t}})(e),Pt.success("  "),j()}catch(t){Pt.error("   ")}},P=e=>e?qD(e,"dd MMMM yyyy",{locale:eR}):"",D=(e,t)=>e.length<=t?e:e.slice(0,t)+"...";return X.jsxs(mV,{children:[X.jsx(dq,{open:l,onOpenChange:c,children:X.jsxs(fq,{className:"sm:max-w-[625px]",children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"      "})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-title",className:"text-right",children:"*"}),X.jsx(dk,{id:"add-title",name:"title",value:f.title,onChange:S,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-excerpt",className:"text-right",children:" *"}),X.jsx(UM,{id:"add-excerpt",name:"excerpt",value:f.excerpt,onChange:S,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-content",className:"text-right",children:"*"}),X.jsx(UM,{id:"add-content",name:"content",value:f.content,onChange:S,className:"col-span-3 min-h-[200px]",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-author",className:"text-right",children:""}),X.jsx(dk,{id:"add-author",name:"author",value:f.author,onChange:S,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-image",className:"text-right",children:""}),X.jsx("div",{className:"col-span-3",children:X.jsx(dk,{id:"add-image",type:"file",accept:"image/*",onChange:E})})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-tags",className:"text-right",children:""}),X.jsxs("div",{className:"col-span-3",children:[X.jsxs("div",{className:"flex",children:[X.jsx(dk,{id:"add-tags",value:g,onChange:e=>x(e.target.value),placeholder:" ",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),A())}}),X.jsx(Cw,{type:"button",onClick:A,className:"ml-2",variant:"secondary",children:""})]}),X.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:null==(e=f.tags)?void 0:e.map((e=>X.jsxs("div",{className:"flex items-center bg-primary/10 text-primary px-2 py-1 rounded-md",children:[X.jsx(Mj,{className:"h-3 w-3 mr-1"}),e,X.jsxs(Cw,{type:"button",variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 hover:bg-destructive/10",onClick:()=>I(e),children:[X.jsx("span",{className:"sr-only",children:" "}),""]})]},e)))})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"add-published",className:"text-right",children:""}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"add-published",checked:f.published,onCheckedChange:T})})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:async()=>{try{if(!f.title||!f.content||!f.excerpt)return void Pt.error("   ");const{imageUrl:e,...t}=f,n={...t,...y?{}:{imageUrl:e},createdAt:new Date,publishedAt:f.published?new Date:null};await(async(e,t,n)=>{try{const r={...e,createdAt:Fg()};e.published&&(r.publishedAt=Fg());const i=await Mg(Tp(mv,fb),r);if(t)try{const e=await ib(t,n),s=Yx(fv,`blog/${i.id}.webp`);await Wx(s,e.file,{contentType:"image/webp",customMetadata:{postId:i.id,originalSize:String(e.originalSize),compressedSize:String(e.compressedSize)}});const r=await Gx(s);await Dg(i,{imageUrl:r})}catch(s){}return i.id}catch(s){throw s}})(n,y||void 0),Pt.success("  "),c(!1),p({title:"",content:"",excerpt:"",imageUrl:"",author:"",tags:[],published:!1}),v(null),j()}catch(e){Pt.error("   ")}},disabled:w,children:[w&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})}),X.jsx(dq,{open:d,onOpenChange:u,children:X.jsxs(fq,{className:"sm:max-w-[625px]",children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsx(yq,{children:"      "})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-title",className:"text-right",children:""}),X.jsx(dk,{id:"edit-title",name:"title",value:f.title,onChange:S,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-excerpt",className:"text-right",children:" "}),X.jsx(UM,{id:"edit-excerpt",name:"excerpt",value:f.excerpt,onChange:S,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-content",className:"text-right",children:""}),X.jsx(UM,{id:"edit-content",name:"content",value:f.content,onChange:S,className:"col-span-3 min-h-[200px]"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-author",className:"text-right",children:""}),X.jsx(dk,{id:"edit-author",name:"author",value:f.author,onChange:S,className:"col-span-3"})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-image",className:"text-right",children:""}),X.jsxs("div",{className:"col-span-3",children:[X.jsx(dk,{id:"edit-image",type:"file",accept:"image/*",onChange:E}),f.imageUrl&&X.jsx("div",{className:"mt-2",children:X.jsx("img",{src:f.imageUrl,alt:"Preview",className:"max-h-[100px] rounded-md"})})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-tags",className:"text-right",children:""}),X.jsxs("div",{className:"col-span-3",children:[X.jsxs("div",{className:"flex",children:[X.jsx(dk,{id:"edit-tags",value:g,onChange:e=>x(e.target.value),placeholder:" ",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),A())}}),X.jsx(Cw,{type:"button",onClick:A,className:"ml-2",variant:"secondary",children:""})]}),X.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:null==(t=f.tags)?void 0:t.map((e=>X.jsxs("div",{className:"flex items-center bg-primary/10 text-primary px-2 py-1 rounded-md",children:[X.jsx(Mj,{className:"h-3 w-3 mr-1"}),e,X.jsxs(Cw,{type:"button",variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 hover:bg-destructive/10",onClick:()=>I(e),children:[X.jsx("span",{className:"sr-only",children:" "}),""]})]},e)))})]})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-published",className:"text-right",children:""}),X.jsx("div",{className:"col-span-3 flex items-center",children:X.jsx(lq,{id:"edit-published",checked:f.published,onCheckedChange:T})})]})]}),X.jsx(gq,{children:X.jsxs(Cw,{type:"submit",onClick:async()=>{try{if(!(h&&f.title&&f.content&&f.excerpt))return void Pt.error("   ");const{imageUrl:e,...t}=f;await(async(e,t,n,s)=>{try{const i=Ep(mv,fb,e),a=await Ag(i);if(!a.exists())throw new Error(`Post with ID ${e} not found`);const o=a.data(),l={...t};if(!0!==t.published||o.published||(l.publishedAt=Fg()),n)try{if(o.imageUrl)try{const t=Yx(fv,`blog/${e}.webp`);await Qx(t)}catch{}const t=await ib(n,s),r=Yx(fv,`blog/${e}.webp`);await Wx(r,t.file,{contentType:"image/webp",customMetadata:{postId:e,originalSize:String(t.originalSize),compressedSize:String(t.compressedSize)}});const i=await Gx(r);l.imageUrl=i}catch(r){}await Dg(i,l)}catch(r){throw r}})(h.id,{...t,...y?{}:{imageUrl:e},publishedAt:f.published&&!h.published?new Date:h.publishedAt},y||void 0),Pt.success("  "),u(!1),m(null),p({title:"",content:"",excerpt:"",imageUrl:"",author:"",tags:[],published:!1}),v(null),j()}catch(e){Pt.error("   ")}},disabled:w,children:[w&&X.jsx(dj,{className:"mr-2 h-4 w-4 animate-spin"}),""]})})]})}),X.jsxs(ak,{defaultValue:"posts",className:"w-full",children:[X.jsxs("div",{className:"flex justify-between items-center mb-6",children:[X.jsxs(ok,{children:[X.jsx(lk,{value:"posts",children:""}),X.jsx(lk,{value:"statistics",children:""})]}),X.jsxs(Cw,{onClick:()=>c(!0),children:[X.jsx(jj,{className:"mr-2 h-4 w-4"})," "]})]}),X.jsx(ck,{value:"posts",className:"space-y-6",children:X.jsxs(Uk,{children:[X.jsx(zk,{className:"flex flex-row items-center justify-between",children:X.jsx(Vk,{children:" "})}),X.jsxs(qk,{children:[X.jsxs("div",{className:"flex items-center justify-between py-4",children:[X.jsxs("div",{className:"relative w-full max-w-sm",children:[X.jsx(Cj,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{placeholder:" ...",className:"pl-8",value:r,onChange:e=>i(e.target.value)})]}),X.jsx("div",{className:"flex gap-2",children:n.map((e=>X.jsx(VN,{variant:a===e?"default":"secondary",className:"cursor-pointer",onClick:()=>o(a===e?null:e),children:e},e)))})]}),w?X.jsx("div",{className:"flex justify-center items-center py-8",children:X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"})}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""})]})}),X.jsx(HB,{children:0===(null==C?void 0:C.length)?X.jsx(KB,{children:X.jsx(GB,{colSpan:6,className:"text-center",children:"  "})}):null==C?void 0:C.map((e=>X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:D(e.title,50)}),X.jsx(GB,{children:e.author}),X.jsx(GB,{children:e.publishedAt?P(e.publishedAt):P(e.createdAt)}),X.jsx(GB,{children:X.jsx("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.published?"":""})}),X.jsx(GB,{children:X.jsxs("div",{className:"flex items-center",children:[X.jsx(Gw,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.views||0]})}),X.jsxs(GB,{className:"flex items-center space-x-1",children:[X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{m(e),p(e),u(!0)})(e),children:[X.jsx(Dj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]}),X.jsxs(dq,{children:[X.jsx(uq,{asChild:!0,children:X.jsx(Cw,{variant:"ghost",size:"icon",className:"text-destructive ml-1","aria-label":" ",children:X.jsx(Lj,{className:"h-4 w-4"})})}),X.jsxs(fq,{className:"max-w-[400px]",children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" ?"}),X.jsx(yq,{children:" ,     ?   ."})]}),X.jsxs(gq,{children:[X.jsx(Cw,{variant:"outline",children:""}),X.jsx(Cw,{variant:"destructive",onClick:()=>_(e.id),children:""})]})]})]}),X.jsx(Cw,{variant:"ghost",size:"icon",asChild:!0,className:"ml-1",children:X.jsxs(ct,{to:`/blog/${e.id}`,target:"_blank",children:[X.jsx(Dw,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]})})]})]},e.id)))})]})]})]})}),X.jsxs(ck,{value:"statistics",className:"space-y-6",children:[X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[X.jsxs(Uk,{children:[X.jsx(zk,{className:"pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:" "})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:N.totalPosts}),X.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N.publishedPosts," , ",N.draftPosts," "]})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:""})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:N.totalViews}),X.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N.totalPosts>0?Math.round(N.totalViews/N.totalPosts):0,"    "]})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:""})}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:N.totalComments}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X.jsxs(ct,{to:"/admin/blog/comments",className:"text-primary flex items-center",children:[" ",X.jsx(Dw,{className:"h-3 w-3 ml-1"})]})})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:X.jsx(Vk,{className:"text-sm font-medium",children:" "})}),X.jsx(qk,{children:X.jsx("div",{className:"flex flex-wrap gap-2",children:N.popularTags.map((({tag:e,count:t})=>X.jsxs(VN,{variant:"secondary",className:"flex items-center gap-1",children:[e,X.jsx("span",{className:"text-xs bg-primary/10 px-1 rounded-sm",children:t})]},e)))})})]})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"  5  "})]}),X.jsx(qk,{children:X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:" "}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""})]})}),X.jsxs(HB,{children:[null==b?void 0:b.filter((e=>e.published)).sort(((e,t)=>t.publishedAt.getTime()-e.publishedAt.getTime())).slice(0,5).map((e=>X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:D(e.title,40)}),X.jsx(GB,{children:P(e.publishedAt)}),X.jsx(GB,{children:e.views||0}),X.jsx(GB,{children:e.commentCount||0}),X.jsx(GB,{children:X.jsx(Cw,{variant:"ghost",size:"sm",asChild:!0,children:X.jsxs(ct,{to:`/blog/${e.id}`,target:"_blank",className:"flex items-center",children:[X.jsx(Xw,{className:"h-4 w-4 mr-1"}),""]})})})]},e.id))),0===(null==b?void 0:b.filter((e=>e.published)).length)&&X.jsx(KB,{children:X.jsx(GB,{colSpan:5,className:"text-center py-4",children:"  "})})]})]})})]})]})]})]})},Vq=()=>{const[e,t]=lt.useState([]),[n,s]=lt.useState(!0),[r,i]=lt.useState(""),[a,o]=lt.useState(!1),[l,c]=lt.useState(!1),[d,u]=lt.useState(null),[h,m]=lt.useState({name:"",slug:""});lt.useEffect((()=>{(async()=>{try{s(!0);const e=(await pb()).map(((e,t)=>({id:`tag-${t}`,name:e,slug:e.toLowerCase().replace(/\s+/g,"-"),postCount:Math.floor(10*Math.random())})));t(e)}catch(e){Pt.error("    ")}finally{s(!1)}})()}),[]);const f=e.filter((e=>{const t=r.toLowerCase();return e.name.toLowerCase().includes(t)||e.slug.toLowerCase().includes(t)})),p=e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))},g=e=>e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),x=e=>{const{value:t}=e.target;m((e=>({...e,name:t,slug:g(t)})))},y=()=>{d&&h.name?(t(e.map((e=>e.id===d.id?{...e,name:h.name,slug:h.slug||g(h.name)}:e))),c(!1),Pt.success("  ")):Pt.error("  ")};return X.jsx(mV,{children:X.jsxs(Uk,{className:"w-full",children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between",children:[X.jsx(Vk,{children:"  "}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:" ...",className:"w-[200px] pl-8 md:w-[300px]",value:r,onChange:e=>i(e.target.value)})]}),X.jsxs(dq,{open:a,onOpenChange:o,children:[X.jsx(uq,{asChild:!0,children:X.jsxs(Cw,{size:"sm",children:[X.jsx(jj,{className:"mr-2 h-4 w-4"})," "]})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"      ."})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"name",className:"text-right",children:"*"}),X.jsx(dk,{id:"name",name:"name",value:h.name,onChange:x,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"slug",className:"text-right",children:"Slug"}),X.jsx(dk,{id:"slug",name:"slug",value:h.slug,onChange:p,className:"col-span-3",placeholder:"   "})]})]}),X.jsx(gq,{children:X.jsx(Cw,{type:"submit",onClick:()=>{if(!h.name)return void Pt.error("  ");const n={id:`tag-${Date.now()}`,name:h.name,slug:h.slug||g(h.name),postCount:0};t([...e,n]),m({name:"",slug:""}),o(!1),Pt.success("  ")},children:""})})]})]})]})]}),X.jsx(qk,{children:n?X.jsxs("div",{className:"flex justify-center items-center h-64",children:[X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"}),X.jsx("span",{className:"ml-2",children:" ..."})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:"Slug"}),X.jsx(WB,{children:" "}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:0===f.length?X.jsx(KB,{children:X.jsx(GB,{colSpan:4,className:"text-center py-8",children:r?"  ":"  "})}):f.map((n=>X.jsxs(KB,{children:[X.jsx(GB,{className:"font-medium",children:X.jsxs("div",{className:"flex items-center",children:[X.jsx(Mj,{className:"h-4 w-4 mr-2 text-primary"}),n.name]})}),X.jsx(GB,{children:n.slug}),X.jsx(GB,{children:n.postCount}),X.jsxs(GB,{className:"text-right",children:[X.jsxs(dq,{open:l&&(null==d?void 0:d.id)===n.id,onOpenChange:e=>!e&&u(null),children:[X.jsx(uq,{asChild:!0,children:X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{u(e),m({...e}),c(!0)})(n),children:[X.jsx(Dj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]})}),X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:" "}),X.jsx(yq,{children:"   ."})]}),X.jsxs("div",{className:"grid gap-4 py-4",children:[X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-name",className:"text-right",children:"*"}),X.jsx(dk,{id:"edit-name",name:"name",value:h.name,onChange:x,className:"col-span-3",required:!0})]}),X.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[X.jsx(TR,{htmlFor:"edit-slug",className:"text-right",children:"Slug"}),X.jsx(dk,{id:"edit-slug",name:"slug",value:h.slug,onChange:p,className:"col-span-3",placeholder:"   "})]})]}),X.jsx(gq,{children:X.jsx(Cw,{type:"submit",onClick:y,children:""})})]})]}),X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>{return s=n.id,void(confirm(" ,     ?")&&(t(e.filter((e=>e.id!==s))),Pt.success("  ")));var s},children:[X.jsx(Lj,{className:"h-4 w-4 text-destructive"}),X.jsx("span",{className:"sr-only",children:""})]})]})]},n.id)))})]})})]})})},Bq="blogComments";var qq=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e))(qq||{});const $q=()=>{const[e,t]=lt.useState([]),[n,s]=lt.useState(!0),[r,i]=lt.useState(""),[a,o]=lt.useState("all"),[l,c]=lt.useState(!1),[d,u]=lt.useState(!1),[h,m]=lt.useState(null),[f,p]=lt.useState(""),[g,x]=lt.useState({total:0,pending:0,approved:0,rejected:0});lt.useEffect((()=>{(async()=>{try{let e;s(!0),e="all"===a?await(async()=>{try{const e=ug(Tp(mv,Bq),gg("createdAt","desc"));return(await _g(e)).docs.map((e=>{var t,n,s,r,i;return{id:e.id,...e.data(),createdAt:(null==(t=e.data().createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(n=e.data().updatedAt)?void 0:n.toDate())||new Date,approvedAt:(null==(s=e.data().approvedAt)?void 0:s.toDate())||void 0,rejectedAt:(null==(r=e.data().rejectedAt)?void 0:r.toDate())||void 0,repliedAt:(null==(i=e.data().repliedAt)?void 0:i.toDate())||void 0}}))}catch(e){throw e}})():await(async e=>{try{const t=ug(Tp(mv,Bq),mg("status","==",e),gg("createdAt","desc"));return(await _g(t)).docs.map((e=>{var t,n,s,r,i;return{id:e.id,...e.data(),createdAt:(null==(t=e.data().createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(n=e.data().updatedAt)?void 0:n.toDate())||new Date,approvedAt:(null==(s=e.data().approvedAt)?void 0:s.toDate())||void 0,rejectedAt:(null==(r=e.data().rejectedAt)?void 0:r.toDate())||void 0,repliedAt:(null==(i=e.data().repliedAt)?void 0:i.toDate())||void 0}}))}catch(t){throw t}})(a);const n={post1:"     ",post2:"      ",post3:"  2023 ",post4:"   :  ",post5:" :      "},r=e.map((e=>({...e,postTitle:n[e.postId]||" "})));t(r);const i=e.length,o=e.filter((e=>e.status===qq.PENDING)).length,l=e.filter((e=>e.status===qq.APPROVED)).length,c=e.filter((e=>e.status===qq.REJECTED)).length;x({total:i,pending:o,approved:l,rejected:c})}catch(e){Pt.error("   ")}finally{s(!1)}})()}),[a]);const y=e.filter((e=>{if("all"!==a&&e.status!==a)return!1;const t=r.toLowerCase();return e.author.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.postTitle.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)})),v=async(n,s)=>{var r;try{await(async(e,t)=>{try{const n=Ep(mv,Bq,e),s={status:t,updatedAt:Fg()};"approved"===t?s.approvedAt=Fg():"rejected"===t&&(s.rejectedAt=Fg()),await Dg(n,s)}catch(n){throw n}})(n,s),t(e.map((e=>e.id===n?{...e,status:s}:e)));const i={...g},a=null==(r=e.find((e=>e.id===n)))?void 0:r.status;a===qq.PENDING?i.pending--:a===qq.APPROVED?i.approved--:a===qq.REJECTED&&i.rejected--,s===qq.PENDING?i.pending++:s===qq.APPROVED?i.approved++:s===qq.REJECTED&&i.rejected++,x(i);const o=s===qq.APPROVED?"":s===qq.REJECTED?"":" ";Pt.success(` ${o}`)}catch(i){Pt.error("    ")}},b=e=>qD(e,"d MMMM yyyy",{locale:eR}),w=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},j=e=>{switch(e){case"approved":return"";case"rejected":return"";case"pending":return" ";default:return e}};return X.jsx(mV,{children:X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "}),X.jsx("p",{className:"text-muted-foreground mt-2",children:"      "})]}),X.jsx(Lk,{}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:" "}),X.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:X.jsx(pj,{className:"h-4 w-4 text-primary"})})]}),X.jsx(qk,{children:X.jsx("div",{className:"text-2xl font-bold",children:g.total})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:" "}),X.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:X.jsx(Aw,{className:"h-4 w-4 text-yellow-600"})})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:g.pending}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" "})]})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:""}),X.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:X.jsx(Uw,{className:"h-4 w-4 text-green-600"})})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:g.approved}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"  "})]})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:""}),X.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:X.jsx(Hj,{className:"h-4 w-4 text-red-600"})})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:g.rejected}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"  "})]})]})]}),X.jsxs(Uk,{className:"w-full",children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between",children:[X.jsxs("div",{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"    "})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:" ...",className:"w-[200px] pl-8 md:w-[300px]",value:r,onChange:e=>i(e.target.value)})]}),X.jsxs("div",{className:"relative",children:[X.jsx(Jw,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsxs("select",{className:"border border-input bg-background pl-8 pr-3 py-2 text-sm rounded-md w-[150px]",value:a,onChange:e=>o(e.target.value),children:[X.jsx("option",{value:"all",children:" "}),X.jsx("option",{value:"pending",children:" "}),X.jsx("option",{value:"approved",children:""}),X.jsx("option",{value:"rejected",children:""})]})]})]})]}),X.jsx(qk,{children:n?X.jsxs("div",{className:"flex justify-center items-center h-64",children:[X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"}),X.jsx("span",{className:"ml-2",children:" ..."})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:0===y.length?X.jsx(KB,{children:X.jsx(GB,{colSpan:6,className:"text-center py-8",children:r||"all"!==a?"  ":"  "})}):y.map((e=>X.jsxs(KB,{children:[X.jsx(GB,{children:X.jsxs("div",{children:[X.jsx("div",{className:"font-medium",children:e.author}),X.jsx("div",{className:"text-xs text-muted-foreground",children:e.email})]})}),X.jsx(GB,{children:X.jsx("div",{className:"max-w-[200px] truncate",title:e.postTitle,children:e.postTitle})}),X.jsx(GB,{children:X.jsx("div",{className:"max-w-[200px] truncate",title:e.content,children:e.content})}),X.jsx(GB,{children:b(e.createdAt)}),X.jsx(GB,{children:X.jsx(VN,{className:w(e.status),children:j(e.status)})}),X.jsx(GB,{className:"text-right",children:X.jsxs("div",{className:"flex justify-end space-x-1",children:[X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{m(e),c(!0)})(e),children:[X.jsx(Gw,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]}),X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{m(e),p(e.replyContent||""),u(!0)})(e),children:[X.jsx(pj,{className:"h-4 w-4"}),X.jsx("span",{className:"sr-only",children:""})]}),"approved"!==e.status&&X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>v(e.id,qq.APPROVED),children:[X.jsx(Uw,{className:"h-4 w-4 text-green-600"}),X.jsx("span",{className:"sr-only",children:""})]}),"rejected"!==e.status&&X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>v(e.id,qq.REJECTED),children:[X.jsx(Hj,{className:"h-4 w-4 text-red-600"}),X.jsx("span",{className:"sr-only",children:""})]}),"pending"!==e.status&&X.jsxs(Cw,{variant:"ghost",size:"icon",onClick:()=>v(e.id,qq.PENDING),children:[X.jsx(Aw,{className:"h-4 w-4 text-yellow-600"}),X.jsx("span",{className:"sr-only",children:" "})]})]})})]},e.id)))})]})})]}),X.jsx(dq,{open:l,onOpenChange:c,children:X.jsxs(fq,{children:[X.jsx(pq,{children:X.jsx(xq,{children:" "})}),h&&X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsx("div",{className:"mt-1 p-2 bg-muted rounded-md",children:h.postTitle})]}),X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsxs("div",{className:"mt-1 p-2 bg-muted rounded-md",children:[h.author," (",h.email,")"]})]}),X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsx("div",{className:"mt-1 p-2 bg-muted rounded-md",children:b(h.createdAt)})]}),X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsx("div",{className:"mt-1",children:X.jsx(VN,{className:w(h.status),children:j(h.status)})})]}),X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsx("div",{className:"mt-1 p-2 bg-muted rounded-md whitespace-pre-wrap",children:h.content})]}),h.replyContent&&X.jsxs("div",{children:[X.jsx(TR,{children:""}),X.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-md whitespace-pre-wrap",children:h.replyContent})]})]}),X.jsx(gq,{children:X.jsx(Cw,{onClick:()=>c(!1),children:""})})]})}),X.jsx(dq,{open:d,onOpenChange:u,children:X.jsxs(fq,{children:[X.jsxs(pq,{children:[X.jsx(xq,{children:"  "}),X.jsx(yq,{children:"    ."})]}),h&&X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx(TR,{children:" "}),X.jsxs("div",{className:"mt-1 p-2 bg-muted rounded-md whitespace-pre-wrap",children:[X.jsxs("div",{className:"font-medium",children:[h.author," :"]}),X.jsx("div",{className:"mt-1",children:h.content})]})]}),X.jsxs("div",{children:[X.jsx(TR,{htmlFor:"reply",children:" "}),X.jsx(UM,{id:"reply",value:f,onChange:e=>p(e.target.value),rows:5,className:"mt-1",placeholder:"    ..."})]})]}),X.jsxs(gq,{children:[X.jsx(Cw,{variant:"outline",onClick:()=>u(!1),children:""}),X.jsx(Cw,{onClick:async()=>{if(h)try{await(async(e,t)=>{try{const n=Ep(mv,Bq,e);await Dg(n,{replyContent:t,repliedAt:Fg(),updatedAt:Fg()})}catch(n){throw n}})(h.id,f),t(e.map((e=>e.id===h.id?{...e,replyContent:f}:e))),u(!1),Pt.success(" ")}catch(n){Pt.error("   ")}},children:" "})]})]})})]})})},Hq="blogPosts",Kq=({title:e,value:t,description:n,icon:s,trend:r,percentage:i})=>X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[X.jsx(Vk,{className:"text-sm font-medium",children:e}),X.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center",children:X.jsx(s,{className:"h-5 w-5 text-primary"})})]}),X.jsxs(qk,{children:[X.jsx("div",{className:"text-2xl font-bold",children:t}),X.jsxs("p",{className:"text-xs mt-1 text-muted-foreground flex items-center",children:[r&&X.jsxs(X.Fragment,{children:["up"===r?X.jsx(Dw,{className:"h-3 w-3 text-green-500 mr-1"}):"down"===r?X.jsx(Iw,{className:"h-3 w-3 text-red-500 mr-1"}):null,X.jsxs("span",{className:"up"===r?"text-green-500":"down"===r?"text-red-500":"",children:[i,"%"]}),X.jsx("span",{className:"text-muted-foreground ml-1",children:n})]}),!r&&n]})]})]}),Wq=()=>{var e,t;const[n,s]=lt.useState(!0),[r,i]=lt.useState("30days"),[a,o]=lt.useState({totalPosts:0,totalViews:0,totalLikes:0,totalComments:0,totalShares:0,avgViewsPerPost:0,popularPosts:[],viewsData:[],commentsData:[]});lt.useEffect((()=>{(async()=>{s(!0);try{const e=await(async()=>{try{const e=await _g(Tp(mv,Hq));let t=e.size,n=0,s=0,r=0,i=0;e.docs.forEach((e=>{const t=e.data();n+=t.viewCount||0,s+=t.likeCount||0,r+=t.commentCount||0,i+=t.shareCount||0}));const a=t>0?Math.round(n/t):0;return{totalPosts:t,totalViews:n,totalLikes:s,totalComments:r,totalShares:i,avgViewsPerPost:a}}catch(e){throw e}})(),t=await(async(e=5)=>{try{const t=ug(Tp(mv,Hq),gg("viewCount","desc"),yg(e));return(await _g(t)).docs.map((e=>{const t=e.data();return{postId:e.id,title:t.title||"",views:t.viewCount||0,likes:t.likeCount||0,comments:t.commentCount||0,shares:t.shareCount||0}}))}catch(t){throw t}})(5),n="7days"===r?7:"30days"===r?30:"90days"===r?90:365,s=await(async(e=30)=>{try{const t=KD(new Date,e),n=ug(Tp(mv,"blogViews"),mg("createdAt",">=",t),gg("createdAt","asc")),s=await _g(n),r={};for(let a=0;a<e;a++){const t=qD(KD(new Date,e-a-1),"yyyy-MM-dd");r[t]={date:t,views:0,likes:0,comments:0,shares:0}}s.docs.forEach((e=>{const t=qD(e.data().createdAt.toDate(),"yyyy-MM-dd");r[t]&&r[t].views++}));const i=ug(Tp(mv,"blogInteractions"),mg("createdAt",">=",t),gg("createdAt","asc"));return(await _g(i)).docs.forEach((e=>{const t=e.data(),n=qD(t.createdAt.toDate(),"yyyy-MM-dd");if(r[n])switch(t.type){case"like":r[n].likes++;break;case"comment":r[n].comments++;break;case"share":r[n].shares++}})),Object.values(r)}catch(t){throw t}})(n);o({...e,popularPosts:t,viewsData:s,commentsData:s})}catch(e){Pt.error("    ")}finally{s(!1)}})()}),[r]);const l=Math.round(a.totalViews/((null==(e=a.viewsData)?void 0:e.length)||1)),c=Math.round(a.totalComments/((null==(t=a.viewsData)?void 0:t.length)||1)),d=e=>qD(new Date(e),"d MMM",{locale:eR});return X.jsxs(mV,{children:[X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "}),X.jsx("p",{className:"text-muted-foreground mt-2",children:"       "})]}),X.jsx(Lk,{}),X.jsx("div",{className:"flex justify-end",children:X.jsx(ak,{defaultValue:"30days",value:r,onValueChange:i,children:X.jsxs(ok,{children:[X.jsx(lk,{value:"7days",children:"7 "}),X.jsx(lk,{value:"30days",children:"30 "}),X.jsx(lk,{value:"90days",children:"90 "}),X.jsx(lk,{value:"year",children:""})]})})}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[X.jsx(Kq,{title:" ",value:n?"...":a.totalViews.toLocaleString(),description:"    ",icon:Gw,trend:"up",percentage:12}),X.jsx(Kq,{title:"  ",value:n?"...":l.toLocaleString(),description:"    ",icon:Lw}),X.jsx(Kq,{title:" ",value:n?"...":a.totalComments.toLocaleString(),description:"    ",icon:pj,trend:"up",percentage:8}),X.jsx(Kq,{title:"  ",value:n?"...":c.toLocaleString(),description:"    ",icon:Lw})]}),X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"   "})]}),X.jsx(lj,{className:"h-4 w-4 text-muted-foreground"})]})}),X.jsx(qk,{children:n?X.jsx("div",{className:"flex justify-center items-center h-[200px]",children:X.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(()=>{if(!a.viewsData||0===a.viewsData.length)return null;const e=a.viewsData,t=Math.max(...e.map((e=>e.views||0))),n=200,s=40,r=e.map(((n,r)=>`${s+520*r/(e.length-1)},${160-n.views/t*120}`)).join(" "),i=e.filter(((e,t)=>t%5==0)).map(((t,n)=>{const r=s+5*n*520/(e.length-1);return X.jsx("text",{x:r,y:190,textAnchor:"middle",fontSize:"10",fill:"#6b7280",children:d(t.date)},`x-${n}`)})),o=[0,t/2,t].map(((e,t)=>{const n=160-120*t/2;return X.jsx("text",{x:30,y:n,textAnchor:"end",dominantBaseline:"middle",fontSize:"10",fill:"#6b7280",children:Math.round(e)},`y-${t}`)}));return X.jsxs("svg",{width:"100%",height:n,viewBox:"0 0 600 200",preserveAspectRatio:"xMidYMid meet",children:[X.jsx("line",{x1:s,y1:160,x2:560,y2:160,stroke:"#e5e7eb",strokeWidth:"1"}),X.jsx("line",{x1:s,y1:s,x2:s,y2:160,stroke:"#e5e7eb",strokeWidth:"1"}),X.jsx("line",{x1:s,y1:100,x2:560,y2:100,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4"}),X.jsx("line",{x1:s,y1:s,x2:560,y2:s,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4"}),X.jsx("polyline",{points:r,fill:"none",stroke:"#3b82f6",strokeWidth:"2"}),e.map(((n,r)=>{const i=s+520*r/(e.length-1),a=160-n.views/t*120;return X.jsx("circle",{cx:i,cy:a,r:"3",fill:"#3b82f6"},r)})),i,o]})})()})]}),X.jsxs(Uk,{children:[X.jsx(zk,{children:X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx(Vk,{children:""}),X.jsx(Bk,{children:"   "})]}),X.jsx(Mw,{className:"h-4 w-4 text-muted-foreground"})]})}),X.jsx(qk,{children:n?X.jsx("div",{className:"flex justify-center items-center h-[200px]",children:X.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(()=>{if(!a.commentsData||0===a.commentsData.length)return null;const e=a.commentsData,t=Math.max(...e.map((e=>e.comments||0))),n=200,s=40,r=520/e.length-2,i=e.map(((n,i)=>{const a=s+i*(520/e.length),o=n.comments/t*120,l=160-o;return X.jsx("rect",{x:a,y:l,width:r,height:o,fill:"#10b981",rx:"2",ry:"2"},i)})),o=e.filter(((e,t)=>t%5==0)).map(((t,n)=>{const i=s+5*n*520/e.length+r/2;return X.jsx("text",{x:i,y:190,textAnchor:"middle",fontSize:"10",fill:"#6b7280",children:d(t.date)},`x-${n}`)})),l=[0,t/2,t].map(((e,t)=>{const n=160-120*t/2;return X.jsx("text",{x:30,y:n,textAnchor:"end",dominantBaseline:"middle",fontSize:"10",fill:"#6b7280",children:Math.round(e)},`y-${t}`)}));return X.jsxs("svg",{width:"100%",height:n,viewBox:"0 0 600 200",preserveAspectRatio:"xMidYMid meet",children:[X.jsx("line",{x1:s,y1:160,x2:560,y2:160,stroke:"#e5e7eb",strokeWidth:"1"}),X.jsx("line",{x1:s,y1:s,x2:s,y2:160,stroke:"#e5e7eb",strokeWidth:"1"}),X.jsx("line",{x1:s,y1:100,x2:560,y2:100,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4"}),X.jsx("line",{x1:s,y1:s,x2:560,y2:s,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"4"}),i,o,l]})})()})]})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex justify-between items-start",children:[X.jsxs("div",{children:[X.jsx(Vk,{children:" "}),X.jsx(Bk,{children:"    "})]}),X.jsx(Cw,{variant:"outline",size:"sm",asChild:!0,children:X.jsx(ct,{to:"/admin/blog/posts",children:" "})})]}),X.jsx(qk,{children:n?X.jsx("div",{className:"flex justify-center items-center h-[200px]",children:X.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):X.jsx("div",{className:"space-y-6",children:a.popularPosts.map(((e,t)=>X.jsxs("div",{className:"flex items-start justify-between",children:[X.jsxs("div",{className:"flex items-start space-x-4",children:[X.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-medium",children:t+1}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-medium",children:e.title}),X.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx(Gw,{className:"h-3.5 w-3.5 mr-1"}),e.views]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(pj,{className:"h-3.5 w-3.5 mr-1"}),e.comments]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx(Oj,{className:"h-3.5 w-3.5 mr-1"}),e.likes]})]})]})]}),X.jsx(Cw,{variant:"ghost",size:"sm",asChild:!0,children:X.jsx("a",{href:`/admin/blog/posts?id=${e.id}`,children:""})})]},e.id)))})})]}),X.jsxs(Uk,{children:[X.jsxs(zk,{className:"flex justify-between items-start",children:[X.jsxs("div",{children:[X.jsx(Vk,{children:"  "}),X.jsx(Bk,{children:"   "})]}),X.jsx(Cw,{variant:"outline",size:"sm",asChild:!0,children:X.jsx(ct,{to:"/admin/blog/tags",children:" "})})]}),X.jsx(qk,{children:n?X.jsx("div",{className:"flex justify-center items-center h-[200px]",children:X.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsx("div",{children:X.jsx("div",{className:"space-y-4",children:a.viewsData&&a.viewsData.slice(0,5).map((e=>X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx("h3",{className:"font-medium",children:e.date}),X.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.comments||0," "]})]}),X.jsxs("div",{className:"text-right",children:[X.jsx("p",{className:"font-medium",children:(e.views||0).toLocaleString()}),X.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]},e.date)))})}),X.jsx("div",{className:"flex items-center justify-center",children:X.jsxs("div",{className:"relative w-[200px] h-[200px]",children:[X.jsx(wj,{className:"w-full h-full text-muted-foreground"}),X.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[X.jsx("p",{className:"text-2xl font-bold",children:a.totalViews.toLocaleString()}),X.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})]})})]})]}),X.jsxs(Uk,{className:"mt-6",children:[X.jsx(zk,{children:X.jsx(Vk,{children:" "})}),X.jsx(qk,{children:X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X.jsx(Cw,{asChild:!0,className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/blog/posts",children:[X.jsx(Xw,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:" "})]})}),X.jsx(Cw,{asChild:!0,variant:"secondary",className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/blog/posts?new=true",children:[X.jsx(Xw,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:"  "})]})}),X.jsx(Cw,{asChild:!0,variant:"outline",className:"h-auto py-4 flex flex-col",children:X.jsxs(ct,{to:"/admin/blog/comments",children:[X.jsx(pj,{className:"h-8 w-8 mb-2"}),X.jsx("span",{children:" "})]})})]})})]})]})};function Gq(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(null==e||e(s),!1===n||!s.defaultPrevented)return null==t?void 0:t(s)}}var Qq=Symbol("radix.slottable");function Yq(e){const t=({children:e})=>X.jsx(X.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=Qq,t}var Xq="AlertDialog",[Jq,Zq]=ee(Xq,[st]),e$=st(),t$=e=>{const{__scopeAlertDialog:t,...n}=e,s=e$(t);return X.jsx(ge,{...s,...n,modal:!0})};t$.displayName=Xq;lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=e$(n);return X.jsx(xe,{...r,...s,ref:t})})).displayName="AlertDialogTrigger";var n$=e=>{const{__scopeAlertDialog:t,...n}=e,s=e$(t);return X.jsx(ue,{...s,...n})};n$.displayName="AlertDialogPortal";var s$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=e$(n);return X.jsx(de,{...r,...s,ref:t})}));s$.displayName="AlertDialogOverlay";var r$="AlertDialogContent",[i$,a$]=Jq(r$),o$=Yq("AlertDialogContent"),l$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,children:s,...r}=e,i=e$(n),a=lt.useRef(null),o=Fe(t,a),l=lt.useRef(null);return X.jsx(rt,{contentName:r$,titleName:c$,docsSlug:"alert-dialog",children:X.jsx(i$,{scope:n,cancelRef:l,children:X.jsxs(he,{role:"alertdialog",...i,...r,ref:o,onOpenAutoFocus:Gq(r.onOpenAutoFocus,(e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[X.jsx(o$,{children:s}),X.jsx(g$,{contentRef:a})]})})})}));l$.displayName=r$;var c$="AlertDialogTitle",d$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=e$(n);return X.jsx(fe,{...r,...s,ref:t})}));d$.displayName=c$;var u$="AlertDialogDescription",h$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=e$(n);return X.jsx(pe,{...r,...s,ref:t})}));h$.displayName=u$;var m$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=e$(n);return X.jsx(me,{...r,...s,ref:t})}));m$.displayName="AlertDialogAction";var f$="AlertDialogCancel",p$=lt.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:r}=a$(f$,n),i=e$(n),a=Fe(t,r);return X.jsx(me,{...i,...s,ref:a})}));p$.displayName=f$;var g$=({contentRef:e})=>{const t=`\`${r$}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${r$}\` by passing a \`${u$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${r$}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return lt.useEffect((()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))}),[t,e]),null},x$=s$,y$=l$,v$=m$,b$=p$,w$=d$,j$=h$;const N$=t$,k$=n$,C$=lt.forwardRef((({className:e,...t},n)=>X.jsx(x$,{className:Nw("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n})));C$.displayName=x$.displayName;const S$=lt.forwardRef((({className:e,...t},n)=>X.jsxs(k$,{children:[X.jsx(C$,{}),X.jsx(y$,{ref:n,className:Nw("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]})));S$.displayName=y$.displayName;const T$=({className:e,...t})=>X.jsx("div",{className:Nw("flex flex-col space-y-2 text-center sm:text-left",e),...t});T$.displayName="AlertDialogHeader";const E$=({className:e,...t})=>X.jsx("div",{className:Nw("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});E$.displayName="AlertDialogFooter";const A$=lt.forwardRef((({className:e,...t},n)=>X.jsx(w$,{ref:n,className:Nw("text-lg font-semibold",e),...t})));A$.displayName=w$.displayName;const I$=lt.forwardRef((({className:e,...t},n)=>X.jsx(j$,{ref:n,className:Nw("text-sm text-muted-foreground",e),...t})));I$.displayName=j$.displayName;const _$=lt.forwardRef((({className:e,...t},n)=>X.jsx(v$,{ref:n,className:Nw(kw(),e),...t})));_$.displayName=v$.displayName;const P$=lt.forwardRef((({className:e,...t},n)=>X.jsx(b$,{ref:n,className:Nw(kw({variant:"outline"}),"mt-2 sm:mt-0",e),...t})));P$.displayName=b$.displayName;const D$=({rating:e,onChange:t})=>X.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map((n=>X.jsx(Rj,{className:"h-5 w-5 cursor-pointer transition-colors "+(n<=e?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-200"),onClick:()=>null==t?void 0:t(n)},n)))}),R$=()=>{const[e,t]=lt.useState([]),[n,s]=lt.useState(!0),[r,i]=lt.useState(""),[a,o]=lt.useState(!1),[l,c]=lt.useState(!1),[d,u]=lt.useState(null),[h,m]=lt.useState({name:"",comment:"",rating:5,isActive:!0}),[f,p]=lt.useState(null),[g,x]=lt.useState(null),[y,v]=lt.useState(!1),[b,w]=lt.useState(0),j=lt.useRef(null),N=async()=>{s(!0);try{const e=await(async()=>{try{const e=ug(Tp(mv,nR),gg("createdAt","desc"));return(await _g(e)).docs.map((e=>{var t,n;const s=e.data();return{id:e.id,...s,createdAt:(null==(t=s.createdAt)?void 0:t.toDate())||new Date,updatedAt:null==(n=s.updatedAt)?void 0:n.toDate()}}))}catch(e){throw e}})();t(e)}catch(e){Pt.error("   ")}finally{s(!1)}};lt.useEffect((()=>{N()}),[]);const k=e.filter((e=>{if(!r)return!0;const t=r.toLowerCase();return e.name.toLowerCase().includes(t)||e.comment.toLowerCase().includes(t)})),C=()=>{u(null),m({name:"",comment:"",rating:5,isActive:!0}),p(null),x(null),o(!0)},S=async e=>{try{await(async(e,t)=>{try{const n=Ep(mv,nR,e);await Dg(n,{isActive:t,updatedAt:Ol.now()})}catch(n){throw n}})(e.id,!e.isActive),Pt.success(e.isActive?" ":" "),N()}catch(t){Pt.error("   ")}};return X.jsxs(mV,{children:[X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" "}),X.jsx("p",{className:"text-muted-foreground",children:" ,    "})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs("div",{className:"relative",children:[X.jsx(Cj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),X.jsx(dk,{type:"search",placeholder:"...",className:"pl-8 w-full md:w-[250px]",value:r,onChange:e=>i(e.target.value)})]}),X.jsxs(Cw,{onClick:C,children:[X.jsx(jj,{className:"h-4 w-4 mr-2"}),""]})]})]}),X.jsxs(Uk,{children:[X.jsx(zk,{className:"p-4",children:X.jsxs(Vk,{className:"text-base flex items-center gap-2",children:[X.jsx(pj,{className:"h-5 w-5"}),"  (",k.length,")"]})}),X.jsx(qk,{className:"p-0",children:n?X.jsx("div",{className:"flex items-center justify-center py-12",children:X.jsx(dj,{className:"h-8 w-8 animate-spin text-primary"})}):0===k.length?X.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[X.jsx(pj,{className:"h-12 w-12 text-muted-foreground mb-4"}),X.jsx("h3",{className:"text-lg font-medium",children:"  "}),X.jsx("p",{className:"text-muted-foreground mt-1",children:r?"   ":"   "}),!r&&X.jsxs(Cw,{className:"mt-4",onClick:C,children:[X.jsx(jj,{className:"h-4 w-4 mr-2"})," "]})]}):X.jsxs(qB,{children:[X.jsx($B,{children:X.jsxs(KB,{children:[X.jsx(WB,{children:""}),X.jsx(WB,{className:"hidden md:table-cell",children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"hidden md:table-cell",children:""}),X.jsx(WB,{children:""}),X.jsx(WB,{className:"text-right",children:""})]})}),X.jsx(HB,{children:k.map((e=>{return X.jsxs(KB,{children:[X.jsx(GB,{children:X.jsxs("div",{className:"flex items-center gap-3",children:[e.imageUrl?X.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):X.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:X.jsx(Bj,{className:"h-5 w-5 text-primary"})}),X.jsx("span",{className:"font-medium",children:e.name})]})}),X.jsx(GB,{className:"hidden md:table-cell max-w-[300px]",children:X.jsx("p",{className:"truncate text-muted-foreground",children:e.comment})}),X.jsx(GB,{children:X.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map((t=>X.jsx(Rj,{className:"h-4 w-4 "+(t<=e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300")},t)))})}),X.jsx(GB,{className:"hidden md:table-cell",children:(t=e.createdAt,new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric"}).format(t))}),X.jsx(GB,{children:X.jsx(lq,{checked:e.isActive,onCheckedChange:()=>S(e),"aria-label":e.isActive?" ":" "})}),X.jsx(GB,{className:"text-right",children:X.jsxs("div",{className:"flex items-center justify-end gap-1",children:[X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{u(e),m({name:e.name,comment:e.comment,rating:e.rating,isActive:e.isActive}),p(null),x(e.imageUrl||null),o(!0)})(e),children:X.jsx(Dj,{className:"h-4 w-4"})}),X.jsx(Cw,{variant:"ghost",size:"icon",onClick:()=>(e=>{u(e),c(!0)})(e),children:X.jsx(Lj,{className:"h-4 w-4 text-red-500"})})]})})]},e.id);var t}))})]})})]})]}),X.jsx(dq,{open:a,onOpenChange:o,children:X.jsxs(fq,{className:"sm:max-w-[500px]",children:[X.jsxs(pq,{children:[X.jsx(xq,{children:d?" ":" "}),X.jsx(yq,{children:d?"  ":"   "})]}),X.jsxs("div",{className:"space-y-4 py-4",children:[X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{children:" "}),X.jsxs("div",{className:"flex items-center gap-4",children:[g?X.jsxs("div",{className:"relative",children:[X.jsx("img",{src:g,alt:"Preview",className:"w-20 h-20 rounded-full object-cover"}),X.jsx(Cw,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:()=>{p(null),x(null),j.current&&(j.current.value="")},children:X.jsx(Hj,{className:"h-3 w-3"})})]}):X.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center cursor-pointer hover:bg-muted/80 transition-colors",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},children:X.jsx(Vj,{className:"h-8 w-8 text-muted-foreground"})}),X.jsxs("div",{className:"flex-1",children:[X.jsxs(Cw,{variant:"outline",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},disabled:y,children:[X.jsx(Vj,{className:"h-4 w-4 mr-2"})," "]}),X.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG  WebP.  ."})]}),X.jsx("input",{ref:j,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(!n)return;if(!function(e){return["image/jpeg","image/png","image/webp","image/bmp","image/gif"].includes(e.type)}(n))return void Pt.error("  .  JPG, PNG  WebP");p(n);const s=new FileReader;s.onload=e=>{var t;x(null==(t=e.target)?void 0:t.result)},s.readAsDataURL(n),Pt.info(` : ${n.name} (${function(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}(n.size)})`)}})]})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"name",children:"  *"}),X.jsx(dk,{id:"name",value:h.name,onChange:e=>m({...h,name:e.target.value}),placeholder:" ",disabled:y})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{htmlFor:"comment",children:"  *"}),X.jsx(UM,{id:"comment",value:h.comment,onChange:e=>m({...h,comment:e.target.value}),placeholder:"  ",rows:4,disabled:y})]}),X.jsxs("div",{className:"space-y-2",children:[X.jsx(TR,{children:""}),X.jsx(D$,{rating:h.rating,onChange:e=>m({...h,rating:e})})]}),X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsxs("div",{children:[X.jsx(TR,{htmlFor:"isActive",children:"  "}),X.jsx("p",{className:"text-xs text-muted-foreground",children:"     "})]}),X.jsx(lq,{id:"isActive",checked:h.isActive,onCheckedChange:e=>m({...h,isActive:e}),disabled:y})]}),y&&b>0&&b<100&&X.jsxs("div",{className:"space-y-1",children:[X.jsxs("div",{className:"flex justify-between text-sm",children:[X.jsx("span",{children:" ..."}),X.jsxs("span",{children:[b,"%"]})]}),X.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:X.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${b}%`}})})]})]}),X.jsxs(gq,{children:[X.jsx(Cw,{variant:"outline",onClick:()=>o(!1),disabled:y,children:""}),X.jsx(Cw,{onClick:async()=>{if(h.name.trim())if(h.comment.trim()){v(!0),w(0);try{d?(await(async(e,t,n,s)=>{try{const r=Ep(mv,nR,e);if(n){const r=await sb(n,{maxSizeMB:.3,maxWidthOrHeight:500,quality:.85,fileType:"image/webp",onProgress:s}),i=await sR(e);if(null==i?void 0:i.imageUrl)try{const e=Yx(fv,i.imageUrl);await Qx(e)}catch(Tv){}const a=Date.now(),o=Yx(fv,`testimonials/${e}/${a}.webp`);await Wx(o,r.file);const l=await Gx(o);t.imageUrl=l}await Dg(r,{...t,updatedAt:Ol.now()})}catch(r){throw r}})(d.id,h,f||void 0,(e=>w(e))),Pt.success(" ")):(await(async(e,t,n)=>{try{const s=await Mg(Tp(mv,nR),{...e,isActive:e.isActive??!0,createdAt:Ol.now()});if(t){const e=await sb(t,{maxSizeMB:.3,maxWidthOrHeight:500,quality:.85,fileType:"image/webp",onProgress:n}),r=Date.now(),i=Yx(fv,`testimonials/${s.id}/${r}.webp`);await Wx(i,e.file);const a=await Gx(i);await Dg(s,{imageUrl:a})}return s.id}catch(s){throw s}})(h,f||void 0,(e=>w(e))),Pt.success(" ")),o(!1),N()}catch(e){Pt.error("   ")}finally{v(!1),w(0)}}else Pt.error("  ");else Pt.error("  ")},disabled:y,children:y?X.jsxs(X.Fragment,{children:[X.jsx(dj,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):d?"":""})]})]})}),X.jsx(N$,{open:l,onOpenChange:c,children:X.jsxs(S$,{children:[X.jsxs(T$,{children:[X.jsx(A$,{children:" ?"}),X.jsxs(I$,{children:[' ,      "',null==d?void 0:d.name,'"?    .']})]}),X.jsxs(E$,{children:[X.jsx(P$,{children:""}),X.jsx(_$,{onClick:async()=>{if(d)try{await(async e=>{try{const t=await sR(e);if(null==t?void 0:t.imageUrl)try{const e=Yx(fv,t.imageUrl);await Qx(e)}catch(Tv){}await Rg(Ep(mv,nR,e))}catch(t){throw t}})(d.id),Pt.success(" "),c(!1),N()}catch(e){Pt.error("   ")}},className:"bg-red-600 hover:bg-red-700",children:""})]})]})})]})},M$=new kn({defaultOptions:{queries:{staleTime:3e5,retry:1}}}),O$=X.jsx(xt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:X.jsxs(yt,{children:[X.jsx(vt,{path:"/",element:X.jsx(aR,{})}),X.jsx(vt,{path:"/catalog",element:X.jsx(OM,{})}),X.jsx(vt,{path:"/catalog/:category",element:X.jsx(OM,{})}),X.jsx(vt,{path:"/product/:id",element:X.jsx(Hz,{})}),X.jsx(vt,{path:"/blog",element:X.jsx(HM,{})}),X.jsx(vt,{path:"/blog/:id",element:X.jsx(Bz,{})}),X.jsx(vt,{path:"/contact",element:X.jsx(qz,{})}),X.jsx(vt,{path:"/cart",element:X.jsx(Kz,{})}),X.jsx(vt,{path:"/custom-bouquet",element:X.jsx(qM,{})}),X.jsx(vt,{path:"/login",element:X.jsx(iV,{})}),X.jsx(vt,{path:"/register",element:X.jsx(aV,{})}),X.jsx(vt,{path:"/delivery",element:X.jsx(uV,{})}),X.jsx(vt,{path:"/account",element:X.jsx(hV,{children:X.jsx(oV,{})})}),X.jsx(vt,{path:"/checkout",element:X.jsx(hV,{children:X.jsx("div",{children:"Checkout Page ( )"})})}),X.jsx(vt,{path:"/admin",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(bV,{})})}),X.jsx(vt,{path:"/admin/products",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(QB,{})})}),X.jsx(vt,{path:"/admin/products/new",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(cq,{})})}),X.jsx(vt,{path:"/admin/products/edit/:id",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(cq,{})})}),X.jsx(vt,{path:"/admin/categories",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Aq,{})})}),X.jsx(vt,{path:"/admin/flowers",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Rq,{})})}),X.jsx(vt,{path:"/admin/bouquet-flowers",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Fq,{})})}),X.jsx(vt,{path:"/admin/orders",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(jq,{})})}),X.jsx(vt,{path:"/admin/users",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(kq,{})})}),X.jsx(vt,{path:"/admin/blog",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Uq,{})})}),X.jsx(vt,{path:"/admin/blog/posts",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(zq,{})})}),X.jsx(vt,{path:"/admin/blog/tags",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Vq,{})})}),X.jsx(vt,{path:"/admin/blog/comments",element:X.jsx(hV,{adminOnly:!0,children:X.jsx($q,{})})}),X.jsx(vt,{path:"/admin/blog/analytics",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Wq,{})})}),X.jsx(vt,{path:"/admin/testimonials",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(R$,{})})}),X.jsx(vt,{path:"/admin/settings",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Cq,{})})}),X.jsx(vt,{path:"/admin/reports",element:X.jsx(hV,{adminOnly:!0,children:X.jsx(Eq,{})})}),X.jsx(vt,{path:"*",element:X.jsx($z,{})})]})});function L$(){return X.jsx(Sn,{client:M$,children:X.jsx(xb,{children:X.jsx(Nb,{children:X.jsx(Cb,{children:X.jsxs(Kj,{children:[X.jsx(zt,{position:"top-right"}),O$]})})})})})}V(document.getElementById("root")).render(X.jsx(lt.StrictMode,{children:X.jsx(L$,{})}));
